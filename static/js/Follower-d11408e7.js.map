{"version":3,"file":"Follower-d11408e7.js","sources":["../../../node_modules/naive-ui/es/_internal/select-menu/src/interface.js","../../../node_modules/naive-ui/es/modal/src/interface.js","../../../node_modules/naive-ui/es/drawer/src/interface.js","../../../node_modules/naive-ui/es/popover/src/interface.js","../../../node_modules/naive-ui/es/_utils/composable/use-adjusted-to.js","../../../node_modules/vueuc/es/shared/v-node.js","../../../node_modules/vueuc/es/binder/src/utils.js","../../../node_modules/vueuc/es/binder/src/Binder.js","../../../node_modules/vueuc/es/binder/src/Target.js","../../../node_modules/vdirs/es/clickoutside.js","../../../node_modules/vdirs/es/zindexable/z-index-manager.js","../../../node_modules/vdirs/es/zindexable/index.js","../../../node_modules/vueuc/es/lazy-teleport/src/index.js","../../../node_modules/vueuc/es/binder/src/get-placement-style.js","../../../node_modules/vueuc/es/binder/src/Follower.js"],"sourcesContent":["import { createInjectionKey } from '../../../_utils/vue/create-injection-key';\nexport const internalSelectionMenuInjectionKey = createInjectionKey('n-internal-select-menu');\nexport const internalSelectionMenuBodyInjectionKey = createInjectionKey('n-internal-select-menu-body');\n","import { createInjectionKey } from '../../_utils/vue/create-injection-key';\nexport const modalBodyInjectionKey = createInjectionKey('n-modal-body');\nexport const modalInjectionKey = createInjectionKey('n-modal');\n","import { createInjectionKey } from '../../_utils/vue/create-injection-key';\nexport const drawerBodyInjectionKey = createInjectionKey('n-drawer-body');\nexport const drawerInjectionKey = createInjectionKey('n-drawer');\n","import { createInjectionKey } from '../../_utils/vue/create-injection-key';\nexport const popoverBodyInjectionKey = createInjectionKey('n-popover-body');\n","import { useMemo } from 'vooks';\nimport { on, off } from 'evtd';\nimport { inject, onBeforeUnmount, onMounted, ref } from 'vue';\nimport { internalSelectionMenuBodyInjectionKey } from '../../_internal/select-menu/src/interface';\nimport { modalBodyInjectionKey } from '../../modal/src/interface';\nimport { drawerBodyInjectionKey } from '../../drawer/src/interface';\nimport { popoverBodyInjectionKey } from '../../popover/src/interface';\nconst teleportDisabled = '__disabled__';\nfunction useAdjustedTo(props) {\n    const modal = inject(modalBodyInjectionKey, null);\n    const drawer = inject(drawerBodyInjectionKey, null);\n    const popover = inject(popoverBodyInjectionKey, null);\n    const selectMenu = inject(internalSelectionMenuBodyInjectionKey, null);\n    const fullscreenElementRef = ref();\n    if (typeof document !== 'undefined') {\n        fullscreenElementRef.value = document.fullscreenElement;\n        const handleFullscreenChange = () => {\n            fullscreenElementRef.value = document.fullscreenElement;\n        };\n        onMounted(() => {\n            on('fullscreenchange', document, handleFullscreenChange);\n        });\n        onBeforeUnmount(() => {\n            off('fullscreenchange', document, handleFullscreenChange);\n        });\n    }\n    return useMemo(() => {\n        var _a;\n        const { to } = props;\n        if (to !== undefined) {\n            if (to === false)\n                return teleportDisabled;\n            if (to === true)\n                return fullscreenElementRef.value || 'body';\n            return to;\n        }\n        if (modal === null || modal === void 0 ? void 0 : modal.value) {\n            return (_a = modal.value.$el) !== null && _a !== void 0 ? _a : modal.value;\n        }\n        if (drawer === null || drawer === void 0 ? void 0 : drawer.value)\n            return drawer.value;\n        if (popover === null || popover === void 0 ? void 0 : popover.value)\n            return popover.value;\n        if (selectMenu === null || selectMenu === void 0 ? void 0 : selectMenu.value)\n            return selectMenu.value;\n        return to !== null && to !== void 0 ? to : (fullscreenElementRef.value || 'body');\n    });\n}\n// teleport disabled key\nuseAdjustedTo.tdkey = teleportDisabled;\nuseAdjustedTo.propTo = {\n    type: [String, Object, Boolean],\n    default: undefined\n};\nexport { useAdjustedTo };\n","import { Fragment, createTextVNode, Comment } from 'vue';\nexport function getSlot(scope, slots, slotName = 'default') {\n    const slot = slots[slotName];\n    if (slot === undefined) {\n        throw new Error(`[vueuc/${scope}]: slot[${slotName}] is empty.`);\n    }\n    return slot();\n}\n// o(n) flatten\nexport function flatten(vNodes, filterCommentNode = true, result = []) {\n    vNodes.forEach((vNode) => {\n        if (vNode === null)\n            return;\n        if (typeof vNode !== 'object') {\n            if (typeof vNode === 'string' || typeof vNode === 'number') {\n                result.push(createTextVNode(String(vNode)));\n            }\n            return;\n        }\n        if (Array.isArray(vNode)) {\n            flatten(vNode, filterCommentNode, result);\n            return;\n        }\n        if (vNode.type === Fragment) {\n            if (vNode.children === null)\n                return;\n            if (Array.isArray(vNode.children)) {\n                flatten(vNode.children, filterCommentNode, result);\n            }\n            // rawSlot\n        }\n        else if (vNode.type !== Comment) {\n            result.push(vNode);\n        }\n    });\n    return result;\n}\nexport function getFirstVNode(scope, slots, slotName = 'default') {\n    const slot = slots[slotName];\n    if (slot === undefined) {\n        throw new Error(`[vueuc/${scope}]: slot[${slotName}] is empty.`);\n    }\n    const content = flatten(slot());\n    // vue will normalize the slot, so slot must be an array\n    if (content.length === 1) {\n        return content[0];\n    }\n    else {\n        throw new Error(`[vueuc/${scope}]: slot[${slotName}] should have exactly one child.`);\n    }\n}\n","let viewMeasurer = null;\nexport function ensureViewBoundingRect() {\n    if (viewMeasurer === null) {\n        viewMeasurer = document.getElementById('v-binder-view-measurer');\n        if (viewMeasurer === null) {\n            viewMeasurer = document.createElement('div');\n            viewMeasurer.id = 'v-binder-view-measurer';\n            const { style } = viewMeasurer;\n            style.position = 'fixed';\n            style.left = '0';\n            style.right = '0';\n            style.top = '0';\n            style.bottom = '0';\n            style.pointerEvents = 'none';\n            style.visibility = 'hidden';\n            document.body.appendChild(viewMeasurer);\n        }\n    }\n    return viewMeasurer.getBoundingClientRect();\n}\nexport function getPointRect(x, y) {\n    const viewRect = ensureViewBoundingRect();\n    return {\n        top: y,\n        left: x,\n        height: 0,\n        width: 0,\n        right: viewRect.width - x,\n        bottom: viewRect.height - y\n    };\n}\nexport function getRect(el) {\n    const elRect = el.getBoundingClientRect();\n    const viewRect = ensureViewBoundingRect();\n    return {\n        left: elRect.left - viewRect.left,\n        top: elRect.top - viewRect.top,\n        bottom: viewRect.height + viewRect.top - elRect.bottom,\n        right: viewRect.width + viewRect.left - elRect.right,\n        width: elRect.width,\n        height: elRect.height\n    };\n}\nexport function getParentNode(node) {\n    // document type\n    if (node.nodeType === 9) {\n        return null;\n    }\n    return node.parentNode;\n}\nexport function getScrollParent(node) {\n    if (node === null)\n        return null;\n    const parentNode = getParentNode(node);\n    if (parentNode === null) {\n        return null;\n    }\n    // Document\n    if (parentNode.nodeType === 9) {\n        return document;\n    }\n    // Element\n    if (parentNode.nodeType === 1) {\n        // Firefox want us to check `-x` and `-y` variations as well\n        const { overflow, overflowX, overflowY } = getComputedStyle(parentNode);\n        if (/(auto|scroll|overlay)/.test(overflow + overflowY + overflowX)) {\n            return parentNode;\n        }\n    }\n    return getScrollParent(parentNode);\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { defineComponent, provide, ref, inject, getCurrentInstance, onBeforeUnmount } from 'vue';\nimport { beforeNextFrameOnce } from 'seemly';\nimport { on, off } from 'evtd';\nimport { getSlot } from '../../shared/v-node';\nimport { getScrollParent } from './utils';\nconst Binder = defineComponent({\n    name: 'Binder',\n    props: {\n        syncTargetWithParent: Boolean,\n        syncTarget: {\n            type: Boolean,\n            default: true\n        }\n    },\n    setup(props) {\n        var _a;\n        provide('VBinder', (_a = getCurrentInstance()) === null || _a === void 0 ? void 0 : _a.proxy);\n        const VBinder = inject('VBinder', null);\n        const targetRef = ref(null);\n        /**\n         * If there's no nested vbinder, we can simply set the target ref.\n         *\n         * However, when it comes to:\n         * <VBinder> <- syncTarget = false\n         *\n         *              Should hold target DOM ref, but can't get it directly from\n         *              its VTarget. So if there are nested VBinder, we should:\n         *              1. Stop setting target DOM from level-1 VTarget\n         *              2. Set target DOM from level-2 VTarget\n         *              For (1), we need `syncTarget` to `false`\n         *              For (2), we need to set `syncTargetWithParent` to `true` on\n         *              level-2 VBinder\n         *   <VTarget>\n         *     <VBinder> <- syncTargetWithParent = true\n         *       <VTarget>target</VTarget>\n         *     </VBinder>\n         *     <VFollower>\n         *       content1\n         *     </VFollower>\n         *   </VTarget>\n         *   <VFollower>\n         *     content2\n         *   </VFollower>\n         * </VBinder>\n         */\n        const setTargetRef = (el) => {\n            targetRef.value = el;\n            // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n            if (VBinder && props.syncTargetWithParent) {\n                VBinder.setTargetRef(el);\n            }\n        };\n        // scroll related\n        let scrollableNodes = [];\n        const ensureScrollListener = () => {\n            let cursor = targetRef.value;\n            while (true) {\n                cursor = getScrollParent(cursor);\n                if (cursor === null)\n                    break;\n                scrollableNodes.push(cursor);\n            }\n            for (const el of scrollableNodes) {\n                on('scroll', el, onScroll, true);\n            }\n        };\n        const removeScrollListeners = () => {\n            for (const el of scrollableNodes) {\n                off('scroll', el, onScroll, true);\n            }\n            scrollableNodes = [];\n        };\n        const followerScrollListeners = new Set();\n        const addScrollListener = (listener) => {\n            if (followerScrollListeners.size === 0) {\n                ensureScrollListener();\n            }\n            if (!followerScrollListeners.has(listener)) {\n                followerScrollListeners.add(listener);\n            }\n        };\n        const removeScrollListener = (listener) => {\n            if (followerScrollListeners.has(listener)) {\n                followerScrollListeners.delete(listener);\n            }\n            if (followerScrollListeners.size === 0) {\n                removeScrollListeners();\n            }\n        };\n        const onScroll = () => {\n            beforeNextFrameOnce(onScrollRaf);\n        };\n        const onScrollRaf = () => {\n            followerScrollListeners.forEach((listener) => listener());\n        };\n        // resize related\n        const followerResizeListeners = new Set();\n        const addResizeListener = (listener) => {\n            if (followerResizeListeners.size === 0) {\n                on('resize', window, onResize);\n            }\n            if (!followerResizeListeners.has(listener)) {\n                followerResizeListeners.add(listener);\n            }\n        };\n        const removeResizeListener = (listener) => {\n            if (followerResizeListeners.has(listener)) {\n                followerResizeListeners.delete(listener);\n            }\n            if (followerResizeListeners.size === 0) {\n                off('resize', window, onResize);\n            }\n        };\n        const onResize = () => {\n            followerResizeListeners.forEach((listener) => listener());\n        };\n        onBeforeUnmount(() => {\n            off('resize', window, onResize);\n            removeScrollListeners();\n        });\n        return {\n            targetRef,\n            setTargetRef,\n            addScrollListener,\n            removeScrollListener,\n            addResizeListener,\n            removeResizeListener\n        };\n    },\n    render() {\n        return getSlot('binder', this.$slots);\n    }\n});\nexport default Binder;\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { defineComponent, inject, withDirectives } from 'vue';\nimport { getFirstVNode } from '../../shared/v-node';\nexport default defineComponent({\n    name: 'Target',\n    setup() {\n        const { setTargetRef, syncTarget } = inject('VBinder');\n        const setTargetDirective = {\n            mounted: setTargetRef,\n            updated: setTargetRef\n        };\n        return {\n            syncTarget,\n            setTargetDirective\n        };\n    },\n    render() {\n        const { syncTarget, setTargetDirective } = this;\n        /**\n         * If you are using VBinder as a child of VBinder, the children wouldn't be\n         * a valid DOM or component that can be attached to by directive.\n         * So we won't sync target on those kind of situation and control the\n         * target sync logic manually.\n         */\n        if (syncTarget) {\n            return withDirectives(getFirstVNode('follower', this.$slots), [\n                [setTargetDirective]\n            ]);\n        }\n        return getFirstVNode('follower', this.$slots);\n    }\n});\n","import { on, off } from 'evtd';\nconst ctxKey = '@@coContext';\nconst clickoutside = {\n    mounted(el, { value, modifiers }) {\n        el[ctxKey] = {\n            handler: undefined\n        };\n        if (typeof value === 'function') {\n            el[ctxKey].handler = value;\n            on('clickoutside', el, value, {\n                capture: modifiers.capture\n            });\n        }\n    },\n    updated(el, { value, modifiers }) {\n        const ctx = el[ctxKey];\n        if (typeof value === 'function') {\n            if (ctx.handler) {\n                if (ctx.handler !== value) {\n                    off('clickoutside', el, ctx.handler, {\n                        capture: modifiers.capture\n                    });\n                    ctx.handler = value;\n                    on('clickoutside', el, value, {\n                        capture: modifiers.capture\n                    });\n                }\n            }\n            else {\n                el[ctxKey].handler = value;\n                on('clickoutside', el, value, {\n                    capture: modifiers.capture\n                });\n            }\n        }\n        else {\n            if (ctx.handler) {\n                off('clickoutside', el, ctx.handler, {\n                    capture: modifiers.capture\n                });\n                ctx.handler = undefined;\n            }\n        }\n    },\n    unmounted(el, { modifiers }) {\n        const { handler } = el[ctxKey];\n        if (handler) {\n            off('clickoutside', el, handler, {\n                capture: modifiers.capture\n            });\n        }\n        el[ctxKey].handler = undefined;\n    }\n};\nexport default clickoutside;\n","import { warn } from '../utils';\nclass ZIndexManager {\n    constructor() {\n        this.elementZIndex = new Map();\n        this.nextZIndex = 2000;\n    }\n    get elementCount() {\n        return this.elementZIndex.size;\n    }\n    ensureZIndex(el, zIndex) {\n        const { elementZIndex } = this;\n        if (zIndex !== undefined) {\n            el.style.zIndex = `${zIndex}`;\n            elementZIndex.delete(el);\n            return;\n        }\n        const { nextZIndex } = this;\n        if (elementZIndex.has(el)) {\n            const currentZIndex = elementZIndex.get(el);\n            if (currentZIndex + 1 === this.nextZIndex)\n                return;\n        }\n        el.style.zIndex = `${nextZIndex}`;\n        elementZIndex.set(el, nextZIndex);\n        this.nextZIndex = nextZIndex + 1;\n        this.squashState();\n    }\n    unregister(el, zIndex) {\n        const { elementZIndex } = this;\n        if (elementZIndex.has(el)) {\n            elementZIndex.delete(el);\n        }\n        else if (zIndex === undefined) {\n            warn('z-index-manager/unregister-element', 'Element not found when unregistering.');\n        }\n        this.squashState();\n    }\n    squashState() {\n        const { elementCount } = this;\n        if (!elementCount) {\n            this.nextZIndex = 2000;\n        }\n        if (this.nextZIndex - elementCount > 2500)\n            this.rearrange();\n    }\n    rearrange() {\n        const elementZIndexPair = Array.from(this.elementZIndex.entries());\n        elementZIndexPair.sort((pair1, pair2) => {\n            return pair1[1] - pair2[1];\n        });\n        this.nextZIndex = 2000;\n        elementZIndexPair.forEach((pair) => {\n            const el = pair[0];\n            const zIndex = this.nextZIndex++;\n            if (`${zIndex}` !== el.style.zIndex)\n                el.style.zIndex = `${zIndex}`;\n        });\n    }\n}\nexport default new ZIndexManager();\n","import zIndexManager from './z-index-manager';\nconst ctx = '@@ziContext';\n// We don't expect manually bound zindex should be changed\nconst zindexable = {\n    mounted(el, bindings) {\n        const { value = {} } = bindings;\n        const { zIndex, enabled } = value;\n        el[ctx] = {\n            enabled: !!enabled,\n            initialized: false\n        };\n        if (enabled) {\n            zIndexManager.ensureZIndex(el, zIndex);\n            el[ctx].initialized = true;\n        }\n    },\n    updated(el, bindings) {\n        const { value = {} } = bindings;\n        const { zIndex, enabled } = value;\n        const cachedEnabled = el[ctx].enabled;\n        if (enabled && !cachedEnabled) {\n            zIndexManager.ensureZIndex(el, zIndex);\n            el[ctx].initialized = true;\n        }\n        el[ctx].enabled = !!enabled;\n    },\n    unmounted(el, bindings) {\n        if (!el[ctx].initialized)\n            return;\n        const { value = {} } = bindings;\n        const { zIndex } = value;\n        zIndexManager.unregister(el, zIndex);\n    }\n};\nexport default zindexable;\n","import { Teleport, h, toRef, computed, defineComponent } from 'vue';\nimport { useFalseUntilTruthy } from 'vooks';\nimport { getSlot } from '../../shared/v-node';\nexport default defineComponent({\n    name: 'LazyTeleport',\n    props: {\n        to: {\n            type: [String, Object],\n            default: undefined\n        },\n        disabled: Boolean,\n        show: {\n            type: Boolean,\n            required: true\n        }\n    },\n    setup(props) {\n        return {\n            showTeleport: useFalseUntilTruthy(toRef(props, 'show')),\n            mergedTo: computed(() => {\n                const { to } = props;\n                return to !== null && to !== void 0 ? to : 'body';\n            })\n        };\n    },\n    render() {\n        return this.showTeleport\n            ? this.disabled\n                ? getSlot('lazy-teleport', this.$slots)\n                : h(Teleport, {\n                    disabled: this.disabled,\n                    to: this.mergedTo\n                }, getSlot('lazy-teleport', this.$slots))\n            : null;\n    }\n});\n","const oppositionPositions = {\n    top: 'bottom',\n    bottom: 'top',\n    left: 'right',\n    right: 'left'\n};\nconst oppositeAligns = {\n    start: 'end',\n    center: 'center',\n    end: 'start'\n};\nconst propToCompare = {\n    top: 'height',\n    bottom: 'height',\n    left: 'width',\n    right: 'width'\n};\nconst transformOrigins = {\n    'bottom-start': 'top left',\n    bottom: 'top center',\n    'bottom-end': 'top right',\n    'top-start': 'bottom left',\n    top: 'bottom center',\n    'top-end': 'bottom right',\n    'right-start': 'top left',\n    right: 'center left',\n    'right-end': 'bottom left',\n    'left-start': 'top right',\n    left: 'center right',\n    'left-end': 'bottom right'\n};\nconst overlapTransformOrigin = {\n    'bottom-start': 'bottom left',\n    bottom: 'bottom center',\n    'bottom-end': 'bottom right',\n    'top-start': 'top left',\n    top: 'top center',\n    'top-end': 'top right',\n    'right-start': 'top right',\n    right: 'center right',\n    'right-end': 'bottom right',\n    'left-start': 'top left',\n    left: 'center left',\n    'left-end': 'bottom left'\n};\nconst oppositeAlignCssPositionProps = {\n    'bottom-start': 'right',\n    'bottom-end': 'left',\n    'top-start': 'right',\n    'top-end': 'left',\n    'right-start': 'bottom',\n    'right-end': 'top',\n    'left-start': 'bottom',\n    'left-end': 'top'\n};\nconst keepOffsetDirection = {\n    top: true,\n    bottom: false,\n    left: true,\n    right: false // left--\n};\nconst cssPositionToOppositeAlign = {\n    top: 'end',\n    bottom: 'start',\n    left: 'end',\n    right: 'start'\n};\nexport function getPlacementAndOffsetOfFollower(placement, targetRect, followerRect, shift, flip, overlap) {\n    if (!flip || overlap) {\n        return { placement: placement, top: 0, left: 0 };\n    }\n    const [position, align] = placement.split('-');\n    let properAlign = align !== null && align !== void 0 ? align : 'center';\n    let properOffset = {\n        top: 0,\n        left: 0\n    };\n    const deriveOffset = (oppositeAlignCssSizeProp, alignCssPositionProp, offsetVertically) => {\n        let left = 0;\n        let top = 0;\n        const diff = followerRect[oppositeAlignCssSizeProp] -\n            targetRect[alignCssPositionProp] -\n            targetRect[oppositeAlignCssSizeProp];\n        if (diff > 0 && shift) {\n            if (offsetVertically) {\n                //       screen border\n                // |-----------------------------------------|\n                // |                    | f  |               |\n                // |                    | o  |               |\n                // |                    | l  |               |\n                // |                    | l  |----           |\n                // |                    | o  |tar |          |\n                // |                    | w  |get |          |\n                // |                    | e  |    |          |\n                // |                    | r  |----           |\n                // |                     ----                |\n                // |-----------------------------------------|\n                top = keepOffsetDirection[alignCssPositionProp] ? diff : -diff;\n            }\n            else {\n                //       screen border\n                // |----------------------------------------|\n                // |                                        |\n                // |          ----------                    |\n                // |          | target |                    |\n                // |       ----------------------------------\n                // |       |       follower                 |\n                // |       ----------------------------------\n                // |                                        |\n                // |----------------------------------------|\n                left = keepOffsetDirection[alignCssPositionProp] ? diff : -diff;\n            }\n        }\n        return {\n            left,\n            top\n        };\n    };\n    const offsetVertically = position === 'left' || position === 'right';\n    // choose proper placement for non-center align\n    if (properAlign !== 'center') {\n        const oppositeAlignCssPositionProp = oppositeAlignCssPositionProps[placement];\n        const currentAlignCssPositionProp = oppositionPositions[oppositeAlignCssPositionProp];\n        const oppositeAlignCssSizeProp = propToCompare[oppositeAlignCssPositionProp];\n        // if follower rect is larger than target rect in align direction\n        // ----------[ target ]---------|\n        // ----------[     follower     ]\n        if (followerRect[oppositeAlignCssSizeProp] >\n            targetRect[oppositeAlignCssSizeProp]) {\n            if (\n            // current space is not enough\n            // ----------[ target ]---------|\n            // -------[     follower        ]\n            targetRect[oppositeAlignCssPositionProp] +\n                targetRect[oppositeAlignCssSizeProp] <\n                followerRect[oppositeAlignCssSizeProp]) {\n                const followerOverTargetSize = (followerRect[oppositeAlignCssSizeProp] -\n                    targetRect[oppositeAlignCssSizeProp]) /\n                    2;\n                if (targetRect[oppositeAlignCssPositionProp] < followerOverTargetSize ||\n                    targetRect[currentAlignCssPositionProp] < followerOverTargetSize) {\n                    // opposite align has larger space\n                    // -------[ target ]-----------|\n                    // -------[     follower     ]-|\n                    if (targetRect[oppositeAlignCssPositionProp] <\n                        targetRect[currentAlignCssPositionProp]) {\n                        properAlign = oppositeAligns[align];\n                        properOffset = deriveOffset(oppositeAlignCssSizeProp, currentAlignCssPositionProp, offsetVertically);\n                    }\n                    else {\n                        // ----------------[ target ]----|\n                        // --------[   follower     ]----|\n                        properOffset = deriveOffset(oppositeAlignCssSizeProp, oppositeAlignCssPositionProp, offsetVertically);\n                    }\n                }\n                else {\n                    // 'center' align is better\n                    // ------------[ target ]--------|\n                    // -------[       follower    ]--|\n                    properAlign = 'center';\n                }\n            }\n        }\n        else if (followerRect[oppositeAlignCssSizeProp] <\n            targetRect[oppositeAlignCssSizeProp]) {\n            // TODO: maybe center is better\n            if (targetRect[currentAlignCssPositionProp] < 0 &&\n                // opposite align has larger space\n                // ------------[   target   ]\n                // ----------------[follower]\n                targetRect[oppositeAlignCssPositionProp] >\n                    targetRect[currentAlignCssPositionProp]) {\n                properAlign = oppositeAligns[align];\n            }\n        }\n    }\n    else {\n        const possibleAlternativeAlignCssPositionProp1 = position === 'bottom' || position === 'top' ? 'left' : 'top';\n        const possibleAlternativeAlignCssPositionProp2 = oppositionPositions[possibleAlternativeAlignCssPositionProp1];\n        const alternativeAlignCssSizeProp = propToCompare[possibleAlternativeAlignCssPositionProp1];\n        const followerOverTargetSize = (followerRect[alternativeAlignCssSizeProp] -\n            targetRect[alternativeAlignCssSizeProp]) /\n            2;\n        if (\n        // center is not enough\n        // ----------- [ target ]--|\n        // -------[     follower     ]\n        targetRect[possibleAlternativeAlignCssPositionProp1] <\n            followerOverTargetSize ||\n            targetRect[possibleAlternativeAlignCssPositionProp2] <\n                followerOverTargetSize) {\n            // alternative 2 position's space is larger\n            if (targetRect[possibleAlternativeAlignCssPositionProp1] >\n                targetRect[possibleAlternativeAlignCssPositionProp2]) {\n                properAlign =\n                    cssPositionToOppositeAlign[possibleAlternativeAlignCssPositionProp1];\n                properOffset = deriveOffset(alternativeAlignCssSizeProp, possibleAlternativeAlignCssPositionProp1, offsetVertically);\n            }\n            else {\n                // alternative 1 position's space is larger\n                properAlign =\n                    cssPositionToOppositeAlign[possibleAlternativeAlignCssPositionProp2];\n                properOffset = deriveOffset(alternativeAlignCssSizeProp, possibleAlternativeAlignCssPositionProp2, offsetVertically);\n            }\n        }\n    }\n    let properPosition = position;\n    if (\n    // space is not enough\n    targetRect[position] < followerRect[propToCompare[position]] &&\n        // opposite position's space is larger\n        targetRect[position] < targetRect[oppositionPositions[position]]) {\n        properPosition = oppositionPositions[position];\n    }\n    return {\n        placement: properAlign !== 'center'\n            ? `${properPosition}-${properAlign}`\n            : properPosition,\n        left: properOffset.left,\n        top: properOffset.top\n    };\n}\nexport function getProperTransformOrigin(placement, overlap) {\n    if (overlap)\n        return overlapTransformOrigin[placement];\n    return transformOrigins[placement];\n}\n// ------------\n// |  offset  |\n// |          |\n// | [target] |\n// |          |\n// ------------\n// TODO: refactor it to remove dup logic\nexport function getOffset(placement, offsetRect, targetRect, offsetTopToStandardPlacement, offsetLeftToStandardPlacement, overlap) {\n    if (overlap) {\n        switch (placement) {\n            case 'bottom-start':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left)}px`,\n                    transform: 'translateY(-100%)'\n                };\n            case 'bottom-end':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width)}px`,\n                    transform: 'translateX(-100%) translateY(-100%)'\n                };\n            case 'top-start':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left)}px`,\n                    transform: ''\n                };\n            case 'top-end':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width)}px`,\n                    transform: 'translateX(-100%)'\n                };\n            case 'right-start':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width)}px`,\n                    transform: 'translateX(-100%)'\n                };\n            case 'right-end':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width)}px`,\n                    transform: 'translateX(-100%) translateY(-100%)'\n                };\n            case 'left-start':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left)}px`,\n                    transform: ''\n                };\n            case 'left-end':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left)}px`,\n                    transform: 'translateY(-100%)'\n                };\n            case 'top':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width / 2)}px`,\n                    transform: 'translateX(-50%)'\n                };\n            case 'right':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height / 2)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width)}px`,\n                    transform: 'translateX(-100%) translateY(-50%)'\n                };\n            case 'left':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height / 2)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left)}px`,\n                    transform: 'translateY(-50%)'\n                };\n            case 'bottom':\n            default:\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width / 2)}px`,\n                    transform: 'translateX(-50%) translateY(-100%)'\n                };\n        }\n    }\n    switch (placement) {\n        case 'bottom-start':\n            return {\n                top: `${Math.round(targetRect.top -\n                    offsetRect.top +\n                    targetRect.height +\n                    offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left - offsetRect.left + offsetLeftToStandardPlacement)}px`,\n                transform: ''\n            };\n        case 'bottom-end':\n            return {\n                top: `${Math.round(targetRect.top -\n                    offsetRect.top +\n                    targetRect.height +\n                    offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left -\n                    offsetRect.left +\n                    targetRect.width +\n                    offsetLeftToStandardPlacement)}px`,\n                transform: 'translateX(-100%)'\n            };\n        case 'top-start':\n            return {\n                top: `${Math.round(targetRect.top - offsetRect.top + offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left - offsetRect.left + offsetLeftToStandardPlacement)}px`,\n                transform: 'translateY(-100%)'\n            };\n        case 'top-end':\n            return {\n                top: `${Math.round(targetRect.top - offsetRect.top + offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left -\n                    offsetRect.left +\n                    targetRect.width +\n                    offsetLeftToStandardPlacement)}px`,\n                transform: 'translateX(-100%) translateY(-100%)'\n            };\n        case 'right-start':\n            return {\n                top: `${Math.round(targetRect.top - offsetRect.top + offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left -\n                    offsetRect.left +\n                    targetRect.width +\n                    offsetLeftToStandardPlacement)}px`,\n                transform: ''\n            };\n        case 'right-end':\n            return {\n                top: `${Math.round(targetRect.top -\n                    offsetRect.top +\n                    targetRect.height +\n                    offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left -\n                    offsetRect.left +\n                    targetRect.width +\n                    offsetLeftToStandardPlacement)}px`,\n                transform: 'translateY(-100%)'\n            };\n        case 'left-start':\n            return {\n                top: `${Math.round(targetRect.top - offsetRect.top + offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left - offsetRect.left + offsetLeftToStandardPlacement)}px`,\n                transform: 'translateX(-100%)'\n            };\n        case 'left-end':\n            return {\n                top: `${Math.round(targetRect.top -\n                    offsetRect.top +\n                    targetRect.height +\n                    offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left - offsetRect.left + offsetLeftToStandardPlacement)}px`,\n                transform: 'translateX(-100%) translateY(-100%)'\n            };\n        case 'top':\n            return {\n                top: `${Math.round(targetRect.top - offsetRect.top + offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left -\n                    offsetRect.left +\n                    targetRect.width / 2 +\n                    offsetLeftToStandardPlacement)}px`,\n                transform: 'translateY(-100%) translateX(-50%)'\n            };\n        case 'right':\n            return {\n                top: `${Math.round(targetRect.top -\n                    offsetRect.top +\n                    targetRect.height / 2 +\n                    offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left -\n                    offsetRect.left +\n                    targetRect.width +\n                    offsetLeftToStandardPlacement)}px`,\n                transform: 'translateY(-50%)'\n            };\n        case 'left':\n            return {\n                top: `${Math.round(targetRect.top -\n                    offsetRect.top +\n                    targetRect.height / 2 +\n                    offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left - offsetRect.left + offsetLeftToStandardPlacement)}px`,\n                transform: 'translateY(-50%) translateX(-100%)'\n            };\n        case 'bottom':\n        default:\n            return {\n                top: `${Math.round(targetRect.top -\n                    offsetRect.top +\n                    targetRect.height +\n                    offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left -\n                    offsetRect.left +\n                    targetRect.width / 2 +\n                    offsetLeftToStandardPlacement)}px`,\n                transform: 'translateX(-50%)'\n            };\n    }\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { h, defineComponent, inject, nextTick, watch, toRef, ref, onMounted, onBeforeUnmount, withDirectives } from 'vue';\nimport { zindexable } from 'vdirs';\nimport { useMemo, useIsMounted, onFontsReady } from 'vooks';\nimport { useSsrAdapter } from '@css-render/vue3-ssr';\nimport { c, cssrAnchorMetaName } from '../../shared';\nimport LazyTeleport from '../../lazy-teleport/src/index';\nimport { getPlacementAndOffsetOfFollower, getProperTransformOrigin, getOffset } from './get-placement-style';\nimport { getPointRect, getRect } from './utils';\nconst style = c([\n    c('.v-binder-follower-container', {\n        position: 'absolute',\n        left: '0',\n        right: '0',\n        top: '0',\n        height: '0',\n        pointerEvents: 'none',\n        zIndex: 'auto'\n    }),\n    c('.v-binder-follower-content', {\n        position: 'absolute',\n        zIndex: 'auto'\n    }, [\n        c('> *', {\n            pointerEvents: 'all'\n        })\n    ])\n]);\nexport default defineComponent({\n    name: 'Follower',\n    inheritAttrs: false,\n    props: {\n        show: Boolean,\n        enabled: {\n            type: Boolean,\n            default: undefined\n        },\n        placement: {\n            type: String,\n            default: 'bottom'\n        },\n        syncTrigger: {\n            type: Array,\n            default: ['resize', 'scroll']\n        },\n        to: [String, Object],\n        flip: {\n            type: Boolean,\n            default: true\n        },\n        internalShift: Boolean,\n        x: Number,\n        y: Number,\n        width: String,\n        minWidth: String,\n        containerClass: String,\n        teleportDisabled: Boolean,\n        zindexable: {\n            type: Boolean,\n            default: true\n        },\n        zIndex: Number,\n        overlap: Boolean\n    },\n    setup(props) {\n        const VBinder = inject('VBinder');\n        const mergedEnabledRef = useMemo(() => {\n            return props.enabled !== undefined ? props.enabled : props.show;\n        });\n        const followerRef = ref(null);\n        const offsetContainerRef = ref(null);\n        const ensureListeners = () => {\n            const { syncTrigger } = props;\n            if (syncTrigger.includes('scroll')) {\n                VBinder.addScrollListener(syncPosition);\n            }\n            if (syncTrigger.includes('resize')) {\n                VBinder.addResizeListener(syncPosition);\n            }\n        };\n        const removeListeners = () => {\n            VBinder.removeScrollListener(syncPosition);\n            VBinder.removeResizeListener(syncPosition);\n        };\n        onMounted(() => {\n            if (mergedEnabledRef.value) {\n                syncPosition();\n                ensureListeners();\n            }\n        });\n        const ssrAdapter = useSsrAdapter();\n        style.mount({\n            id: 'vueuc/binder',\n            head: true,\n            anchorMetaName: cssrAnchorMetaName,\n            ssr: ssrAdapter\n        });\n        onBeforeUnmount(() => {\n            removeListeners();\n        });\n        onFontsReady(() => {\n            if (mergedEnabledRef.value) {\n                syncPosition();\n            }\n        });\n        const syncPosition = () => {\n            if (!mergedEnabledRef.value) {\n                return;\n            }\n            const follower = followerRef.value;\n            // sometimes watched props change before its dom is ready\n            // for example: show=false, x=undefined, y=undefined\n            //              show=true,  x=0,         y=0\n            // will cause error\n            // I may optimize the watch start point later\n            if (follower === null)\n                return;\n            const target = VBinder.targetRef;\n            const { x, y, overlap } = props;\n            const targetRect = x !== undefined && y !== undefined\n                ? getPointRect(x, y)\n                : getRect(target);\n            follower.style.setProperty('--v-target-width', `${Math.round(targetRect.width)}px`);\n            follower.style.setProperty('--v-target-height', `${Math.round(targetRect.height)}px`);\n            const { width, minWidth, placement, internalShift, flip } = props;\n            follower.setAttribute('v-placement', placement);\n            if (overlap) {\n                follower.setAttribute('v-overlap', '');\n            }\n            else {\n                follower.removeAttribute('v-overlap');\n            }\n            const { style } = follower;\n            if (width === 'target') {\n                style.width = `${targetRect.width}px`;\n            }\n            else if (width !== undefined) {\n                style.width = width;\n            }\n            else {\n                style.width = '';\n            }\n            if (minWidth === 'target') {\n                style.minWidth = `${targetRect.width}px`;\n            }\n            else if (minWidth !== undefined) {\n                style.minWidth = minWidth;\n            }\n            else {\n                style.minWidth = '';\n            }\n            const followerRect = getRect(follower);\n            const offsetContainerRect = getRect(offsetContainerRef.value);\n            const { left: offsetLeftToStandardPlacement, top: offsetTopToStandardPlacement, placement: properPlacement } = getPlacementAndOffsetOfFollower(placement, targetRect, followerRect, internalShift, flip, overlap);\n            const properTransformOrigin = getProperTransformOrigin(properPlacement, overlap);\n            const { left, top, transform } = getOffset(properPlacement, offsetContainerRect, targetRect, offsetTopToStandardPlacement, offsetLeftToStandardPlacement, overlap);\n            // we assume that the content size doesn't change after flip,\n            // nor we need to make sync logic more complex\n            follower.setAttribute('v-placement', properPlacement);\n            follower.style.setProperty('--v-offset-left', `${Math.round(offsetLeftToStandardPlacement)}px`);\n            follower.style.setProperty('--v-offset-top', `${Math.round(offsetTopToStandardPlacement)}px`);\n            follower.style.transform = `translateX(${left}) translateY(${top}) ${transform}`;\n            follower.style.setProperty('--v-transform-origin', properTransformOrigin);\n            follower.style.transformOrigin = properTransformOrigin;\n        };\n        watch(mergedEnabledRef, (value) => {\n            if (value) {\n                ensureListeners();\n                syncOnNextTick();\n            }\n            else {\n                removeListeners();\n            }\n        });\n        const syncOnNextTick = () => {\n            nextTick()\n                .then(syncPosition)\n                .catch((e) => console.error(e));\n        };\n        [\n            'placement',\n            'x',\n            'y',\n            'internalShift',\n            'flip',\n            'width',\n            'overlap',\n            'minWidth'\n        ].forEach((prop) => {\n            watch(toRef(props, prop), syncPosition);\n        });\n        ['teleportDisabled'].forEach((prop) => {\n            watch(toRef(props, prop), syncOnNextTick);\n        });\n        watch(toRef(props, 'syncTrigger'), (value) => {\n            if (!value.includes('resize')) {\n                VBinder.removeResizeListener(syncPosition);\n            }\n            else {\n                VBinder.addResizeListener(syncPosition);\n            }\n            if (!value.includes('scroll')) {\n                VBinder.removeScrollListener(syncPosition);\n            }\n            else {\n                VBinder.addScrollListener(syncPosition);\n            }\n        });\n        const isMountedRef = useIsMounted();\n        const mergedToRef = useMemo(() => {\n            const { to } = props;\n            if (to !== undefined)\n                return to;\n            if (isMountedRef.value) {\n                // TODO: find proper container\n                return undefined;\n            }\n            return undefined;\n        });\n        return {\n            VBinder,\n            mergedEnabled: mergedEnabledRef,\n            offsetContainerRef,\n            followerRef,\n            mergedTo: mergedToRef,\n            syncPosition\n        };\n    },\n    render() {\n        return h(LazyTeleport, {\n            show: this.show,\n            to: this.mergedTo,\n            disabled: this.teleportDisabled\n        }, {\n            default: () => {\n                var _a, _b;\n                const vNode = h('div', {\n                    class: ['v-binder-follower-container', this.containerClass],\n                    ref: 'offsetContainerRef'\n                }, [\n                    h('div', {\n                        class: 'v-binder-follower-content',\n                        ref: 'followerRef'\n                    }, (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 : _b.call(_a))\n                ]);\n                if (this.zindexable) {\n                    return withDirectives(vNode, [\n                        [\n                            zindexable,\n                            {\n                                enabled: this.mergedEnabled,\n                                zIndex: this.zIndex\n                            }\n                        ]\n                    ]);\n                }\n                return vNode;\n            }\n        });\n    }\n});\n"],"names":["internalSelectionMenuInjectionKey","createInjectionKey","internalSelectionMenuBodyInjectionKey","modalBodyInjectionKey","modalInjectionKey","drawerBodyInjectionKey","popoverBodyInjectionKey","teleportDisabled","useAdjustedTo","props","modal","inject","drawer","popover","selectMenu","fullscreenElementRef","ref","document","value","fullscreenElement","handleFullscreenChange","onMounted","on","onBeforeUnmount","off","useMemo","_a","to","$el","getSlot","scope","slots","slotName","slot","Error","flatten","vNodes","filterCommentNode","result","forEach","vNode","Array","isArray","type","Fragment","children","Comment","push","createTextVNode","String","getFirstVNode","content","length","tdkey","propTo","Object","Boolean","default","viewMeasurer","ensureViewBoundingRect","getElementById","createElement","id","style","position","left","right","top","bottom","pointerEvents","visibility","body","appendChild","getBoundingClientRect","getRect","el","elRect","viewRect","height","width","getScrollParent","node","parentNode","nodeType","getParentNode","overflow","overflowX","overflowY","getComputedStyle","test","VBinder","defineComponent","name","syncTargetWithParent","syncTarget","setup","provide","getCurrentInstance","proxy","targetRef","scrollableNodes","removeScrollListeners","onScroll","followerScrollListeners","Set","beforeNextFrameOnce","onScrollRaf","listener","followerResizeListeners","onResize","window","setTargetRef","addScrollListener","size","cursor","has","add","removeScrollListener","delete","addResizeListener","removeResizeListener","render","this","$slots","VTarget","setTargetDirective","mounted","updated","withDirectives","ctxKey","clickoutside$1","modifiers","handler","capture","ctx","unmounted","zIndexManager","constructor","elementZIndex","Map","nextZIndex","elementCount","ensureZIndex","zIndex","get","set","squashState","unregister","rearrange","elementZIndexPair","from","entries","sort","pair1","pair2","pair","zindexable$1","bindings","enabled","initialized","cachedEnabled","LazyTeleport","disabled","show","required","showTeleport","useFalseUntilTruthy","toRef","mergedTo","computed","h","Teleport","oppositionPositions","oppositeAligns","start","center","end","propToCompare","transformOrigins","overlapTransformOrigin","oppositeAlignCssPositionProps","keepOffsetDirection","cssPositionToOppositeAlign","c","VFollower","inheritAttrs","placement","syncTrigger","flip","internalShift","x","Number","y","minWidth","containerClass","zindexable","overlap","mergedEnabledRef","followerRef","offsetContainerRef","ensureListeners","includes","syncPosition","removeListeners","ssrAdapter","useSsrAdapter","mount","head","anchorMetaName","cssrAnchorMetaName","ssr","onFontsReady","follower","target","targetRect","getPointRect","setProperty","Math","round","setAttribute","removeAttribute","followerRect","offsetContainerRect","offsetLeftToStandardPlacement","offsetTopToStandardPlacement","properPlacement","shift","align","split","properAlign","properOffset","deriveOffset","oppositeAlignCssSizeProp","alignCssPositionProp","offsetVertically","diff","oppositeAlignCssPositionProp","currentAlignCssPositionProp","followerOverTargetSize","possibleAlternativeAlignCssPositionProp1","possibleAlternativeAlignCssPositionProp2","alternativeAlignCssSizeProp","properPosition","getPlacementAndOffsetOfFollower","properTransformOrigin","getProperTransformOrigin","transform","offsetRect","getOffset","transformOrigin","watch","syncOnNextTick","nextTick","then","catch","e","prop","isMountedRef","useIsMounted","mergedToRef","mergedEnabled","_b","class","call"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]}