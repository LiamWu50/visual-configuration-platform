import{d as e,aI as n,aJ as t,b8 as o,b9 as l,ba as r,t as i,f as a,b4 as s,g as u,a5 as c,a6 as d,u as v,n as f,a8 as h,k as b,m as p,z as w,y as m,o as g,p as y,h as S,F as x,bb as R,T as z,aD as $}from"./index-1fadca43.js";import{V as B}from"./VResizeObserver-414b7811.js";function P(e){return e.composedPath()[0]||null}const T=e({render(){var e,n;return null===(n=(e=this.$slots).default)||void 0===n?void 0:n.call(e)}});function M(e){return e.composedPath()[0]}const k={mousemoveoutside:new WeakMap,clickoutside:new WeakMap};function W(e,n,t){const o=k[e];let l=o.get(n);void 0===l&&o.set(n,l=new WeakMap);let r=l.get(t);return void 0===r&&l.set(t,r=function(e,n,t){if("mousemoveoutside"===e){const e=e=>{n.contains(M(e))||t(e)};return{mousemove:e,touchstart:e}}if("clickoutside"===e){let e=!1;const o=t=>{e=!n.contains(M(t))},l=o=>{e&&(n.contains(M(o))||t(o))};return{mousedown:o,mouseup:l,touchstart:o,touchend:l}}return{}}(e,n,t)),r}const{on:C,off:E}=function(){if("undefined"==typeof window)return{on:()=>{},off:()=>{}};const e=new WeakMap,n=new WeakMap;function t(){e.set(this,!0)}function o(){e.set(this,!0),n.set(this,!0)}function l(e,n,t){const o=e[n];return e[n]=function(){return t.apply(e,arguments),o.apply(e,arguments)},e}function r(e,n){e[n]=Event.prototype[n]}const i=new WeakMap,a=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function s(){var e;return null!==(e=i.get(this))&&void 0!==e?e:null}function u(e,n){void 0!==a&&Object.defineProperty(e,"currentTarget",{configurable:!0,enumerable:!0,get:null!=n?n:a.get})}const c={bubble:{},capture:{}},d={},v=function(){const a=function(a){const{type:d,eventPhase:v,bubbles:f}=a,h=M(a);if(2===v)return;const b=1===v?"capture":"bubble";let p=h;const w=[];for(;null===p&&(p=window),w.push(p),p!==window;)p=p.parentNode||null;const m=c.capture[d],g=c.bubble[d];if(l(a,"stopPropagation",t),l(a,"stopImmediatePropagation",o),u(a,s),"capture"===b){if(void 0===m)return;for(let t=w.length-1;t>=0&&!e.has(a);--t){const e=w[t],o=m.get(e);if(void 0!==o){i.set(a,e);for(const e of o){if(n.has(a))break;e(a)}}if(0===t&&!f&&void 0!==g){const t=g.get(e);if(void 0!==t)for(const e of t){if(n.has(a))break;e(a)}}}}else if("bubble"===b){if(void 0===g)return;for(let t=0;t<w.length&&!e.has(a);++t){const e=w[t],o=g.get(e);if(void 0!==o){i.set(a,e);for(const e of o){if(n.has(a))break;e(a)}}}}r(a,"stopPropagation"),r(a,"stopImmediatePropagation"),u(a)};return a.displayName="evtdUnifiedHandler",a}(),f=function(){const e=function(e){const{type:n,eventPhase:t}=e;if(2!==t)return;const o=d[n];void 0!==o&&o.forEach((n=>n(e)))};return e.displayName="evtdUnifiedWindowEventHandler",e}();function h(e,n){const t=c[e];return void 0===t[n]&&(t[n]=new Map,window.addEventListener(n,v,"capture"===e)),t[n]}function b(e,n){let t=e.get(n);return void 0===t&&e.set(n,t=new Set),t}function p(e,n,t,o){const l=function(e,n,t,o){if("mousemoveoutside"===e||"clickoutside"===e){const l=W(e,n,t);return Object.keys(l).forEach((e=>{E(e,document,l[e],o)})),!0}return!1}(e,n,t,o);if(l)return;const r=!0===o||"object"==typeof o&&!0===o.capture,i=r?"capture":"bubble",a=h(i,e),s=b(a,n);if(n===window){if(!function(e,n,t,o){const l=c[n][t];if(void 0!==l){const n=l.get(e);if(void 0!==n&&n.has(o))return!0}return!1}(n,r?"bubble":"capture",e,t)&&function(e,n){const t=d[e];return!(void 0===t||!t.has(n))}(e,t)){const n=d[e];n.delete(t),0===n.size&&(window.removeEventListener(e,f),d[e]=void 0)}}s.has(t)&&s.delete(t),0===s.size&&a.delete(n),0===a.size&&(window.removeEventListener(e,v,"capture"===i),c[i][e]=void 0)}return{on:function(e,n,t,o){let l;l="object"==typeof o&&!0===o.once?r=>{p(e,n,l,o),t(r)}:t;if(function(e,n,t,o){if("mousemoveoutside"===e||"clickoutside"===e){const l=W(e,n,t);return Object.keys(l).forEach((e=>{C(e,document,l[e],o)})),!0}return!1}(e,n,l,o))return;const r=b(h(!0===o||"object"==typeof o&&!0===o.capture?"capture":"bubble",e),n);if(r.has(l)||r.add(l),n===window){const n=function(e){return void 0===d[e]&&(d[e]=new Set,window.addEventListener(e,f)),d[e]}(e);n.has(l)||n.add(l)}},off:p}}(),D="undefined"!=typeof window&&(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream;function j(e){const o={isDeactivated:!1};let l=!1;return n((()=>{o.isDeactivated=!1,l?e():l=!0})),t((()=>{o.isDeactivated=!0,l||(l=!0)})),o}var O=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,L=/^\w*$/;function H(e,n){if(o(e))return!1;var t=typeof e;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=e&&!l(e))||(L.test(e)||!O.test(e)||null!=n&&e in Object(n))}var X="Expected a function";function I(e,n){if("function"!=typeof e||null!=n&&"function"!=typeof n)throw new TypeError(X);var t=function(){var o=arguments,l=n?n.apply(this,o):o[0],r=t.cache;if(r.has(l))return r.get(l);var i=e.apply(this,o);return t.cache=r.set(l,i)||r,i};return t.cache=new(I.Cache||r),t}I.Cache=r;var Y,N,F,U=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_=/\\(\\)?/g,A=(Y=function(e){var n=[];return 46===e.charCodeAt(0)&&n.push(""),e.replace(U,(function(e,t,o,l){n.push(o?l.replace(_,"$1"):t||e)})),n},N=I(Y,(function(e){return 500===F.size&&F.clear(),e})),F=N.cache,N);const V=A;function G(e,n){return o(e)?e:H(e,n)?[e]:V(i(e))}var J=1/0;function q(e){if("string"==typeof e||l(e))return e;var n=e+"";return"0"==n&&1/e==-J?"-0":n}function K(e,n){for(var t=0,o=(n=G(n,e)).length;null!=e&&t<o;)e=e[q(n[t++])];return t&&t==o?e:void 0}function Q(e,n,t){var o=null==e?void 0:K(e,n);return void 0===o?t:o}const{cubicBezierEaseInOut:Z}=s;function ee({name:e="fade-in",enterDuration:n="0.2s",leaveDuration:t="0.2s",enterCubicBezier:o=Z,leaveCubicBezier:l=Z}={}){return[a(`&.${e}-transition-enter-active`,{transition:`all ${n} ${o}!important`}),a(`&.${e}-transition-leave-active`,{transition:`all ${t} ${l}!important`}),a(`&.${e}-transition-enter-from, &.${e}-transition-leave-to`,{opacity:0}),a(`&.${e}-transition-leave-from, &.${e}-transition-enter-to`,{opacity:1})]}const ne=u("scrollbar","\n overflow: hidden;\n position: relative;\n z-index: auto;\n height: 100%;\n width: 100%;\n",[a(">",[u("scrollbar-container","\n width: 100%;\n overflow: scroll;\n height: 100%;\n max-height: inherit;\n scrollbar-width: none;\n ",[a("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb","\n width: 0;\n height: 0;\n display: none;\n "),a(">",[u("scrollbar-content","\n box-sizing: border-box;\n min-width: 100%;\n ")])])]),a(">, +",[u("scrollbar-rail","\n position: absolute;\n pointer-events: none;\n user-select: none;\n -webkit-user-select: none;\n ",[c("horizontal","\n left: 2px;\n right: 2px;\n bottom: 4px;\n height: var(--n-scrollbar-height);\n ",[a(">",[d("scrollbar","\n height: var(--n-scrollbar-height);\n border-radius: var(--n-scrollbar-border-radius);\n right: 0;\n ")])]),c("vertical","\n right: 4px;\n top: 2px;\n bottom: 2px;\n width: var(--n-scrollbar-width);\n ",[a(">",[d("scrollbar","\n width: var(--n-scrollbar-width);\n border-radius: var(--n-scrollbar-border-radius);\n bottom: 0;\n ")])]),c("disabled",[a(">",[d("scrollbar",{pointerEvents:"none"})])]),a(">",[d("scrollbar","\n position: absolute;\n cursor: pointer;\n pointer-events: all;\n background-color: var(--n-scrollbar-color);\n transition: background-color .2s var(--n-scrollbar-bezier);\n ",[ee(),a("&:hover",{backgroundColor:"var(--n-scrollbar-color-hover)"})])])])])]),te=e({name:"Scrollbar",props:Object.assign(Object.assign({},v.props),{size:{type:Number,default:5},duration:{type:Number,default:0},scrollable:{type:Boolean,default:!0},xScrollable:Boolean,trigger:{type:String,default:"hover"},useUnifiedContainer:Boolean,triggerDisplayManually:Boolean,container:Function,content:Function,containerClass:String,containerStyle:[String,Object],contentClass:String,contentStyle:[String,Object],horizontalRailStyle:[String,Object],verticalRailStyle:[String,Object],onScroll:Function,onWheel:Function,onResize:Function,internalOnUpdateScrollLeft:Function,internalHoistYRail:Boolean}),inheritAttrs:!1,setup(e){const{mergedClsPrefixRef:n,inlineThemeDisabled:t,mergedRtlRef:o}=f(e),l=h("Scrollbar",o,n),r=b(null),i=b(null),a=b(null),s=b(null),u=b(null),c=b(null),d=b(null),S=b(null),x=b(null),z=b(null),$=b(null),B=b(0),T=b(0),M=b(!1),k=b(!1);let W,O,L=!1,H=!1,X=0,I=0,Y=0,N=0;const F=D,U=p((()=>{const{value:n}=S,{value:t}=c,{value:o}=z;return null===n||null===t||null===o?0:Math.min(n,o*n/t+1.5*e.size)})),_=p((()=>`${U.value}px`)),A=p((()=>{const{value:n}=x,{value:t}=d,{value:o}=$;return null===n||null===t||null===o?0:o*n/t+1.5*e.size})),V=p((()=>`${A.value}px`)),G=p((()=>{const{value:e}=S,{value:n}=B,{value:t}=c,{value:o}=z;if(null===e||null===t||null===o)return 0;{const l=t-e;return l?n/l*(o-U.value):0}})),J=p((()=>`${G.value}px`)),q=p((()=>{const{value:e}=x,{value:n}=T,{value:t}=d,{value:o}=$;if(null===e||null===t||null===o)return 0;{const l=t-e;return l?n/l*(o-A.value):0}})),K=p((()=>`${q.value}px`)),Q=p((()=>{const{value:e}=S,{value:n}=c;return null!==e&&null!==n&&n>e})),Z=p((()=>{const{value:e}=x,{value:n}=d;return null!==e&&null!==n&&n>e})),ee=p((()=>{const{trigger:n}=e;return"none"===n||M.value})),te=p((()=>{const{trigger:n}=e;return"none"===n||k.value})),oe=p((()=>{const{container:n}=e;return n?n():i.value})),le=p((()=>{const{content:n}=e;return n?n():a.value})),re=j((()=>{e.container||ie({top:B.value,left:T.value})})),ie=(n,t)=>{if(!e.scrollable)return;if("number"==typeof n)return void ae(null!=t?t:0,n,0,!1,"auto");const{left:o,top:l,index:r,elSize:i,position:a,behavior:s,el:u,debounce:c=!0}=n;void 0===o&&void 0===l||ae(null!=o?o:0,null!=l?l:0,0,!1,s),void 0!==u?ae(0,u.offsetTop,u.offsetHeight,c,s):void 0!==r&&void 0!==i?ae(0,r*i,i,c,s):"bottom"===a?ae(0,Number.MAX_SAFE_INTEGER,0,!1,s):"top"===a&&ae(0,0,0,!1,s)};function ae(e,n,t,o,l){const{value:r}=oe;if(r){if(o){const{scrollTop:o,offsetHeight:i}=r;if(n>o)return void(n+t<=o+i||r.scrollTo({left:e,top:n+t-i,behavior:l}))}r.scrollTo({left:e,top:n,behavior:l})}}function se(){!function(){void 0!==O&&window.clearTimeout(O);O=window.setTimeout((()=>{k.value=!1}),e.duration)}(),function(){void 0!==W&&window.clearTimeout(W);W=window.setTimeout((()=>{M.value=!1}),e.duration)}()}function ue(){const{value:e}=oe;e&&(B.value=e.scrollTop,T.value=e.scrollLeft*((null==l?void 0:l.value)?-1:1))}function ce(){const{value:e}=oe;e&&(B.value=e.scrollTop,T.value=e.scrollLeft*((null==l?void 0:l.value)?-1:1),S.value=e.offsetHeight,x.value=e.offsetWidth,c.value=e.scrollHeight,d.value=e.scrollWidth);const{value:n}=u,{value:t}=s;n&&($.value=n.offsetWidth),t&&(z.value=t.offsetHeight)}function de(){e.scrollable&&(e.useUnifiedContainer?ce():(!function(){const{value:e}=le;e&&(c.value=e.offsetHeight,d.value=e.offsetWidth);const{value:n}=oe;n&&(S.value=n.offsetHeight,x.value=n.offsetWidth);const{value:t}=u,{value:o}=s;t&&($.value=t.offsetWidth),o&&(z.value=o.offsetHeight)}(),ue()))}function ve(e){var n;return!(null===(n=r.value)||void 0===n?void 0:n.contains(P(e)))}function fe(n){if(!H)return;void 0!==W&&window.clearTimeout(W),void 0!==O&&window.clearTimeout(O);const{value:t}=x,{value:o}=d,{value:r}=A;if(null===t||null===o)return;const i=(null==l?void 0:l.value)?window.innerWidth-n.clientX-Y:n.clientX-Y,a=o-t;let s=I+i*(o-t)/(t-r);s=Math.min(a,s),s=Math.max(s,0);const{value:u}=oe;if(u){u.scrollLeft=s*((null==l?void 0:l.value)?-1:1);const{internalOnUpdateScrollLeft:n}=e;n&&n(s)}}function he(e){e.preventDefault(),e.stopPropagation(),E("mousemove",window,fe,!0),E("mouseup",window,he,!0),H=!1,de(),ve(e)&&se()}function be(e){if(!L)return;void 0!==W&&window.clearTimeout(W),void 0!==O&&window.clearTimeout(O);const{value:n}=S,{value:t}=c,{value:o}=U;if(null===n||null===t)return;const l=e.clientY-N,r=t-n;let i=X+l*(t-n)/(n-o);i=Math.min(r,i),i=Math.max(i,0);const{value:a}=oe;a&&(a.scrollTop=i)}function pe(e){e.preventDefault(),e.stopPropagation(),E("mousemove",window,be,!0),E("mouseup",window,pe,!0),L=!1,de(),ve(e)&&se()}w((()=>{const{value:e}=Z,{value:t}=Q,{value:o}=n,{value:l}=u,{value:r}=s;l&&(e?l.classList.remove(`${o}-scrollbar-rail--disabled`):l.classList.add(`${o}-scrollbar-rail--disabled`)),r&&(t?r.classList.remove(`${o}-scrollbar-rail--disabled`):r.classList.add(`${o}-scrollbar-rail--disabled`))})),m((()=>{e.container||de()})),g((()=>{void 0!==W&&window.clearTimeout(W),void 0!==O&&window.clearTimeout(O),E("mousemove",window,be,!0),E("mouseup",window,pe,!0)}));const we=v("Scrollbar","-scrollbar",ne,R,e,n),me=p((()=>{const{common:{cubicBezierEaseInOut:e,scrollbarBorderRadius:n,scrollbarHeight:t,scrollbarWidth:o},self:{color:l,colorHover:r}}=we.value;return{"--n-scrollbar-bezier":e,"--n-scrollbar-color":l,"--n-scrollbar-color-hover":r,"--n-scrollbar-border-radius":n,"--n-scrollbar-width":o,"--n-scrollbar-height":t}})),ge=t?y("scrollbar",void 0,me,e):void 0,ye={scrollTo:ie,scrollBy:(n,t)=>{if(!e.scrollable)return;const{value:o}=oe;o&&("object"==typeof n?o.scrollBy(n):o.scrollBy(n,t||0))},sync:de,syncUnifiedContainer:ce,handleMouseEnterWrapper:function(){!function(){void 0!==W&&window.clearTimeout(W);M.value=!0}(),function(){void 0!==O&&window.clearTimeout(O);k.value=!0}(),de()},handleMouseLeaveWrapper:function(){se()}};return Object.assign(Object.assign({},ye),{mergedClsPrefix:n,rtlEnabled:l,containerScrollTop:B,wrapperRef:r,containerRef:i,contentRef:a,yRailRef:s,xRailRef:u,needYBar:Q,needXBar:Z,yBarSizePx:_,xBarSizePx:V,yBarTopPx:J,xBarLeftPx:K,isShowXBar:ee,isShowYBar:te,isIos:F,handleScroll:function(n){const{onScroll:t}=e;t&&t(n),ue()},handleContentResize:()=>{re.isDeactivated||de()},handleContainerResize:n=>{if(re.isDeactivated)return;const{onResize:t}=e;t&&t(n),de()},handleYScrollMouseDown:function(e){e.preventDefault(),e.stopPropagation(),L=!0,C("mousemove",window,be,!0),C("mouseup",window,pe,!0),X=B.value,N=e.clientY},handleXScrollMouseDown:function(e){e.preventDefault(),e.stopPropagation(),H=!0,C("mousemove",window,fe,!0),C("mouseup",window,he,!0),I=T.value,Y=(null==l?void 0:l.value)?window.innerWidth-e.clientX:e.clientX},cssVars:t?void 0:me,themeClass:null==ge?void 0:ge.themeClass,onRender:null==ge?void 0:ge.onRender})},render(){var e;const{$slots:n,mergedClsPrefix:t,triggerDisplayManually:o,rtlEnabled:l,internalHoistYRail:r}=this;if(!this.scrollable)return null===(e=n.default)||void 0===e?void 0:e.call(n);const i="none"===this.trigger,a=()=>S("div",{ref:"yRailRef",class:[`${t}-scrollbar-rail`,`${t}-scrollbar-rail--vertical`],"data-scrollbar-rail":!0,style:this.verticalRailStyle,"aria-hidden":!0},S(i?T:z,i?null:{name:"fade-in-transition"},{default:()=>this.needYBar&&this.isShowYBar&&!this.isIos?S("div",{class:`${t}-scrollbar-rail__scrollbar`,style:{height:this.yBarSizePx,top:this.yBarTopPx},onMousedown:this.handleYScrollMouseDown}):null})),s=()=>{var e,s;return null===(e=this.onRender)||void 0===e||e.call(this),S("div",$(this.$attrs,{role:"none",ref:"wrapperRef",class:[`${t}-scrollbar`,this.themeClass,l&&`${t}-scrollbar--rtl`],style:this.cssVars,onMouseenter:o?void 0:this.handleMouseEnterWrapper,onMouseleave:o?void 0:this.handleMouseLeaveWrapper}),[this.container?null===(s=n.default)||void 0===s?void 0:s.call(n):S("div",{role:"none",ref:"containerRef",class:[`${t}-scrollbar-container`,this.containerClass],style:this.containerStyle,onScroll:this.handleScroll,onWheel:this.onWheel},S(B,{onResize:this.handleContentResize},{default:()=>S("div",{ref:"contentRef",role:"none",style:[{width:this.xScrollable?"fit-content":null},this.contentStyle],class:[`${t}-scrollbar-content`,this.contentClass]},n)})),r?null:a(),this.xScrollable&&S("div",{ref:"xRailRef",class:[`${t}-scrollbar-rail`,`${t}-scrollbar-rail--horizontal`],style:this.horizontalRailStyle,"data-scrollbar-rail":!0,"aria-hidden":!0},S(i?T:z,i?null:{name:"fade-in-transition"},{default:()=>this.needXBar&&this.isShowXBar&&!this.isIos?S("div",{class:`${t}-scrollbar-rail__scrollbar`,style:{width:this.xBarSizePx,right:l?this.xBarLeftPx:void 0,left:l?void 0:this.xBarLeftPx},onMousedown:this.handleXScrollMouseDown}):null}))])},u=this.container?s():S(B,{onResize:this.handleContainerResize},{default:s});return r?S(x,null,u,a()):u}}),oe=te,le=te;export{oe as N,T as W,le as X,C as a,Q as b,G as c,K as d,ee as f,P as g,H as i,E as o,q as t,j as u};
//# sourceMappingURL=Scrollbar-24da50d9.js.map
