{"version":3,"file":"use-form-render-66dbc125.js","sources":["../../../node_modules/seemly/es/color/convert.js","../../../node_modules/naive-ui/es/_utils/vue/get-slot.js","../../../node_modules/naive-ui/es/_utils/naive/attribute.js","../../../node_modules/naive-ui/es/_utils/vue/merge-handlers.js","../../../node_modules/naive-ui/es/_utils/event/index.js","../../../node_modules/vueuc/es/shared/finweck-tree.js","../../../node_modules/vueuc/es/virtual-list/src/config.js","../../../node_modules/vueuc/es/virtual-list/src/VirtualList.js","../../../node_modules/vueuc/es/overflow/src/index.js","../../../node_modules/naive-ui/es/_utils/composable/use-resize.js","../../../node_modules/naive-ui/es/_internal/icons/Checkmark.js","../../../node_modules/naive-ui/es/_internal/icons/Empty.js","../../../node_modules/naive-ui/es/_internal/focus-detector/src/FocusDetector.js","../../../node_modules/naive-ui/es/empty/src/styles/index.cssr.js","../../../node_modules/naive-ui/es/empty/src/Empty.js","../../../node_modules/naive-ui/es/_internal/select-menu/src/SelectOption.js","../../../node_modules/naive-ui/es/_internal/select-menu/src/SelectGroupHeader.js","../../../node_modules/naive-ui/es/_internal/select-menu/src/styles/index.cssr.js","../../../node_modules/naive-ui/es/_internal/select-menu/src/SelectMenu.js","../../../node_modules/naive-ui/es/tag/styles/light.js","../../../node_modules/naive-ui/es/tag/src/common-props.js","../../../node_modules/naive-ui/es/tag/src/styles/index.cssr.js","../../../node_modules/naive-ui/es/tag/src/Tag.js","../../../node_modules/naive-ui/es/_internal/selection/src/styles/index.cssr.js","../../../node_modules/naive-ui/es/_internal/selection/src/Selection.js","../../../node_modules/naive-ui/es/select/src/utils.js","../../../node_modules/naive-ui/es/input/src/styles/input-group.cssr.js","../../../node_modules/naive-ui/es/input/src/InputGroup.js","../../../node_modules/naive-ui/es/color-picker/src/utils.js","../../../node_modules/naive-ui/es/color-picker/src/HueSlider.js","../../../node_modules/naive-ui/es/color-picker/src/AlphaSlider.js","../../../node_modules/naive-ui/es/color-picker/src/Pallete.js","../../../node_modules/naive-ui/es/color-picker/src/context.js","../../../node_modules/naive-ui/es/color-picker/src/ColorInputUnit.js","../../../node_modules/naive-ui/es/color-picker/src/ColorInput.js","../../../node_modules/naive-ui/es/color-picker/src/ColorPickerTrigger.js","../../../node_modules/naive-ui/es/color-picker/src/ColorPickerSwatches.js","../../../node_modules/naive-ui/es/color-picker/src/ColorPreview.js","../../../node_modules/naive-ui/es/color-picker/src/styles/index.cssr.js","../../../node_modules/naive-ui/es/color-picker/src/ColorPicker.js","../../../node_modules/naive-ui/es/select/src/styles/index.cssr.js","../../../node_modules/naive-ui/es/select/src/Select.js","../../../node_modules/naive-ui/es/radio/styles/light.js","../../../node_modules/naive-ui/es/radio/src/use-radio.js","../../../node_modules/naive-ui/es/radio/src/styles/radio.cssr.js","../../../node_modules/naive-ui/es/radio/src/Radio.js","../../../node_modules/naive-ui/es/radio/src/styles/radio-group.cssr.js","../../../node_modules/naive-ui/es/radio/src/RadioGroup.js","../../../node_modules/naive-ui/es/space/styles/light.js","../../../node_modules/naive-ui/es/space/src/utils.js","../../../node_modules/naive-ui/es/space/src/Space.js","../../../src/common/map-scene-config.ts","../../../src/views/design-space/map/resource-tree/use-form-render.tsx"],"sourcesContent":["// All the algorithms credit to https://stackoverflow.com/questions/36721830/convert-hsl-to-rgb-and-hex/54014428#54014428\n// original author: Kamil Kiełczewski\n/**\n * @param h 360\n * @param s 100\n * @param l 100\n * @returns [h, s, v] 360, 100, 100\n */\nexport function hsl2hsv(h, s, l) {\n    s /= 100;\n    l /= 100;\n    const v = s * Math.min(l, 1 - l) + l;\n    return [h, v ? (2 - (2 * l) / v) * 100 : 0, v * 100];\n}\n/**\n * @param h 360\n * @param s 100\n * @param v 100\n * @returns [h, s, l] 360, 100, 100\n */\nexport function hsv2hsl(h, s, v) {\n    s /= 100;\n    v /= 100;\n    const l = v - (v * s) / 2;\n    const m = Math.min(l, 1 - l);\n    return [h, m ? ((v - l) / m) * 100 : 0, l * 100];\n}\n/**\n * @param h 360\n * @param s 100\n * @param v 100\n * @returns [r, g, b] 255, 255, 255\n */\nexport function hsv2rgb(h, s, v) {\n    s /= 100;\n    v /= 100;\n    let f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);\n    return [f(5) * 255, f(3) * 255, f(1) * 255];\n}\n/**\n * @param r 255\n * @param g 255\n * @param b 255\n * @returns [360, 100, 100]\n */\nexport function rgb2hsv(r, g, b) {\n    r /= 255;\n    g /= 255;\n    b /= 255;\n    let v = Math.max(r, g, b), c = v - Math.min(r, g, b);\n    let h = c && (v == r ? (g - b) / c : v == g ? 2 + (b - r) / c : 4 + (r - g) / c);\n    return [60 * (h < 0 ? h + 6 : h), v && (c / v) * 100, v * 100];\n}\n/**\n * @param r 255\n * @param g 255\n * @param b 255\n * @returns [360, 100, 100]\n */\nexport function rgb2hsl(r, g, b) {\n    r /= 255;\n    g /= 255;\n    b /= 255;\n    let v = Math.max(r, g, b), c = v - Math.min(r, g, b), f = 1 - Math.abs(v + v - c - 1);\n    let h = c && (v == r ? (g - b) / c : v == g ? 2 + (b - r) / c : 4 + (r - g) / c);\n    return [60 * (h < 0 ? h + 6 : h), f ? (c / f) * 100 : 0, (v + v - c) * 50];\n}\n/**\n * @param h 360\n * @param s 100\n * @param l 100\n * @returns [255, 255, 255]\n */\nexport function hsl2rgb(h, s, l) {\n    s /= 100;\n    l /= 100;\n    let a = s * Math.min(l, 1 - l);\n    let f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n    return [f(0) * 255, f(8) * 255, f(4) * 255];\n}\n","export function getSlot(instance, slotName = 'default', fallback = []) {\n    const slots = instance.$slots;\n    const slot = slots[slotName];\n    if (slot === undefined)\n        return fallback;\n    return slot();\n}\n","export function getTitleAttribute(value) {\n    switch (typeof value) {\n        case 'string':\n            // The empty string should also be reset to undefined.\n            return value || undefined;\n        case 'number':\n            return String(value);\n        default:\n            return undefined;\n    }\n}\n","export function mergeEventHandlers(handlers) {\n    const filteredHandlers = handlers.filter((handler) => handler !== undefined);\n    if (filteredHandlers.length === 0)\n        return undefined;\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    if (filteredHandlers.length === 1)\n        return filteredHandlers[0];\n    return (e) => {\n        handlers.forEach((handler) => {\n            if (handler) {\n                handler(e);\n            }\n        });\n    };\n}\n","const eventSet = new WeakSet();\nexport function markEventEffectPerformed(event) {\n    eventSet.add(event);\n}\nexport function eventEffectNotPerformed(event) {\n    return !eventSet.has(event);\n}\n","function lowBit(n) {\n    return n & -n;\n}\nexport class FinweckTree {\n    /**\n     * @param l length of the array\n     * @param min min value of the array\n     */\n    constructor(l, min) {\n        this.l = l;\n        this.min = min;\n        const ft = new Array(l + 1);\n        for (let i = 0; i < l + 1; ++i) {\n            ft[i] = 0;\n        }\n        this.ft = ft;\n    }\n    /**\n     * Add arr[i] by n, start from 0\n     * @param i the index of the element to be added\n     * @param n the value to be added\n     */\n    add(i, n) {\n        if (n === 0)\n            return;\n        const { l, ft } = this;\n        i += 1;\n        while (i <= l) {\n            ft[i] += n;\n            i += lowBit(i);\n        }\n    }\n    /**\n     * Get the value of index i\n     * @param i index\n     * @returns value of the index\n     */\n    get(i) {\n        return this.sum(i + 1) - this.sum(i);\n    }\n    /**\n     * Get the sum of first i elements\n     * @param i count of head elements to be added\n     * @returns the sum of first i elements\n     */\n    sum(i) {\n        if (i === undefined)\n            i = this.l;\n        if (i <= 0)\n            return 0;\n        const { ft, min, l } = this;\n        if (i > l)\n            throw new Error('[FinweckTree.sum]: `i` is larger than length.');\n        let ret = i * min;\n        while (i > 0) {\n            ret += ft[i];\n            i -= lowBit(i);\n        }\n        return ret;\n    }\n    /**\n     * Get the largest count of head elements whose sum are <= threshold\n     * @param threshold\n     * @returns the largest count of head elements whose sum are <= threshold\n     */\n    getBound(threshold) {\n        let l = 0;\n        let r = this.l;\n        while (r > l) {\n            const m = Math.floor((l + r) / 2);\n            const sumM = this.sum(m);\n            if (sumM > threshold) {\n                r = m;\n                continue;\n            }\n            else if (sumM < threshold) {\n                if (l === m) {\n                    if (this.sum(l + 1) <= threshold)\n                        return l + 1;\n                    return m;\n                }\n                l = m;\n            }\n            else {\n                return m;\n            }\n        }\n        return l;\n    }\n}\n","let maybeTouch;\nexport function ensureMaybeTouch() {\n    if (maybeTouch === undefined) {\n        if ('matchMedia' in window) {\n            maybeTouch = window.matchMedia('(pointer:coarse)').matches;\n        }\n        else {\n            maybeTouch = false;\n        }\n    }\n    return maybeTouch;\n}\nlet wheelScale;\nexport function ensureWheelScale() {\n    if (wheelScale === undefined) {\n        wheelScale = 'chrome' in window\n            ? window.devicePixelRatio\n            : 1;\n    }\n    return wheelScale;\n}\n","/* eslint-disable no-void */\n/* eslint-disable @typescript-eslint/restrict-plus-operands */\nimport { mergeProps, computed, defineComponent, ref, onMounted, h, onActivated, onDeactivated } from 'vue';\nimport { beforeNextFrameOnce, depx, pxfy } from 'seemly';\nimport { useMemo } from 'vooks';\nimport { useSsrAdapter } from '@css-render/vue3-ssr';\nimport VResizeObserver from '../../resize-observer/src/VResizeObserver';\nimport { c, cssrAnchorMetaName, FinweckTree } from '../../shared';\nimport { ensureMaybeTouch, ensureWheelScale } from './config';\nconst styles = c('.v-vl', {\n    maxHeight: 'inherit',\n    height: '100%',\n    overflow: 'auto',\n    minWidth: '1px' // a zero width container won't be scrollable\n}, [\n    c('&:not(.v-vl--show-scrollbar)', {\n        scrollbarWidth: 'none'\n    }, [\n        c('&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb', {\n            width: 0,\n            height: 0,\n            display: 'none'\n        })\n    ])\n]);\nexport default defineComponent({\n    name: 'VirtualList',\n    inheritAttrs: false,\n    props: {\n        showScrollbar: {\n            type: Boolean,\n            default: true\n        },\n        items: {\n            type: Array,\n            default: () => []\n        },\n        // it is suppose to be the min height\n        itemSize: {\n            type: Number,\n            required: true\n        },\n        itemResizable: Boolean,\n        itemsStyle: [String, Object],\n        visibleItemsTag: {\n            type: [String, Object],\n            default: 'div'\n        },\n        visibleItemsProps: Object,\n        ignoreItemResize: Boolean,\n        onScroll: Function,\n        onWheel: Function,\n        onResize: Function,\n        defaultScrollKey: [Number, String],\n        defaultScrollIndex: Number,\n        keyField: {\n            type: String,\n            default: 'key'\n        },\n        // Whether it is a good API?\n        // ResizeObserver + footer & header is not enough.\n        // Too complex for simple case\n        paddingTop: {\n            type: [Number, String],\n            default: 0\n        },\n        paddingBottom: {\n            type: [Number, String],\n            default: 0\n        }\n    },\n    setup(props) {\n        const ssrAdapter = useSsrAdapter();\n        styles.mount({\n            id: 'vueuc/virtual-list',\n            head: true,\n            anchorMetaName: cssrAnchorMetaName,\n            ssr: ssrAdapter\n        });\n        onMounted(() => {\n            const { defaultScrollIndex, defaultScrollKey } = props;\n            if (defaultScrollIndex !== undefined && defaultScrollIndex !== null) {\n                scrollTo({ index: defaultScrollIndex });\n            }\n            else if (defaultScrollKey !== undefined && defaultScrollKey !== null) {\n                scrollTo({ key: defaultScrollKey });\n            }\n        });\n        let isDeactivated = false;\n        let activateStateInitialized = false;\n        onActivated(() => {\n            isDeactivated = false;\n            if (!activateStateInitialized) {\n                activateStateInitialized = true;\n                return;\n            }\n            // remount\n            scrollTo({ top: scrollTopRef.value, left: scrollLeft });\n        });\n        onDeactivated(() => {\n            isDeactivated = true;\n            if (!activateStateInitialized) {\n                activateStateInitialized = true;\n            }\n        });\n        const keyIndexMapRef = computed(() => {\n            const map = new Map();\n            const { keyField } = props;\n            props.items.forEach((item, index) => {\n                map.set(item[keyField], index);\n            });\n            return map;\n        });\n        const listElRef = ref(null);\n        const listHeightRef = ref(undefined);\n        const keyToHeightOffset = new Map();\n        const finweckTreeRef = computed(() => {\n            const { items, itemSize, keyField } = props;\n            const ft = new FinweckTree(items.length, itemSize);\n            items.forEach((item, index) => {\n                const key = item[keyField];\n                const heightOffset = keyToHeightOffset.get(key);\n                if (heightOffset !== undefined) {\n                    ft.add(index, heightOffset);\n                }\n            });\n            return ft;\n        });\n        const finweckTreeUpdateTrigger = ref(0);\n        let scrollLeft = 0;\n        const scrollTopRef = ref(0);\n        const startIndexRef = useMemo(() => {\n            return Math.max(finweckTreeRef.value.getBound(scrollTopRef.value - depx(props.paddingTop)) - 1, 0);\n        });\n        const viewportItemsRef = computed(() => {\n            const { value: listHeight } = listHeightRef;\n            if (listHeight === undefined)\n                return [];\n            const { items, itemSize } = props;\n            const startIndex = startIndexRef.value;\n            const endIndex = Math.min(startIndex + Math.ceil(listHeight / itemSize + 1), items.length - 1);\n            const viewportItems = [];\n            for (let i = startIndex; i <= endIndex; ++i) {\n                viewportItems.push(items[i]);\n            }\n            return viewportItems;\n        });\n        const scrollTo = (options, y) => {\n            if (typeof options === 'number') {\n                scrollToPosition(options, y, 'auto');\n                return;\n            }\n            const { left, top, index, key, position, behavior, debounce = true } = options;\n            if (left !== undefined || top !== undefined) {\n                scrollToPosition(left, top, behavior);\n            }\n            else if (index !== undefined) {\n                scrollToIndex(index, behavior, debounce);\n            }\n            else if (key !== undefined) {\n                const toIndex = keyIndexMapRef.value.get(key);\n                if (toIndex !== undefined)\n                    scrollToIndex(toIndex, behavior, debounce);\n            }\n            else if (position === 'bottom') {\n                scrollToPosition(0, Number.MAX_SAFE_INTEGER, behavior);\n            }\n            else if (position === 'top') {\n                scrollToPosition(0, 0, behavior);\n            }\n        };\n        let anchorIndex;\n        let anchorTimerId = null;\n        function scrollToIndex(index, behavior, debounce) {\n            const { value: ft } = finweckTreeRef;\n            const targetTop = ft.sum(index) + depx(props.paddingTop);\n            if (!debounce) {\n                listElRef.value.scrollTo({\n                    left: 0,\n                    top: targetTop,\n                    behavior\n                });\n            }\n            else {\n                anchorIndex = index;\n                if (anchorTimerId !== null) {\n                    window.clearTimeout(anchorTimerId);\n                }\n                anchorTimerId = window.setTimeout(() => {\n                    anchorIndex = undefined;\n                    anchorTimerId = null;\n                }, 16); // use 0 ms may be ealier than resize callback...\n                const { scrollTop, offsetHeight } = listElRef.value;\n                if (targetTop > scrollTop) {\n                    const itemSize = ft.get(index);\n                    if (targetTop + itemSize <= scrollTop + offsetHeight) {\n                        // do nothing\n                    }\n                    else {\n                        listElRef.value.scrollTo({\n                            left: 0,\n                            top: targetTop + itemSize - offsetHeight,\n                            behavior\n                        });\n                    }\n                }\n                else {\n                    listElRef.value.scrollTo({\n                        left: 0,\n                        top: targetTop,\n                        behavior\n                    });\n                }\n            }\n        }\n        function scrollToPosition(left, top, behavior) {\n            listElRef.value.scrollTo({\n                left,\n                top,\n                behavior\n            });\n        }\n        function handleItemResize(key, entry) {\n            var _a, _b, _c;\n            if (isDeactivated)\n                return;\n            if (props.ignoreItemResize)\n                return;\n            if (isHideByVShow(entry.target))\n                return;\n            const { value: ft } = finweckTreeRef;\n            const index = keyIndexMapRef.value.get(key);\n            const previousHeight = ft.get(index);\n            const height = (_c = (_b = (_a = entry.borderBoxSize) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.blockSize) !== null && _c !== void 0 ? _c : entry.contentRect.height;\n            if (height === previousHeight)\n                return;\n            // height offset based on itemSize\n            // used when rebuild the finweck tree\n            const offset = height - props.itemSize;\n            if (offset === 0) {\n                keyToHeightOffset.delete(key);\n            }\n            else {\n                keyToHeightOffset.set(key, height - props.itemSize);\n            }\n            // delta height based on finweck tree data\n            const delta = height - previousHeight;\n            if (delta === 0)\n                return;\n            ft.add(index, delta);\n            const listEl = listElRef.value;\n            if (listEl != null) {\n                if (anchorIndex === undefined) {\n                    const previousHeightSum = ft.sum(index);\n                    if (listEl.scrollTop > previousHeightSum) {\n                        listEl.scrollBy(0, delta);\n                    }\n                }\n                else {\n                    if (index < anchorIndex) {\n                        listEl.scrollBy(0, delta);\n                    }\n                    else if (index === anchorIndex) {\n                        const previousHeightSum = ft.sum(index);\n                        if (height + previousHeightSum >\n                            // Note, listEl shouldn't have border, nor offsetHeight won't be\n                            // correct\n                            listEl.scrollTop + listEl.offsetHeight) {\n                            listEl.scrollBy(0, delta);\n                        }\n                    }\n                }\n                syncViewport();\n            }\n            finweckTreeUpdateTrigger.value++;\n        }\n        const mayUseWheel = !ensureMaybeTouch();\n        let wheelCatched = false;\n        function handleListScroll(e) {\n            var _a;\n            (_a = props.onScroll) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            if (!mayUseWheel || !wheelCatched) {\n                syncViewport();\n            }\n        }\n        function handleListWheel(e) {\n            var _a;\n            (_a = props.onWheel) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            if (mayUseWheel) {\n                const listEl = listElRef.value;\n                if (listEl != null) {\n                    if (e.deltaX === 0) {\n                        if (listEl.scrollTop === 0 && e.deltaY <= 0) {\n                            return;\n                        }\n                        if (listEl.scrollTop + listEl.offsetHeight >= listEl.scrollHeight &&\n                            e.deltaY >= 0) {\n                            return;\n                        }\n                    }\n                    e.preventDefault();\n                    listEl.scrollTop += e.deltaY / ensureWheelScale();\n                    listEl.scrollLeft += e.deltaX / ensureWheelScale();\n                    syncViewport();\n                    wheelCatched = true;\n                    beforeNextFrameOnce(() => {\n                        wheelCatched = false;\n                    });\n                }\n            }\n        }\n        function handleListResize(entry) {\n            if (isDeactivated)\n                return;\n            // List is HTMLElement\n            if (isHideByVShow(entry.target))\n                return;\n            // If height is same, return\n            if (entry.contentRect.height === listHeightRef.value)\n                return;\n            listHeightRef.value = entry.contentRect.height;\n            const { onResize } = props;\n            if (onResize !== undefined)\n                onResize(entry);\n        }\n        function syncViewport() {\n            const { value: listEl } = listElRef;\n            // sometime ref el can be null\n            // https://github.com/TuSimple/naive-ui/issues/811\n            if (listEl == null)\n                return;\n            scrollTopRef.value = listEl.scrollTop;\n            scrollLeft = listEl.scrollLeft;\n        }\n        function isHideByVShow(el) {\n            let cursor = el;\n            while (cursor !== null) {\n                if (cursor.style.display === 'none')\n                    return true;\n                cursor = cursor.parentElement;\n            }\n            return false;\n        }\n        return {\n            listHeight: listHeightRef,\n            listStyle: {\n                overflow: 'auto'\n            },\n            keyToIndex: keyIndexMapRef,\n            itemsStyle: computed(() => {\n                const { itemResizable } = props;\n                const height = pxfy(finweckTreeRef.value.sum());\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                finweckTreeUpdateTrigger.value;\n                return [\n                    props.itemsStyle,\n                    {\n                        boxSizing: 'content-box',\n                        height: itemResizable ? '' : height,\n                        minHeight: itemResizable ? height : '',\n                        paddingTop: pxfy(props.paddingTop),\n                        paddingBottom: pxfy(props.paddingBottom)\n                    }\n                ];\n            }),\n            visibleItemsStyle: computed(() => {\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                finweckTreeUpdateTrigger.value;\n                return {\n                    transform: `translateY(${pxfy(finweckTreeRef.value.sum(startIndexRef.value))})`\n                };\n            }),\n            viewportItems: viewportItemsRef,\n            listElRef,\n            itemsElRef: ref(null),\n            scrollTo,\n            handleListResize,\n            handleListScroll,\n            handleListWheel,\n            handleItemResize\n        };\n    },\n    render() {\n        const { itemResizable, keyField, keyToIndex, visibleItemsTag } = this;\n        return h(VResizeObserver, {\n            onResize: this.handleListResize\n        }, {\n            default: () => {\n                var _a, _b;\n                return h('div', mergeProps(this.$attrs, {\n                    class: ['v-vl', this.showScrollbar && 'v-vl--show-scrollbar'],\n                    onScroll: this.handleListScroll,\n                    onWheel: this.handleListWheel,\n                    ref: 'listElRef'\n                }), [\n                    this.items.length !== 0\n                        ? h('div', {\n                            ref: 'itemsElRef',\n                            class: 'v-vl-items',\n                            style: this.itemsStyle\n                        }, [\n                            h(visibleItemsTag, Object.assign({\n                                class: 'v-vl-visible-items',\n                                style: this.visibleItemsStyle\n                            }, this.visibleItemsProps), {\n                                default: () => this.viewportItems.map((item) => {\n                                    const key = item[keyField];\n                                    const index = keyToIndex.get(key);\n                                    const itemVNode = this.$slots.default({\n                                        item,\n                                        index\n                                    })[0];\n                                    if (itemResizable) {\n                                        return h(VResizeObserver, {\n                                            key,\n                                            onResize: (entry) => this.handleItemResize(key, entry)\n                                        }, {\n                                            default: () => itemVNode\n                                        });\n                                    }\n                                    itemVNode.key = key;\n                                    return itemVNode;\n                                })\n                            })\n                        ])\n                        : (_b = (_a = this.$slots).empty) === null || _b === void 0 ? void 0 : _b.call(_a)\n                ]);\n            }\n        });\n    }\n});\n","/* eslint-disable @typescript-eslint/strict-boolean-expressions */\nimport { defineComponent, renderSlot, h, onMounted, ref, nextTick } from 'vue';\nimport { useSsrAdapter } from '@css-render/vue3-ssr';\nimport { c, cssrAnchorMetaName } from '../../shared';\nconst hiddenAttr = 'v-hidden';\nconst style = c('[v-hidden]', {\n    display: 'none!important'\n});\nexport default defineComponent({\n    name: 'Overflow',\n    props: {\n        getCounter: Function,\n        getTail: Function,\n        updateCounter: Function,\n        onUpdateOverflow: Function\n    },\n    setup(props, { slots }) {\n        const selfRef = ref(null);\n        const counterRef = ref(null);\n        function deriveCounter() {\n            const { value: self } = selfRef;\n            const { getCounter, getTail } = props;\n            let counter;\n            if (getCounter !== undefined)\n                counter = getCounter();\n            else {\n                counter = counterRef.value;\n            }\n            if (!self || !counter)\n                return;\n            if (counter.hasAttribute(hiddenAttr)) {\n                counter.removeAttribute(hiddenAttr);\n            }\n            const { children } = self;\n            const containerWidth = self.offsetWidth;\n            const childWidths = [];\n            const tail = slots.tail ? getTail === null || getTail === void 0 ? void 0 : getTail() : null;\n            let childWidthSum = tail ? tail.offsetWidth : 0;\n            let overflow = false;\n            const len = self.children.length - (slots.tail ? 1 : 0);\n            for (let i = 0; i < len - 1; ++i) {\n                if (i < 0)\n                    continue;\n                const child = children[i];\n                if (overflow) {\n                    if (!child.hasAttribute(hiddenAttr)) {\n                        child.setAttribute(hiddenAttr, '');\n                    }\n                    continue;\n                }\n                else if (child.hasAttribute(hiddenAttr)) {\n                    child.removeAttribute(hiddenAttr);\n                }\n                const childWidth = child.offsetWidth;\n                childWidthSum += childWidth;\n                childWidths[i] = childWidth;\n                if (childWidthSum > containerWidth) {\n                    const { updateCounter } = props;\n                    for (let j = i; j >= 0; --j) {\n                        const restCount = len - 1 - j;\n                        if (updateCounter !== undefined) {\n                            updateCounter(restCount);\n                        }\n                        else {\n                            counter.textContent = `${restCount}`;\n                        }\n                        const counterWidth = counter.offsetWidth;\n                        childWidthSum -= childWidths[j];\n                        if (childWidthSum + counterWidth <= containerWidth || j === 0) {\n                            overflow = true;\n                            i = j - 1;\n                            if (tail) {\n                                // tail too long or 1st element too long\n                                // we only consider tail now\n                                if (i === -1) {\n                                    tail.style.maxWidth = `${containerWidth - counterWidth}px`;\n                                    tail.style.boxSizing = 'border-box';\n                                }\n                                else {\n                                    tail.style.maxWidth = '';\n                                }\n                            }\n                            break;\n                        }\n                    }\n                }\n            }\n            const { onUpdateOverflow } = props;\n            if (!overflow) {\n                if (onUpdateOverflow !== undefined) {\n                    onUpdateOverflow(false);\n                }\n                counter.setAttribute(hiddenAttr, '');\n            }\n            else {\n                if (onUpdateOverflow !== undefined) {\n                    onUpdateOverflow(true);\n                }\n            }\n        }\n        const ssrAdapter = useSsrAdapter();\n        style.mount({\n            id: 'vueuc/overflow',\n            head: true,\n            anchorMetaName: cssrAnchorMetaName,\n            ssr: ssrAdapter\n        });\n        onMounted(deriveCounter);\n        // besides onMounted, other case should be manually triggered, or we shoud watch items\n        return {\n            selfRef,\n            counterRef,\n            sync: deriveCounter\n        };\n    },\n    render() {\n        const { $slots } = this;\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        nextTick(this.sync);\n        // It shouldn't have border\n        return h('div', {\n            class: 'v-overflow',\n            ref: 'selfRef'\n        }, [\n            renderSlot($slots, 'default'),\n            // $slots.counter should only has 1 element\n            $slots.counter\n                ? $slots.counter()\n                : h('span', {\n                    style: {\n                        display: 'inline-block'\n                    },\n                    ref: 'counterRef'\n                }),\n            // $slots.tail should only has 1 element\n            $slots.tail ? $slots.tail() : null\n        ]);\n    }\n});\n","import { onBeforeUnmount, onMounted } from 'vue';\nimport { resizeObserverManager } from 'vueuc';\nexport function useOnResize(elRef, onResize) {\n    // it needn't be reactive since it's for internal usage\n    if (onResize) {\n        onMounted(() => {\n            const { value: el } = elRef;\n            if (el) {\n                resizeObserverManager.registerHandler(el, onResize);\n            }\n        });\n        onBeforeUnmount(() => {\n            const { value: el } = elRef;\n            if (el) {\n                resizeObserverManager.unregisterHandler(el);\n            }\n        });\n    }\n}\n","import { h, defineComponent } from 'vue';\nexport default defineComponent({\n    name: 'Checkmark',\n    render() {\n        return (h(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 16 16\" },\n            h(\"g\", { fill: \"none\" },\n                h(\"path\", { d: \"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032z\", fill: \"currentColor\" }))));\n    }\n});\n","import { h, defineComponent } from 'vue';\nexport default defineComponent({\n    name: 'Empty',\n    render() {\n        return (h(\"svg\", { viewBox: \"0 0 28 28\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n            h(\"path\", { d: \"M26 7.5C26 11.0899 23.0899 14 19.5 14C15.9101 14 13 11.0899 13 7.5C13 3.91015 15.9101 1 19.5 1C23.0899 1 26 3.91015 26 7.5ZM16.8536 4.14645C16.6583 3.95118 16.3417 3.95118 16.1464 4.14645C15.9512 4.34171 15.9512 4.65829 16.1464 4.85355L18.7929 7.5L16.1464 10.1464C15.9512 10.3417 15.9512 10.6583 16.1464 10.8536C16.3417 11.0488 16.6583 11.0488 16.8536 10.8536L19.5 8.20711L22.1464 10.8536C22.3417 11.0488 22.6583 11.0488 22.8536 10.8536C23.0488 10.6583 23.0488 10.3417 22.8536 10.1464L20.2071 7.5L22.8536 4.85355C23.0488 4.65829 23.0488 4.34171 22.8536 4.14645C22.6583 3.95118 22.3417 3.95118 22.1464 4.14645L19.5 6.79289L16.8536 4.14645Z\", fill: \"currentColor\" }),\n            h(\"path\", { d: \"M25 22.75V12.5991C24.5572 13.0765 24.053 13.4961 23.5 13.8454V16H17.5L17.3982 16.0068C17.0322 16.0565 16.75 16.3703 16.75 16.75C16.75 18.2688 15.5188 19.5 14 19.5C12.4812 19.5 11.25 18.2688 11.25 16.75L11.2432 16.6482C11.1935 16.2822 10.8797 16 10.5 16H4.5V7.25C4.5 6.2835 5.2835 5.5 6.25 5.5H12.2696C12.4146 4.97463 12.6153 4.47237 12.865 4H6.25C4.45507 4 3 5.45507 3 7.25V22.75C3 24.5449 4.45507 26 6.25 26H21.75C23.5449 26 25 24.5449 25 22.75ZM4.5 22.75V17.5H9.81597L9.85751 17.7041C10.2905 19.5919 11.9808 21 14 21L14.215 20.9947C16.2095 20.8953 17.842 19.4209 18.184 17.5H23.5V22.75C23.5 23.7165 22.7165 24.5 21.75 24.5H6.25C5.2835 24.5 4.5 23.7165 4.5 22.75Z\", fill: \"currentColor\" })));\n    }\n});\n","import { h, defineComponent } from 'vue';\nexport default defineComponent({\n    props: {\n        onFocus: Function,\n        onBlur: Function\n    },\n    setup(props) {\n        return () => (h(\"div\", { style: \"width: 0; height: 0\", tabindex: 0, onFocus: props.onFocus, onBlur: props.onBlur }));\n    }\n});\n","import { c, cB, cE } from '../../../_utils/cssr';\n// vars:\n// --n-font-size\n// --n-icon-size\n// --n-icon-color\n// --n-bezier\n// --n-text-color\n// --n-extra-text-color\nexport default cB('empty', `\n display: flex;\n flex-direction: column;\n align-items: center;\n font-size: var(--n-font-size);\n`, [cE('icon', `\n width: var(--n-icon-size);\n height: var(--n-icon-size);\n font-size: var(--n-icon-size);\n line-height: var(--n-icon-size);\n color: var(--n-icon-color);\n transition:\n color .3s var(--n-bezier);\n `, [c('+', [cE('description', `\n margin-top: 8px;\n `)])]), cE('description', `\n transition: color .3s var(--n-bezier);\n color: var(--n-text-color);\n `), cE('extra', `\n text-align: center;\n transition: color .3s var(--n-bezier);\n margin-top: 12px;\n color: var(--n-extra-text-color);\n `)]);","import { h, defineComponent, computed, inject } from 'vue';\nimport { configProviderInjectionKey } from '../../config-provider/src/context';\nimport { NBaseIcon } from '../../_internal/icon';\nimport { EmptyIcon } from '../../_internal/icons';\nimport { useConfig, useLocale, useTheme, useThemeClass } from '../../_mixins';\nimport { createKey } from '../../_utils';\nimport { emptyLight } from '../styles';\nimport style from './styles/index.cssr';\nexport const emptyProps = Object.assign(Object.assign({}, useTheme.props), { description: String, showDescription: {\n        type: Boolean,\n        default: true\n    }, showIcon: {\n        type: Boolean,\n        default: true\n    }, size: {\n        type: String,\n        default: 'medium'\n    }, renderIcon: Function });\nexport default defineComponent({\n    name: 'Empty',\n    props: emptyProps,\n    setup(props) {\n        const { mergedClsPrefixRef, inlineThemeDisabled } = useConfig(props);\n        const themeRef = useTheme('Empty', '-empty', style, emptyLight, props, mergedClsPrefixRef);\n        const { localeRef } = useLocale('Empty');\n        const NConfigProvider = inject(configProviderInjectionKey, null);\n        const mergedDescriptionRef = computed(() => {\n            var _a, _b, _c;\n            return ((_a = props.description) !== null && _a !== void 0 ? _a : (_c = (_b = NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedComponentPropsRef.value) === null || _b === void 0 ? void 0 : _b.Empty) === null || _c === void 0 ? void 0 : _c.description);\n        });\n        const mergedRenderIconRef = computed(() => {\n            var _a, _b;\n            return ((_b = (_a = NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedComponentPropsRef.value) === null || _a === void 0 ? void 0 : _a.Empty) === null || _b === void 0 ? void 0 : _b.renderIcon) ||\n                (() => h(EmptyIcon, null));\n        });\n        const cssVarsRef = computed(() => {\n            const { size } = props;\n            const { common: { cubicBezierEaseInOut }, self: { [createKey('iconSize', size)]: iconSize, [createKey('fontSize', size)]: fontSize, textColor, iconColor, extraTextColor } } = themeRef.value;\n            return {\n                '--n-icon-size': iconSize,\n                '--n-font-size': fontSize,\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-text-color': textColor,\n                '--n-icon-color': iconColor,\n                '--n-extra-text-color': extraTextColor\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('empty', computed(() => {\n                let hash = '';\n                const { size } = props;\n                hash += size[0];\n                return hash;\n            }), cssVarsRef, props)\n            : undefined;\n        return {\n            mergedClsPrefix: mergedClsPrefixRef,\n            mergedRenderIcon: mergedRenderIconRef,\n            localizedDescription: computed(() => {\n                return mergedDescriptionRef.value || localeRef.value.description;\n            }),\n            cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n            themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n            onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n        };\n    },\n    render() {\n        const { $slots, mergedClsPrefix, onRender } = this;\n        onRender === null || onRender === void 0 ? void 0 : onRender();\n        return (h(\"div\", { class: [`${mergedClsPrefix}-empty`, this.themeClass], style: this.cssVars },\n            this.showIcon ? (h(\"div\", { class: `${mergedClsPrefix}-empty__icon` }, $slots.icon ? ($slots.icon()) : (h(NBaseIcon, { clsPrefix: mergedClsPrefix }, { default: this.mergedRenderIcon })))) : null,\n            this.showDescription ? (h(\"div\", { class: `${mergedClsPrefix}-empty__description` }, $slots.default ? $slots.default() : this.localizedDescription)) : null,\n            $slots.extra ? (h(\"div\", { class: `${mergedClsPrefix}-empty__extra` }, $slots.extra())) : null));\n    }\n});\n","import { h, inject, defineComponent, Transition } from 'vue';\nimport { useMemo } from 'vooks';\nimport { render, mergeEventHandlers } from '../../../_utils';\nimport { CheckmarkIcon } from '../../icons';\nimport { NBaseIcon } from '../../icon';\nimport { internalSelectionMenuInjectionKey } from './interface';\nfunction renderCheckMark(show, clsPrefix) {\n    return (h(Transition, { name: \"fade-in-scale-up-transition\" }, {\n        default: () => show ? (h(NBaseIcon, { clsPrefix: clsPrefix, class: `${clsPrefix}-base-select-option__check` }, {\n            default: () => h(CheckmarkIcon)\n        })) : null\n    }));\n}\nexport default defineComponent({\n    name: 'NBaseSelectOption',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        tmNode: {\n            type: Object,\n            required: true\n        }\n    },\n    setup(props) {\n        const { valueRef, pendingTmNodeRef, multipleRef, valueSetRef, renderLabelRef, renderOptionRef, labelFieldRef, valueFieldRef, showCheckmarkRef, nodePropsRef, handleOptionClick, handleOptionMouseEnter\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n         } = inject(internalSelectionMenuInjectionKey);\n        const isPendingRef = useMemo(() => {\n            const { value: pendingTmNode } = pendingTmNodeRef;\n            if (!pendingTmNode)\n                return false;\n            return props.tmNode.key === pendingTmNode.key;\n        });\n        function handleClick(e) {\n            const { tmNode } = props;\n            if (tmNode.disabled)\n                return;\n            handleOptionClick(e, tmNode);\n        }\n        function handleMouseEnter(e) {\n            const { tmNode } = props;\n            if (tmNode.disabled)\n                return;\n            handleOptionMouseEnter(e, tmNode);\n        }\n        function handleMouseMove(e) {\n            const { tmNode } = props;\n            const { value: isPending } = isPendingRef;\n            if (tmNode.disabled || isPending)\n                return;\n            handleOptionMouseEnter(e, tmNode);\n        }\n        return {\n            multiple: multipleRef,\n            isGrouped: useMemo(() => {\n                const { tmNode } = props;\n                const { parent } = tmNode;\n                return parent && parent.rawNode.type === 'group';\n            }),\n            showCheckmark: showCheckmarkRef,\n            nodeProps: nodePropsRef,\n            isPending: isPendingRef,\n            isSelected: useMemo(() => {\n                const { value } = valueRef;\n                const { value: multiple } = multipleRef;\n                if (value === null)\n                    return false;\n                const optionValue = props.tmNode.rawNode[valueFieldRef.value];\n                if (multiple) {\n                    const { value: valueSet } = valueSetRef;\n                    return valueSet.has(optionValue);\n                }\n                else {\n                    return value === optionValue;\n                }\n            }),\n            labelField: labelFieldRef,\n            renderLabel: renderLabelRef,\n            renderOption: renderOptionRef,\n            handleMouseMove,\n            handleMouseEnter,\n            handleClick\n        };\n    },\n    render() {\n        const { clsPrefix, tmNode: { rawNode }, isSelected, isPending, isGrouped, showCheckmark, nodeProps, renderOption, renderLabel, handleClick, handleMouseEnter, handleMouseMove } = this;\n        const checkmark = renderCheckMark(isSelected, clsPrefix);\n        const children = renderLabel\n            ? [renderLabel(rawNode, isSelected), showCheckmark && checkmark]\n            : [\n                render(rawNode[this.labelField], rawNode, isSelected),\n                showCheckmark && checkmark\n            ];\n        const attrs = nodeProps === null || nodeProps === void 0 ? void 0 : nodeProps(rawNode);\n        const node = (h(\"div\", Object.assign({}, attrs, { class: [\n                `${clsPrefix}-base-select-option`,\n                rawNode.class,\n                attrs === null || attrs === void 0 ? void 0 : attrs.class,\n                {\n                    [`${clsPrefix}-base-select-option--disabled`]: rawNode.disabled,\n                    [`${clsPrefix}-base-select-option--selected`]: isSelected,\n                    [`${clsPrefix}-base-select-option--grouped`]: isGrouped,\n                    [`${clsPrefix}-base-select-option--pending`]: isPending,\n                    [`${clsPrefix}-base-select-option--show-checkmark`]: showCheckmark\n                }\n            ], style: [(attrs === null || attrs === void 0 ? void 0 : attrs.style) || '', rawNode.style || ''], onClick: mergeEventHandlers([handleClick, attrs === null || attrs === void 0 ? void 0 : attrs.onClick]), onMouseenter: mergeEventHandlers([\n                handleMouseEnter,\n                attrs === null || attrs === void 0 ? void 0 : attrs.onMouseenter\n            ]), onMousemove: mergeEventHandlers([handleMouseMove, attrs === null || attrs === void 0 ? void 0 : attrs.onMousemove]) }),\n            h(\"div\", { class: `${clsPrefix}-base-select-option__content` }, children)));\n        return rawNode.render\n            ? rawNode.render({ node, option: rawNode, selected: isSelected })\n            : renderOption\n                ? renderOption({ node, option: rawNode, selected: isSelected })\n                : node;\n    }\n});\n","import { h, defineComponent, inject } from 'vue';\nimport { render } from '../../../_utils';\nimport { internalSelectionMenuInjectionKey } from './interface';\nexport default defineComponent({\n    name: 'NBaseSelectGroupHeader',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        tmNode: {\n            type: Object,\n            required: true\n        }\n    },\n    setup() {\n        const { renderLabelRef, renderOptionRef, labelFieldRef, nodePropsRef\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n         } = inject(internalSelectionMenuInjectionKey);\n        return {\n            labelField: labelFieldRef,\n            nodeProps: nodePropsRef,\n            renderLabel: renderLabelRef,\n            renderOption: renderOptionRef\n        };\n    },\n    render() {\n        const { clsPrefix, renderLabel, renderOption, nodeProps, tmNode: { rawNode } } = this;\n        const attrs = nodeProps === null || nodeProps === void 0 ? void 0 : nodeProps(rawNode);\n        const children = renderLabel\n            ? renderLabel(rawNode, false)\n            : render(rawNode[this.labelField], rawNode, false);\n        const node = (h(\"div\", Object.assign({}, attrs, { class: [`${clsPrefix}-base-select-group-header`, attrs === null || attrs === void 0 ? void 0 : attrs.class] }), children));\n        return rawNode.render\n            ? rawNode.render({ node, option: rawNode })\n            : renderOption\n                ? renderOption({ node, option: rawNode, selected: false })\n                : node;\n    }\n});\n","import { c, cB, cE, cM, cNotM } from '../../../../_utils/cssr';\nimport { fadeInScaleUpTransition } from '../../../../_styles/transitions/fade-in-scale-up.cssr';\n// --n-loading-color\n// --n-loading-size\n// --n-option-padding-right\nexport default cB('base-select-menu', `\n line-height: 1.5;\n outline: none;\n z-index: 0;\n position: relative;\n border-radius: var(--n-border-radius);\n transition:\n background-color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n background-color: var(--n-color);\n`, [cB('scrollbar', `\n max-height: var(--n-height);\n `), cB('virtual-list', `\n max-height: var(--n-height);\n `), cB('base-select-option', `\n min-height: var(--n-option-height);\n font-size: var(--n-option-font-size);\n display: flex;\n align-items: center;\n `, [cE('content', `\n z-index: 1;\n white-space: nowrap;\n text-overflow: ellipsis;\n overflow: hidden;\n `)]), cB('base-select-group-header', `\n min-height: var(--n-option-height);\n font-size: .93em;\n display: flex;\n align-items: center;\n `), cB('base-select-menu-option-wrapper', `\n position: relative;\n width: 100%;\n `), cE('loading, empty', `\n display: flex;\n padding: 12px 32px;\n flex: 1;\n justify-content: center;\n `), cE('loading', `\n color: var(--n-loading-color);\n font-size: var(--n-loading-size);\n `), cE('action', `\n padding: 8px var(--n-option-padding-left);\n font-size: var(--n-option-font-size);\n transition: \n color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n border-top: 1px solid var(--n-action-divider-color);\n color: var(--n-action-text-color);\n `), cB('base-select-group-header', `\n position: relative;\n cursor: default;\n padding: var(--n-option-padding);\n color: var(--n-group-header-text-color);\n `), cB('base-select-option', `\n cursor: pointer;\n position: relative;\n padding: var(--n-option-padding);\n transition:\n color .3s var(--n-bezier),\n opacity .3s var(--n-bezier);\n box-sizing: border-box;\n color: var(--n-option-text-color);\n opacity: 1;\n `, [cM('show-checkmark', `\n padding-right: calc(var(--n-option-padding-right) + 20px);\n `), c('&::before', `\n content: \"\";\n position: absolute;\n left: 4px;\n right: 4px;\n top: 0;\n bottom: 0;\n border-radius: var(--n-border-radius);\n transition: background-color .3s var(--n-bezier);\n `), c('&:active', `\n color: var(--n-option-text-color-pressed);\n `), cM('grouped', `\n padding-left: calc(var(--n-option-padding-left) * 1.5);\n `), cM('pending', [c('&::before', `\n background-color: var(--n-option-color-pending);\n `)]), cM('selected', `\n color: var(--n-option-text-color-active);\n `, [c('&::before', `\n background-color: var(--n-option-color-active);\n `), cM('pending', [c('&::before', `\n background-color: var(--n-option-color-active-pending);\n `)])]), cM('disabled', `\n cursor: not-allowed;\n `, [cNotM('selected', `\n color: var(--n-option-text-color-disabled);\n `), cM('selected', `\n opacity: var(--n-option-opacity-disabled);\n `)]), cE('check', `\n font-size: 16px;\n position: absolute;\n right: calc(var(--n-option-padding-right) - 4px);\n top: calc(50% - 7px);\n color: var(--n-option-check-color);\n transition: color .3s var(--n-bezier);\n `, [fadeInScaleUpTransition({\n  enterScale: '0.5'\n})])])]);","import { h, ref, onMounted, computed, defineComponent, toRef, provide, nextTick, watch, onBeforeUnmount } from 'vue';\nimport { createIndexGetter } from 'treemate';\nimport { VirtualList } from 'vueuc';\nimport { depx, getPadding, happensIn } from 'seemly';\nimport { NEmpty } from '../../../empty';\nimport { NScrollbar } from '../../scrollbar';\nimport { resolveSlot, resolveWrappedSlot, useOnResize } from '../../../_utils';\nimport { createKey } from '../../../_utils/cssr';\nimport { useThemeClass, useTheme } from '../../../_mixins';\nimport NInternalLoading from '../../loading';\nimport NFocusDetector from '../../focus-detector';\nimport { internalSelectMenuLight } from '../styles';\nimport NSelectOption from './SelectOption';\nimport NSelectGroupHeader from './SelectGroupHeader';\nimport { internalSelectionMenuInjectionKey, internalSelectionMenuBodyInjectionKey } from './interface';\nimport style from './styles/index.cssr';\nexport default defineComponent({\n    name: 'InternalSelectMenu',\n    props: Object.assign(Object.assign({}, useTheme.props), { clsPrefix: {\n            type: String,\n            required: true\n        }, scrollable: {\n            type: Boolean,\n            default: true\n        }, treeMate: {\n            type: Object,\n            required: true\n        }, multiple: Boolean, size: {\n            type: String,\n            default: 'medium'\n        }, value: {\n            type: [String, Number, Array],\n            default: null\n        }, autoPending: Boolean, virtualScroll: {\n            type: Boolean,\n            default: true\n        }, \n        // show is used to toggle pending state initialization\n        show: {\n            type: Boolean,\n            default: true\n        }, labelField: {\n            type: String,\n            default: 'label'\n        }, valueField: {\n            type: String,\n            default: 'value'\n        }, loading: Boolean, focusable: Boolean, renderLabel: Function, renderOption: Function, nodeProps: Function, showCheckmark: { type: Boolean, default: true }, onMousedown: Function, onScroll: Function, onFocus: Function, onBlur: Function, onKeyup: Function, onKeydown: Function, onTabOut: Function, onMouseenter: Function, onMouseleave: Function, onResize: Function, resetMenuOnOptionsChange: {\n            type: Boolean,\n            default: true\n        }, inlineThemeDisabled: Boolean, \n        // deprecated\n        onToggle: Function }),\n    setup(props) {\n        const themeRef = useTheme('InternalSelectMenu', '-internal-select-menu', style, internalSelectMenuLight, props, toRef(props, 'clsPrefix'));\n        const selfRef = ref(null);\n        const virtualListRef = ref(null);\n        const scrollbarRef = ref(null);\n        const flattenedNodesRef = computed(() => props.treeMate.getFlattenedNodes());\n        const fIndexGetterRef = computed(() => createIndexGetter(flattenedNodesRef.value));\n        const pendingNodeRef = ref(null);\n        function initPendingNode() {\n            const { treeMate } = props;\n            let defaultPendingNode = null;\n            const { value } = props;\n            if (value === null) {\n                defaultPendingNode = treeMate.getFirstAvailableNode();\n            }\n            else {\n                if (props.multiple) {\n                    defaultPendingNode = treeMate.getNode((value || [])[(value || []).length - 1]);\n                }\n                else {\n                    defaultPendingNode = treeMate.getNode(value);\n                }\n                if (!defaultPendingNode || defaultPendingNode.disabled) {\n                    defaultPendingNode = treeMate.getFirstAvailableNode();\n                }\n            }\n            if (defaultPendingNode) {\n                setPendingTmNode(defaultPendingNode);\n            }\n            else {\n                setPendingTmNode(null);\n            }\n        }\n        function clearPendingNodeIfInvalid() {\n            const { value: pendingNode } = pendingNodeRef;\n            if (pendingNode && !props.treeMate.getNode(pendingNode.key)) {\n                pendingNodeRef.value = null;\n            }\n        }\n        let initPendingNodeWatchStopHandle;\n        watch(() => props.show, (show) => {\n            if (show) {\n                initPendingNodeWatchStopHandle = watch(() => props.treeMate, () => {\n                    if (props.resetMenuOnOptionsChange) {\n                        if (props.autoPending) {\n                            initPendingNode();\n                        }\n                        else {\n                            clearPendingNodeIfInvalid();\n                        }\n                        void nextTick(scrollToPendingNode);\n                    }\n                    else {\n                        clearPendingNodeIfInvalid();\n                    }\n                }, {\n                    immediate: true\n                });\n            }\n            else {\n                initPendingNodeWatchStopHandle === null || initPendingNodeWatchStopHandle === void 0 ? void 0 : initPendingNodeWatchStopHandle();\n            }\n        }, {\n            immediate: true\n        });\n        onBeforeUnmount(() => {\n            initPendingNodeWatchStopHandle === null || initPendingNodeWatchStopHandle === void 0 ? void 0 : initPendingNodeWatchStopHandle();\n        });\n        const itemSizeRef = computed(() => {\n            return depx(themeRef.value.self[createKey('optionHeight', props.size)]);\n        });\n        const paddingRef = computed(() => {\n            return getPadding(themeRef.value.self[createKey('padding', props.size)]);\n        });\n        const valueSetRef = computed(() => {\n            if (props.multiple && Array.isArray(props.value)) {\n                return new Set(props.value);\n            }\n            return new Set();\n        });\n        const emptyRef = computed(() => {\n            const tmNodes = flattenedNodesRef.value;\n            return tmNodes && tmNodes.length === 0;\n        });\n        function doToggle(tmNode) {\n            const { onToggle } = props;\n            if (onToggle)\n                onToggle(tmNode);\n        }\n        function doScroll(e) {\n            const { onScroll } = props;\n            if (onScroll)\n                onScroll(e);\n        }\n        // required, scroller sync need to be triggered manually\n        function handleVirtualListScroll(e) {\n            var _a;\n            (_a = scrollbarRef.value) === null || _a === void 0 ? void 0 : _a.sync();\n            doScroll(e);\n        }\n        function handleVirtualListResize() {\n            var _a;\n            (_a = scrollbarRef.value) === null || _a === void 0 ? void 0 : _a.sync();\n        }\n        function getPendingTmNode() {\n            const { value: pendingTmNode } = pendingNodeRef;\n            if (pendingTmNode)\n                return pendingTmNode;\n            return null;\n        }\n        function handleOptionMouseEnter(e, tmNode) {\n            if (tmNode.disabled)\n                return;\n            setPendingTmNode(tmNode, false);\n        }\n        function handleOptionClick(e, tmNode) {\n            if (tmNode.disabled)\n                return;\n            doToggle(tmNode);\n        }\n        // keyboard related methods\n        function handleKeyUp(e) {\n            var _a;\n            if (happensIn(e, 'action'))\n                return;\n            (_a = props.onKeyup) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        }\n        function handleKeyDown(e) {\n            var _a;\n            if (happensIn(e, 'action'))\n                return;\n            (_a = props.onKeydown) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        }\n        function handleMouseDown(e) {\n            var _a;\n            (_a = props.onMousedown) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            if (props.focusable)\n                return;\n            e.preventDefault();\n        }\n        function next() {\n            const { value: pendingTmNode } = pendingNodeRef;\n            if (pendingTmNode) {\n                setPendingTmNode(pendingTmNode.getNext({ loop: true }), true);\n            }\n        }\n        function prev() {\n            const { value: pendingTmNode } = pendingNodeRef;\n            if (pendingTmNode) {\n                setPendingTmNode(pendingTmNode.getPrev({ loop: true }), true);\n            }\n        }\n        function setPendingTmNode(tmNode, doScroll = false) {\n            pendingNodeRef.value = tmNode;\n            if (doScroll)\n                scrollToPendingNode();\n        }\n        function scrollToPendingNode() {\n            var _a, _b;\n            const tmNode = pendingNodeRef.value;\n            if (!tmNode)\n                return;\n            const fIndex = fIndexGetterRef.value(tmNode.key);\n            if (fIndex === null)\n                return;\n            if (props.virtualScroll) {\n                (_a = virtualListRef.value) === null || _a === void 0 ? void 0 : _a.scrollTo({ index: fIndex });\n            }\n            else {\n                (_b = scrollbarRef.value) === null || _b === void 0 ? void 0 : _b.scrollTo({\n                    index: fIndex,\n                    elSize: itemSizeRef.value\n                });\n            }\n        }\n        function handleFocusin(e) {\n            var _a, _b;\n            if ((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.target)) {\n                (_b = props.onFocus) === null || _b === void 0 ? void 0 : _b.call(props, e);\n            }\n        }\n        function handleFocusout(e) {\n            var _a, _b;\n            if (!((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.relatedTarget))) {\n                (_b = props.onBlur) === null || _b === void 0 ? void 0 : _b.call(props, e);\n            }\n        }\n        provide(internalSelectionMenuInjectionKey, {\n            handleOptionMouseEnter,\n            handleOptionClick,\n            valueSetRef,\n            pendingTmNodeRef: pendingNodeRef,\n            nodePropsRef: toRef(props, 'nodeProps'),\n            showCheckmarkRef: toRef(props, 'showCheckmark'),\n            multipleRef: toRef(props, 'multiple'),\n            valueRef: toRef(props, 'value'),\n            renderLabelRef: toRef(props, 'renderLabel'),\n            renderOptionRef: toRef(props, 'renderOption'),\n            labelFieldRef: toRef(props, 'labelField'),\n            valueFieldRef: toRef(props, 'valueField')\n        });\n        provide(internalSelectionMenuBodyInjectionKey, selfRef);\n        onMounted(() => {\n            const { value } = scrollbarRef;\n            if (value)\n                value.sync();\n        });\n        const cssVarsRef = computed(() => {\n            const { size } = props;\n            const { common: { cubicBezierEaseInOut }, self: { height, borderRadius, color, groupHeaderTextColor, actionDividerColor, optionTextColorPressed, optionTextColor, optionTextColorDisabled, optionTextColorActive, optionOpacityDisabled, optionCheckColor, actionTextColor, optionColorPending, optionColorActive, loadingColor, loadingSize, optionColorActivePending, [createKey('optionFontSize', size)]: fontSize, [createKey('optionHeight', size)]: optionHeight, [createKey('optionPadding', size)]: optionPadding } } = themeRef.value;\n            return {\n                '--n-height': height,\n                '--n-action-divider-color': actionDividerColor,\n                '--n-action-text-color': actionTextColor,\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-border-radius': borderRadius,\n                '--n-color': color,\n                '--n-option-font-size': fontSize,\n                '--n-group-header-text-color': groupHeaderTextColor,\n                '--n-option-check-color': optionCheckColor,\n                '--n-option-color-pending': optionColorPending,\n                '--n-option-color-active': optionColorActive,\n                '--n-option-color-active-pending': optionColorActivePending,\n                '--n-option-height': optionHeight,\n                '--n-option-opacity-disabled': optionOpacityDisabled,\n                '--n-option-text-color': optionTextColor,\n                '--n-option-text-color-active': optionTextColorActive,\n                '--n-option-text-color-disabled': optionTextColorDisabled,\n                '--n-option-text-color-pressed': optionTextColorPressed,\n                '--n-option-padding': optionPadding,\n                '--n-option-padding-left': getPadding(optionPadding, 'left'),\n                '--n-option-padding-right': getPadding(optionPadding, 'right'),\n                '--n-loading-color': loadingColor,\n                '--n-loading-size': loadingSize\n            };\n        });\n        const { inlineThemeDisabled } = props;\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('internal-select-menu', computed(() => props.size[0]), cssVarsRef, props)\n            : undefined;\n        const exposedProps = {\n            selfRef,\n            next,\n            prev,\n            getPendingTmNode\n        };\n        useOnResize(selfRef, props.onResize);\n        return Object.assign({ mergedTheme: themeRef, virtualListRef,\n            scrollbarRef, itemSize: itemSizeRef, padding: paddingRef, flattenedNodes: flattenedNodesRef, empty: emptyRef, virtualListContainer() {\n                const { value } = virtualListRef;\n                return value === null || value === void 0 ? void 0 : value.listElRef;\n            },\n            virtualListContent() {\n                const { value } = virtualListRef;\n                return value === null || value === void 0 ? void 0 : value.itemsElRef;\n            },\n            doScroll,\n            handleFocusin,\n            handleFocusout,\n            handleKeyUp,\n            handleKeyDown,\n            handleMouseDown,\n            handleVirtualListResize,\n            handleVirtualListScroll, cssVars: inlineThemeDisabled ? undefined : cssVarsRef, themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass, onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender }, exposedProps);\n    },\n    render() {\n        const { $slots, virtualScroll, clsPrefix, mergedTheme, themeClass, onRender } = this;\n        onRender === null || onRender === void 0 ? void 0 : onRender();\n        return (h(\"div\", { ref: \"selfRef\", tabindex: this.focusable ? 0 : -1, class: [\n                `${clsPrefix}-base-select-menu`,\n                themeClass,\n                this.multiple && `${clsPrefix}-base-select-menu--multiple`\n            ], style: this.cssVars, onFocusin: this.handleFocusin, onFocusout: this.handleFocusout, onKeyup: this.handleKeyUp, onKeydown: this.handleKeyDown, onMousedown: this.handleMouseDown, onMouseenter: this.onMouseenter, onMouseleave: this.onMouseleave },\n            this.loading ? (h(\"div\", { class: `${clsPrefix}-base-select-menu__loading` },\n                h(NInternalLoading, { clsPrefix: clsPrefix, strokeWidth: 20 }))) : !this.empty ? (h(NScrollbar, { ref: \"scrollbarRef\", theme: mergedTheme.peers.Scrollbar, themeOverrides: mergedTheme.peerOverrides.Scrollbar, scrollable: this.scrollable, container: virtualScroll ? this.virtualListContainer : undefined, content: virtualScroll ? this.virtualListContent : undefined, onScroll: virtualScroll ? undefined : this.doScroll }, {\n                default: () => {\n                    return virtualScroll ? (h(VirtualList, { ref: \"virtualListRef\", class: `${clsPrefix}-virtual-list`, items: this.flattenedNodes, itemSize: this.itemSize, showScrollbar: false, paddingTop: this.padding.top, paddingBottom: this.padding.bottom, onResize: this.handleVirtualListResize, onScroll: this.handleVirtualListScroll, itemResizable: true }, {\n                        default: ({ item: tmNode }) => {\n                            return tmNode.isGroup ? (h(NSelectGroupHeader, { key: tmNode.key, clsPrefix: clsPrefix, tmNode: tmNode })) : tmNode.ignored ? null : (h(NSelectOption, { clsPrefix: clsPrefix, key: tmNode.key, tmNode: tmNode }));\n                        }\n                    })) : (h(\"div\", { class: `${clsPrefix}-base-select-menu-option-wrapper`, style: {\n                            paddingTop: this.padding.top,\n                            paddingBottom: this.padding.bottom\n                        } }, this.flattenedNodes.map((tmNode) => tmNode.isGroup ? (h(NSelectGroupHeader, { key: tmNode.key, clsPrefix: clsPrefix, tmNode: tmNode })) : (h(NSelectOption, { clsPrefix: clsPrefix, key: tmNode.key, tmNode: tmNode })))));\n                }\n            })) : (h(\"div\", { class: `${clsPrefix}-base-select-menu__empty`, \"data-empty\": true }, resolveSlot($slots.empty, () => [\n                h(NEmpty, { theme: mergedTheme.peers.Empty, themeOverrides: mergedTheme.peerOverrides.Empty })\n            ]))),\n            resolveWrappedSlot($slots.action, (children) => children && [\n                h(\"div\", { class: `${clsPrefix}-base-select-menu__action`, \"data-action\": true, key: \"action\" }, children),\n                h(NFocusDetector, { onFocus: this.onTabOut, key: \"focus-detector\" })\n            ])));\n    }\n});\n","import commonVariables from './_common';\nimport { changeColor } from 'seemly';\nimport { commonLight } from '../../_styles/common';\nconst self = (vars) => {\n    const { textColor2, primaryColorHover, primaryColorPressed, primaryColor, infoColor, successColor, warningColor, errorColor, baseColor, borderColor, opacityDisabled, tagColor, closeIconColor, closeIconColorHover, closeIconColorPressed, borderRadiusSmall: borderRadius, fontSizeMini, fontSizeTiny, fontSizeSmall, fontSizeMedium, heightMini, heightTiny, heightSmall, heightMedium, closeColorHover, closeColorPressed, buttonColor2Hover, buttonColor2Pressed, fontWeightStrong } = vars;\n    return Object.assign(Object.assign({}, commonVariables), { closeBorderRadius: borderRadius, heightTiny: heightMini, heightSmall: heightTiny, heightMedium: heightSmall, heightLarge: heightMedium, borderRadius,\n        opacityDisabled, fontSizeTiny: fontSizeMini, fontSizeSmall: fontSizeTiny, fontSizeMedium: fontSizeSmall, fontSizeLarge: fontSizeMedium, fontWeightStrong, \n        // checked\n        textColorCheckable: textColor2, textColorHoverCheckable: textColor2, textColorPressedCheckable: textColor2, textColorChecked: baseColor, colorCheckable: '#0000', colorHoverCheckable: buttonColor2Hover, colorPressedCheckable: buttonColor2Pressed, colorChecked: primaryColor, colorCheckedHover: primaryColorHover, colorCheckedPressed: primaryColorPressed, \n        // default\n        border: `1px solid ${borderColor}`, textColor: textColor2, color: tagColor, colorBordered: 'rgb(250, 250, 252)', closeIconColor,\n        closeIconColorHover,\n        closeIconColorPressed,\n        closeColorHover,\n        closeColorPressed, borderPrimary: `1px solid ${changeColor(primaryColor, { alpha: 0.3 })}`, textColorPrimary: primaryColor, colorPrimary: changeColor(primaryColor, { alpha: 0.12 }), colorBorderedPrimary: changeColor(primaryColor, { alpha: 0.1 }), closeIconColorPrimary: primaryColor, closeIconColorHoverPrimary: primaryColor, closeIconColorPressedPrimary: primaryColor, closeColorHoverPrimary: changeColor(primaryColor, { alpha: 0.12 }), closeColorPressedPrimary: changeColor(primaryColor, { alpha: 0.18 }), borderInfo: `1px solid ${changeColor(infoColor, { alpha: 0.3 })}`, textColorInfo: infoColor, colorInfo: changeColor(infoColor, { alpha: 0.12 }), colorBorderedInfo: changeColor(infoColor, { alpha: 0.1 }), closeIconColorInfo: infoColor, closeIconColorHoverInfo: infoColor, closeIconColorPressedInfo: infoColor, closeColorHoverInfo: changeColor(infoColor, { alpha: 0.12 }), closeColorPressedInfo: changeColor(infoColor, { alpha: 0.18 }), borderSuccess: `1px solid ${changeColor(successColor, { alpha: 0.3 })}`, textColorSuccess: successColor, colorSuccess: changeColor(successColor, { alpha: 0.12 }), colorBorderedSuccess: changeColor(successColor, { alpha: 0.1 }), closeIconColorSuccess: successColor, closeIconColorHoverSuccess: successColor, closeIconColorPressedSuccess: successColor, closeColorHoverSuccess: changeColor(successColor, { alpha: 0.12 }), closeColorPressedSuccess: changeColor(successColor, { alpha: 0.18 }), borderWarning: `1px solid ${changeColor(warningColor, { alpha: 0.35 })}`, textColorWarning: warningColor, colorWarning: changeColor(warningColor, { alpha: 0.15 }), colorBorderedWarning: changeColor(warningColor, { alpha: 0.12 }), closeIconColorWarning: warningColor, closeIconColorHoverWarning: warningColor, closeIconColorPressedWarning: warningColor, closeColorHoverWarning: changeColor(warningColor, { alpha: 0.12 }), closeColorPressedWarning: changeColor(warningColor, { alpha: 0.18 }), borderError: `1px solid ${changeColor(errorColor, { alpha: 0.23 })}`, textColorError: errorColor, colorError: changeColor(errorColor, { alpha: 0.1 }), colorBorderedError: changeColor(errorColor, { alpha: 0.08 }), closeIconColorError: errorColor, closeIconColorHoverError: errorColor, closeIconColorPressedError: errorColor, closeColorHoverError: changeColor(errorColor, { alpha: 0.12 }), closeColorPressedError: changeColor(errorColor, { alpha: 0.18 }) });\n};\nconst tagLight = {\n    name: 'Tag',\n    common: commonLight,\n    self\n};\nexport default tagLight;\n","export default {\n    color: Object,\n    type: {\n        type: String,\n        default: 'default'\n    },\n    round: Boolean,\n    size: {\n        type: String,\n        default: 'medium'\n    },\n    closable: Boolean,\n    disabled: {\n        type: Boolean,\n        default: undefined\n    }\n};\n","import { c, cB, cE, cM, cNotM } from '../../../_utils/cssr';\n// vars:\n// --n-bezier\n// --n-border-radius\n// --n-border\n// --n-close-icon-color\n// --n-close-icon-color-hover\n// --n-close-icon-color-pressed\n// --n-close-margin\n// --n-close-size\n// --n-color\n// --n-color-checkable\n// --n-color-checked\n// --n-color-checked-hover\n// --n-color-checked-pressed\n// --n-color-hover-checkable\n// --n-color-pressed-checkable\n// --n-font-size\n// --n-height\n// --n-opacity-disabled\n// --n-padding\n// --n-text-color\n// --n-text-color-checkable\n// --n-text-color-checked\n// --n-text-color-hover-checkable\n// --n-text-color-pressed-checkable\n// --n-font-weight-strong\nexport default cB('tag', `\n white-space: nowrap;\n position: relative;\n box-sizing: border-box;\n cursor: default;\n display: inline-flex;\n align-items: center;\n flex-wrap: nowrap;\n padding: var(--n-padding);\n border-radius: var(--n-border-radius);\n color: var(--n-text-color);\n background-color: var(--n-color);\n transition: \n border-color .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n opacity .3s var(--n-bezier);\n line-height: 1;\n height: var(--n-height);\n font-size: var(--n-font-size);\n`, [cM('strong', `\n font-weight: var(--n-font-weight-strong);\n `), cE('border', `\n pointer-events: none;\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n border-radius: inherit;\n border: var(--n-border);\n transition: border-color .3s var(--n-bezier);\n `), cE('icon', `\n display: flex;\n margin: 0 4px 0 0;\n color: var(--n-text-color);\n transition: color .3s var(--n-bezier);\n font-size: var(--n-avatar-size-override);\n `), cE('avatar', `\n display: flex;\n margin: 0 6px 0 0;\n `), cE('close', `\n margin: var(--n-close-margin);\n transition:\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n `), cM('round', `\n padding: 0 calc(var(--n-height) / 3);\n border-radius: calc(var(--n-height) / 2);\n `, [cE('icon', `\n margin: 0 4px 0 calc((var(--n-height) - 8px) / -2);\n `), cE('avatar', `\n margin: 0 6px 0 calc((var(--n-height) - 8px) / -2);\n `), cM('closable', `\n padding: 0 calc(var(--n-height) / 4) 0 calc(var(--n-height) / 3);\n `)]), cM('icon, avatar', [cM('round', `\n padding: 0 calc(var(--n-height) / 3) 0 calc(var(--n-height) / 2);\n `)]), cM('disabled', `\n cursor: not-allowed !important;\n opacity: var(--n-opacity-disabled);\n `), cM('checkable', `\n cursor: pointer;\n box-shadow: none;\n color: var(--n-text-color-checkable);\n background-color: var(--n-color-checkable);\n `, [cNotM('disabled', [c('&:hover', 'background-color: var(--n-color-hover-checkable);', [cNotM('checked', 'color: var(--n-text-color-hover-checkable);')]), c('&:active', 'background-color: var(--n-color-pressed-checkable);', [cNotM('checked', 'color: var(--n-text-color-pressed-checkable);')])]), cM('checked', `\n color: var(--n-text-color-checked);\n background-color: var(--n-color-checked);\n `, [cNotM('disabled', [c('&:hover', 'background-color: var(--n-color-checked-hover);'), c('&:active', 'background-color: var(--n-color-checked-pressed);')])])])]);","import { h, defineComponent, computed, ref, provide, toRef, watchEffect } from 'vue';\nimport { useRtl } from '../../_mixins/use-rtl';\nimport { NBaseClose } from '../../_internal/close';\nimport { useConfig, useThemeClass, useTheme } from '../../_mixins';\nimport { createKey, call, createInjectionKey, color2Class, resolveWrappedSlot, warnOnce } from '../../_utils';\nimport { tagLight } from '../styles';\nimport commonProps from './common-props';\nimport style from './styles/index.cssr';\nexport const tagProps = Object.assign(Object.assign(Object.assign({}, useTheme.props), commonProps), { bordered: {\n        type: Boolean,\n        default: undefined\n    }, checked: Boolean, checkable: Boolean, strong: Boolean, triggerClickOnClose: Boolean, onClose: [Array, Function], onMouseenter: Function, onMouseleave: Function, 'onUpdate:checked': Function, onUpdateChecked: Function, \n    // private\n    internalCloseFocusable: {\n        type: Boolean,\n        default: true\n    }, internalCloseIsButtonTag: {\n        type: Boolean,\n        default: true\n    }, \n    // deprecated\n    onCheckedChange: Function });\nexport const tagInjectionKey = createInjectionKey('n-tag');\nexport default defineComponent({\n    name: 'Tag',\n    props: tagProps,\n    setup(props) {\n        if (process.env.NODE_ENV !== 'production') {\n            watchEffect(() => {\n                if (props.onCheckedChange !== undefined) {\n                    warnOnce('tag', '`on-checked-change` is deprecated, please use `on-update:checked` instead');\n                }\n            });\n        }\n        const contentRef = ref(null);\n        const { mergedBorderedRef, mergedClsPrefixRef, inlineThemeDisabled, mergedRtlRef } = useConfig(props);\n        const themeRef = useTheme('Tag', '-tag', style, tagLight, props, mergedClsPrefixRef);\n        provide(tagInjectionKey, {\n            roundRef: toRef(props, 'round')\n        });\n        function handleClick(e) {\n            if (!props.disabled) {\n                if (props.checkable) {\n                    const { checked, onCheckedChange, onUpdateChecked, 'onUpdate:checked': _onUpdateChecked } = props;\n                    if (onUpdateChecked)\n                        onUpdateChecked(!checked);\n                    if (_onUpdateChecked)\n                        _onUpdateChecked(!checked);\n                    // deprecated\n                    if (onCheckedChange)\n                        onCheckedChange(!checked);\n                }\n            }\n        }\n        function handleCloseClick(e) {\n            if (!props.triggerClickOnClose) {\n                e.stopPropagation();\n            }\n            if (!props.disabled) {\n                const { onClose } = props;\n                if (onClose)\n                    call(onClose, e);\n            }\n        }\n        const tagPublicMethods = {\n            setTextContent(textContent) {\n                const { value } = contentRef;\n                if (value)\n                    value.textContent = textContent;\n            }\n        };\n        const rtlEnabledRef = useRtl('Tag', mergedRtlRef, mergedClsPrefixRef);\n        const cssVarsRef = computed(() => {\n            const { type, size, color: { color, textColor } = {} } = props;\n            const { common: { cubicBezierEaseInOut }, self: { padding, closeMargin, closeMarginRtl, borderRadius, opacityDisabled, textColorCheckable, textColorHoverCheckable, textColorPressedCheckable, textColorChecked, colorCheckable, colorHoverCheckable, colorPressedCheckable, colorChecked, colorCheckedHover, colorCheckedPressed, closeBorderRadius, fontWeightStrong, [createKey('colorBordered', type)]: colorBordered, [createKey('closeSize', size)]: closeSize, [createKey('closeIconSize', size)]: closeIconSize, [createKey('fontSize', size)]: fontSize, [createKey('height', size)]: height, [createKey('color', type)]: typedColor, [createKey('textColor', type)]: typeTextColor, [createKey('border', type)]: border, [createKey('closeIconColor', type)]: closeIconColor, [createKey('closeIconColorHover', type)]: closeIconColorHover, [createKey('closeIconColorPressed', type)]: closeIconColorPressed, [createKey('closeColorHover', type)]: closeColorHover, [createKey('closeColorPressed', type)]: closeColorPressed } } = themeRef.value;\n            return {\n                '--n-font-weight-strong': fontWeightStrong,\n                '--n-avatar-size-override': `calc(${height} - 8px)`,\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-border-radius': borderRadius,\n                '--n-border': border,\n                '--n-close-icon-size': closeIconSize,\n                '--n-close-color-pressed': closeColorPressed,\n                '--n-close-color-hover': closeColorHover,\n                '--n-close-border-radius': closeBorderRadius,\n                '--n-close-icon-color': closeIconColor,\n                '--n-close-icon-color-hover': closeIconColorHover,\n                '--n-close-icon-color-pressed': closeIconColorPressed,\n                '--n-close-icon-color-disabled': closeIconColor,\n                '--n-close-margin': closeMargin,\n                '--n-close-margin-rtl': closeMarginRtl,\n                '--n-close-size': closeSize,\n                '--n-color': color || (mergedBorderedRef.value ? colorBordered : typedColor),\n                '--n-color-checkable': colorCheckable,\n                '--n-color-checked': colorChecked,\n                '--n-color-checked-hover': colorCheckedHover,\n                '--n-color-checked-pressed': colorCheckedPressed,\n                '--n-color-hover-checkable': colorHoverCheckable,\n                '--n-color-pressed-checkable': colorPressedCheckable,\n                '--n-font-size': fontSize,\n                '--n-height': height,\n                '--n-opacity-disabled': opacityDisabled,\n                '--n-padding': padding,\n                '--n-text-color': textColor || typeTextColor,\n                '--n-text-color-checkable': textColorCheckable,\n                '--n-text-color-checked': textColorChecked,\n                '--n-text-color-hover-checkable': textColorHoverCheckable,\n                '--n-text-color-pressed-checkable': textColorPressedCheckable\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('tag', computed(() => {\n                let hash = '';\n                const { type, size, color: { color, textColor } = {} } = props;\n                hash += type[0];\n                hash += size[0];\n                if (color) {\n                    hash += `a${color2Class(color)}`;\n                }\n                if (textColor) {\n                    hash += `b${color2Class(textColor)}`;\n                }\n                if (mergedBorderedRef.value) {\n                    hash += 'c';\n                }\n                return hash;\n            }), cssVarsRef, props)\n            : undefined;\n        return Object.assign(Object.assign({}, tagPublicMethods), { rtlEnabled: rtlEnabledRef, mergedClsPrefix: mergedClsPrefixRef, contentRef, mergedBordered: mergedBorderedRef, handleClick,\n            handleCloseClick, cssVars: inlineThemeDisabled ? undefined : cssVarsRef, themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass, onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender });\n    },\n    render() {\n        var _a, _b;\n        const { mergedClsPrefix, rtlEnabled, closable, color: { borderColor } = {}, round, onRender, $slots } = this;\n        onRender === null || onRender === void 0 ? void 0 : onRender();\n        const avatarNode = resolveWrappedSlot($slots.avatar, (children) => children && (h(\"div\", { class: `${mergedClsPrefix}-tag__avatar` }, children)));\n        const iconNode = resolveWrappedSlot($slots.icon, (children) => children && h(\"div\", { class: `${mergedClsPrefix}-tag__icon` }, children));\n        return (h(\"div\", { class: [\n                `${mergedClsPrefix}-tag`,\n                this.themeClass,\n                {\n                    [`${mergedClsPrefix}-tag--rtl`]: rtlEnabled,\n                    [`${mergedClsPrefix}-tag--strong`]: this.strong,\n                    [`${mergedClsPrefix}-tag--disabled`]: this.disabled,\n                    [`${mergedClsPrefix}-tag--checkable`]: this.checkable,\n                    [`${mergedClsPrefix}-tag--checked`]: this.checkable && this.checked,\n                    [`${mergedClsPrefix}-tag--round`]: round,\n                    [`${mergedClsPrefix}-tag--avatar`]: avatarNode,\n                    [`${mergedClsPrefix}-tag--icon`]: iconNode,\n                    [`${mergedClsPrefix}-tag--closable`]: closable\n                }\n            ], style: this.cssVars, onClick: this.handleClick, onMouseenter: this.onMouseenter, onMouseleave: this.onMouseleave },\n            iconNode || avatarNode,\n            h(\"span\", { class: `${mergedClsPrefix}-tag__content`, ref: \"contentRef\" }, (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 : _b.call(_a)),\n            !this.checkable && closable ? (h(NBaseClose, { clsPrefix: mergedClsPrefix, class: `${mergedClsPrefix}-tag__close`, disabled: this.disabled, onClick: this.handleCloseClick, focusable: this.internalCloseFocusable, round: round, isButtonTag: this.internalCloseIsButtonTag, absolute: true })) : null,\n            !this.checkable && this.mergedBordered ? (h(\"div\", { class: `${mergedClsPrefix}-tag__border`, style: { borderColor } })) : null));\n    }\n});\n","import { c, cB, cE, cM, cNotM } from '../../../../_utils/cssr';\n// vars:\n// --n-bezier\n// --n-border\n// --n-border-active\n// --n-border-focus\n// --n-border-hover\n// --n-border-radius\n// --n-box-shadow-active\n// --n-box-shadow-focus\n// --n-box-shadow-hover\n// --n-caret-color\n// --n-color\n// --n-color-active\n// --n-color-disabled\n// --n-font-size\n// --n-height\n// --n-padding-single\n// --n-padding-multiple\n// --n-placeholder-color\n// --n-placeholder-color-disabled\n// --n-text-color\n// --n-text-color-disabled\n// --n-arrow-color\n// --n-arrow-size\n// --n-loading-color\n// ...clear vars\n// ...form item vars\nexport default c([cB('base-selection', `\n position: relative;\n z-index: auto;\n box-shadow: none;\n width: 100%;\n max-width: 100%;\n display: inline-block;\n vertical-align: bottom;\n border-radius: var(--n-border-radius);\n min-height: var(--n-height);\n line-height: 1.5;\n font-size: var(--n-font-size);\n `, [cB('base-loading', `\n color: var(--n-loading-color);\n `), cB('base-selection-tags', 'min-height: var(--n-height);'), cE('border, state-border', `\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n pointer-events: none;\n border: var(--n-border);\n border-radius: inherit;\n transition:\n box-shadow .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n `), cE('state-border', `\n z-index: 1;\n border-color: #0000;\n `), cB('base-suffix', `\n cursor: pointer;\n position: absolute;\n top: 50%;\n transform: translateY(-50%);\n right: 10px;\n `, [cE('arrow', `\n font-size: var(--n-arrow-size);\n color: var(--n-arrow-color);\n transition: color .3s var(--n-bezier);\n `)]), cB('base-selection-overlay', `\n display: flex;\n align-items: center;\n white-space: nowrap;\n pointer-events: none;\n position: absolute;\n top: 0;\n right: 0;\n bottom: 0;\n left: 0;\n padding: var(--n-padding-single);\n transition: color .3s var(--n-bezier);\n `, [cE('wrapper', `\n flex-basis: 0;\n flex-grow: 1;\n overflow: hidden;\n text-overflow: ellipsis;\n `)]), cB('base-selection-placeholder', `\n color: var(--n-placeholder-color);\n `, [cE('inner', `\n max-width: 100%;\n overflow: hidden;\n `)]), cB('base-selection-tags', `\n cursor: pointer;\n outline: none;\n box-sizing: border-box;\n position: relative;\n z-index: auto;\n display: flex;\n padding: var(--n-padding-multiple);\n flex-wrap: wrap;\n align-items: center;\n width: 100%;\n vertical-align: bottom;\n background-color: var(--n-color);\n border-radius: inherit;\n transition:\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n `), cB('base-selection-label', `\n height: var(--n-height);\n display: inline-flex;\n width: 100%;\n vertical-align: bottom;\n cursor: pointer;\n outline: none;\n z-index: auto;\n box-sizing: border-box;\n position: relative;\n transition:\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n border-radius: inherit;\n background-color: var(--n-color);\n align-items: center;\n `, [cB('base-selection-input', `\n font-size: inherit;\n line-height: inherit;\n outline: none;\n cursor: pointer;\n box-sizing: border-box;\n border:none;\n width: 100%;\n padding: var(--n-padding-single);\n background-color: #0000;\n color: var(--n-text-color);\n transition: color .3s var(--n-bezier);\n caret-color: var(--n-caret-color);\n `, [cE('content', `\n text-overflow: ellipsis;\n overflow: hidden;\n white-space: nowrap; \n `)]), cE('render-label', `\n color: var(--n-text-color);\n `)]), cNotM('disabled', [c('&:hover', [cE('state-border', `\n box-shadow: var(--n-box-shadow-hover);\n border: var(--n-border-hover);\n `)]), cM('focus', [cE('state-border', `\n box-shadow: var(--n-box-shadow-focus);\n border: var(--n-border-focus);\n `)]), cM('active', [cE('state-border', `\n box-shadow: var(--n-box-shadow-active);\n border: var(--n-border-active);\n `), cB('base-selection-label', 'background-color: var(--n-color-active);'), cB('base-selection-tags', 'background-color: var(--n-color-active);')])]), cM('disabled', 'cursor: not-allowed;', [cE('arrow', `\n color: var(--n-arrow-color-disabled);\n `), cB('base-selection-label', `\n cursor: not-allowed;\n background-color: var(--n-color-disabled);\n `, [cB('base-selection-input', `\n cursor: not-allowed;\n color: var(--n-text-color-disabled);\n `), cE('render-label', `\n color: var(--n-text-color-disabled);\n `)]), cB('base-selection-tags', `\n cursor: not-allowed;\n background-color: var(--n-color-disabled);\n `), cB('base-selection-placeholder', `\n cursor: not-allowed;\n color: var(--n-placeholder-color-disabled);\n `)]), cB('base-selection-input-tag', `\n height: calc(var(--n-height) - 6px);\n line-height: calc(var(--n-height) - 6px);\n outline: none;\n display: none;\n position: relative;\n margin-bottom: 3px;\n max-width: 100%;\n vertical-align: bottom;\n `, [cE('input', `\n font-size: inherit;\n font-family: inherit;\n min-width: 1px;\n padding: 0;\n background-color: #0000;\n outline: none;\n border: none;\n max-width: 100%;\n overflow: hidden;\n width: 1em;\n line-height: inherit;\n cursor: pointer;\n color: var(--n-text-color);\n caret-color: var(--n-caret-color);\n `), cE('mirror', `\n position: absolute;\n left: 0;\n top: 0;\n white-space: pre;\n visibility: hidden;\n user-select: none;\n -webkit-user-select: none;\n opacity: 0;\n `)]), ['warning', 'error'].map(status => cM(`${status}-status`, [cE('state-border', `border: var(--n-border-${status});`), cNotM('disabled', [c('&:hover', [cE('state-border', `\n box-shadow: var(--n-box-shadow-hover-${status});\n border: var(--n-border-hover-${status});\n `)]), cM('active', [cE('state-border', `\n box-shadow: var(--n-box-shadow-active-${status});\n border: var(--n-border-active-${status});\n `), cB('base-selection-label', `background-color: var(--n-color-active-${status});`), cB('base-selection-tags', `background-color: var(--n-color-active-${status});`)]), cM('focus', [cE('state-border', `\n box-shadow: var(--n-box-shadow-focus-${status});\n border: var(--n-border-focus-${status});\n `)])])]))]), cB('base-selection-popover', `\n margin-bottom: -3px;\n display: flex;\n flex-wrap: wrap;\n margin-right: -8px;\n `), cB('base-selection-tag-wrapper', `\n max-width: 100%;\n display: inline-flex;\n padding: 0 7px 3px 0;\n `, [c('&:last-child', 'padding-right: 0;'), cB('tag', `\n font-size: 14px;\n max-width: 100%;\n `, [cE('content', `\n line-height: 1.25;\n text-overflow: ellipsis;\n overflow: hidden;\n `)])])]);","/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { h, defineComponent, Fragment, ref, computed, watch, toRef, nextTick, watchEffect, onMounted } from 'vue';\nimport { VOverflow } from 'vueuc';\nimport { NPopover } from '../../../popover';\nimport { NTag } from '../../../tag';\nimport { useThemeClass, useTheme } from '../../../_mixins';\nimport { createKey, getTitleAttribute, render, useOnResize, Wrapper } from '../../../_utils';\nimport Suffix from '../../suffix';\nimport { internalSelectionLight } from '../styles';\nimport style from './styles/index.cssr';\nexport default defineComponent({\n    name: 'InternalSelection',\n    props: Object.assign(Object.assign({}, useTheme.props), { clsPrefix: {\n            type: String,\n            required: true\n        }, bordered: {\n            type: Boolean,\n            default: undefined\n        }, active: Boolean, pattern: {\n            type: String,\n            default: ''\n        }, placeholder: String, selectedOption: {\n            type: Object,\n            default: null\n        }, selectedOptions: {\n            type: Array,\n            default: null\n        }, labelField: { type: String, default: 'label' }, valueField: {\n            type: String,\n            default: 'value'\n        }, multiple: Boolean, filterable: Boolean, clearable: Boolean, disabled: Boolean, size: {\n            type: String,\n            default: 'medium'\n        }, loading: Boolean, autofocus: Boolean, showArrow: {\n            type: Boolean,\n            default: true\n        }, inputProps: Object, focused: Boolean, renderTag: Function, onKeydown: Function, onClick: Function, onBlur: Function, onFocus: Function, onDeleteOption: Function, maxTagCount: [String, Number], onClear: Function, onPatternInput: Function, onPatternFocus: Function, onPatternBlur: Function, renderLabel: Function, status: String, inlineThemeDisabled: Boolean, ignoreComposition: { type: Boolean, default: true }, onResize: Function }),\n    setup(props) {\n        const patternInputMirrorRef = ref(null);\n        const patternInputRef = ref(null);\n        const selfRef = ref(null);\n        const multipleElRef = ref(null);\n        const singleElRef = ref(null);\n        const patternInputWrapperRef = ref(null);\n        const counterRef = ref(null);\n        const counterWrapperRef = ref(null);\n        const overflowRef = ref(null);\n        const inputTagElRef = ref(null);\n        const showTagsPopoverRef = ref(false);\n        const patternInputFocusedRef = ref(false);\n        const hoverRef = ref(false);\n        const themeRef = useTheme('InternalSelection', '-internal-selection', style, internalSelectionLight, props, toRef(props, 'clsPrefix'));\n        const mergedClearableRef = computed(() => {\n            return (props.clearable && !props.disabled && (hoverRef.value || props.active));\n        });\n        const filterablePlaceholderRef = computed(() => {\n            return props.selectedOption\n                ? props.renderTag\n                    ? props.renderTag({\n                        option: props.selectedOption,\n                        handleClose: () => { }\n                    })\n                    : props.renderLabel\n                        ? props.renderLabel(props.selectedOption, true)\n                        : render(props.selectedOption[props.labelField], props.selectedOption, true)\n                : props.placeholder;\n        });\n        const labelRef = computed(() => {\n            const option = props.selectedOption;\n            if (!option)\n                return undefined;\n            return option[props.labelField];\n        });\n        const selectedRef = computed(() => {\n            if (props.multiple) {\n                return !!(Array.isArray(props.selectedOptions) && props.selectedOptions.length);\n            }\n            else {\n                return props.selectedOption !== null;\n            }\n        });\n        function syncMirrorWidth() {\n            var _a;\n            const { value: patternInputMirrorEl } = patternInputMirrorRef;\n            if (patternInputMirrorEl) {\n                const { value: patternInputEl } = patternInputRef;\n                if (patternInputEl) {\n                    patternInputEl.style.width = `${patternInputMirrorEl.offsetWidth}px`;\n                    if (props.maxTagCount !== 'responsive') {\n                        (_a = overflowRef.value) === null || _a === void 0 ? void 0 : _a.sync();\n                    }\n                }\n            }\n        }\n        function hideInputTag() {\n            const { value: inputTagEl } = inputTagElRef;\n            if (inputTagEl)\n                inputTagEl.style.display = 'none';\n        }\n        function showInputTag() {\n            const { value: inputTagEl } = inputTagElRef;\n            if (inputTagEl)\n                inputTagEl.style.display = 'inline-block';\n        }\n        watch(toRef(props, 'active'), (value) => {\n            if (!value)\n                hideInputTag();\n        });\n        watch(toRef(props, 'pattern'), () => {\n            if (props.multiple) {\n                void nextTick(syncMirrorWidth);\n            }\n        });\n        function doFocus(e) {\n            const { onFocus } = props;\n            if (onFocus)\n                onFocus(e);\n        }\n        function doBlur(e) {\n            const { onBlur } = props;\n            if (onBlur)\n                onBlur(e);\n        }\n        function doDeleteOption(value) {\n            const { onDeleteOption } = props;\n            if (onDeleteOption)\n                onDeleteOption(value);\n        }\n        function doClear(e) {\n            const { onClear } = props;\n            if (onClear)\n                onClear(e);\n        }\n        function doPatternInput(value) {\n            const { onPatternInput } = props;\n            if (onPatternInput)\n                onPatternInput(value);\n        }\n        function handleFocusin(e) {\n            var _a;\n            if (!e.relatedTarget ||\n                !((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.relatedTarget))) {\n                doFocus(e);\n            }\n        }\n        function handleFocusout(e) {\n            var _a;\n            if ((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.relatedTarget))\n                return;\n            doBlur(e);\n        }\n        function handleClear(e) {\n            doClear(e);\n        }\n        function handleMouseEnter() {\n            hoverRef.value = true;\n        }\n        function handleMouseLeave() {\n            hoverRef.value = false;\n        }\n        function handleMouseDown(e) {\n            if (!props.active || !props.filterable)\n                return;\n            if (e.target === patternInputRef.value)\n                return;\n            e.preventDefault();\n        }\n        function handleDeleteOption(option) {\n            doDeleteOption(option);\n        }\n        function handlePatternKeyDown(e) {\n            if (e.key === 'Backspace' && !isComposingRef.value) {\n                if (!props.pattern.length) {\n                    const { selectedOptions } = props;\n                    if (selectedOptions === null || selectedOptions === void 0 ? void 0 : selectedOptions.length) {\n                        handleDeleteOption(selectedOptions[selectedOptions.length - 1]);\n                    }\n                }\n            }\n        }\n        const isComposingRef = ref(false);\n        // the composition end is later than its input so we can cached the event\n        // and return the input event\n        let cachedInputEvent = null;\n        function handlePatternInputInput(e) {\n            // we should sync mirror width here\n            const { value: patternInputMirrorEl } = patternInputMirrorRef;\n            if (patternInputMirrorEl) {\n                const inputText = e.target.value;\n                patternInputMirrorEl.textContent = inputText;\n                syncMirrorWidth();\n            }\n            if (props.ignoreComposition) {\n                if (!isComposingRef.value) {\n                    doPatternInput(e);\n                }\n                else {\n                    cachedInputEvent = e;\n                }\n            }\n            else {\n                doPatternInput(e);\n            }\n        }\n        function handleCompositionStart() {\n            isComposingRef.value = true;\n        }\n        function handleCompositionEnd() {\n            isComposingRef.value = false;\n            if (props.ignoreComposition) {\n                doPatternInput(cachedInputEvent);\n            }\n            cachedInputEvent = null;\n        }\n        function handlePatternInputFocus(e) {\n            var _a;\n            patternInputFocusedRef.value = true;\n            (_a = props.onPatternFocus) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        }\n        function handlePatternInputBlur(e) {\n            var _a;\n            patternInputFocusedRef.value = false;\n            (_a = props.onPatternBlur) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        }\n        function blur() {\n            var _a, _b;\n            if (props.filterable) {\n                patternInputFocusedRef.value = false;\n                (_a = patternInputWrapperRef.value) === null || _a === void 0 ? void 0 : _a.blur();\n                (_b = patternInputRef.value) === null || _b === void 0 ? void 0 : _b.blur();\n            }\n            else if (props.multiple) {\n                const { value: multipleEl } = multipleElRef;\n                multipleEl === null || multipleEl === void 0 ? void 0 : multipleEl.blur();\n            }\n            else {\n                const { value: singleEl } = singleElRef;\n                singleEl === null || singleEl === void 0 ? void 0 : singleEl.blur();\n            }\n        }\n        function focus() {\n            var _a, _b, _c;\n            if (props.filterable) {\n                patternInputFocusedRef.value = false;\n                (_a = patternInputWrapperRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n            }\n            else if (props.multiple) {\n                (_b = multipleElRef.value) === null || _b === void 0 ? void 0 : _b.focus();\n            }\n            else {\n                (_c = singleElRef.value) === null || _c === void 0 ? void 0 : _c.focus();\n            }\n        }\n        function focusInput() {\n            const { value: patternInputEl } = patternInputRef;\n            if (patternInputEl) {\n                showInputTag();\n                patternInputEl.focus();\n            }\n        }\n        function blurInput() {\n            const { value: patternInputEl } = patternInputRef;\n            if (patternInputEl) {\n                patternInputEl.blur();\n            }\n        }\n        function updateCounter(count) {\n            const { value } = counterRef;\n            if (value) {\n                value.setTextContent(`+${count}`);\n            }\n        }\n        function getCounter() {\n            const { value } = counterWrapperRef;\n            return value;\n        }\n        function getTail() {\n            return patternInputRef.value;\n        }\n        let enterTimerId = null;\n        function clearEnterTimer() {\n            if (enterTimerId !== null)\n                window.clearTimeout(enterTimerId);\n        }\n        function handleMouseEnterCounter() {\n            if (props.disabled || props.active)\n                return;\n            clearEnterTimer();\n            enterTimerId = window.setTimeout(() => {\n                if (selectedRef.value) {\n                    showTagsPopoverRef.value = true;\n                }\n            }, 100);\n        }\n        function handleMouseLeaveCounter() {\n            clearEnterTimer();\n        }\n        function onPopoverUpdateShow(show) {\n            if (!show) {\n                clearEnterTimer();\n                showTagsPopoverRef.value = false;\n            }\n        }\n        watch(selectedRef, (value) => {\n            if (!value) {\n                showTagsPopoverRef.value = false;\n            }\n        });\n        onMounted(() => {\n            watchEffect(() => {\n                const patternInputWrapperEl = patternInputWrapperRef.value;\n                if (!patternInputWrapperEl)\n                    return;\n                patternInputWrapperEl.tabIndex =\n                    props.disabled || patternInputFocusedRef.value ? -1 : 0;\n            });\n        });\n        useOnResize(selfRef, props.onResize);\n        const { inlineThemeDisabled } = props;\n        const cssVarsRef = computed(() => {\n            const { size } = props;\n            const { common: { cubicBezierEaseInOut }, self: { borderRadius, color, placeholderColor, textColor, paddingSingle, paddingMultiple, caretColor, colorDisabled, textColorDisabled, placeholderColorDisabled, colorActive, boxShadowFocus, boxShadowActive, boxShadowHover, border, borderFocus, borderHover, borderActive, arrowColor, arrowColorDisabled, loadingColor, \n            // form warning\n            colorActiveWarning, boxShadowFocusWarning, boxShadowActiveWarning, boxShadowHoverWarning, borderWarning, borderFocusWarning, borderHoverWarning, borderActiveWarning, \n            // form error\n            colorActiveError, boxShadowFocusError, boxShadowActiveError, boxShadowHoverError, borderError, borderFocusError, borderHoverError, borderActiveError, \n            // clear\n            clearColor, clearColorHover, clearColorPressed, clearSize, \n            // arrow\n            arrowSize, [createKey('height', size)]: height, [createKey('fontSize', size)]: fontSize } } = themeRef.value;\n            return {\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-border': border,\n                '--n-border-active': borderActive,\n                '--n-border-focus': borderFocus,\n                '--n-border-hover': borderHover,\n                '--n-border-radius': borderRadius,\n                '--n-box-shadow-active': boxShadowActive,\n                '--n-box-shadow-focus': boxShadowFocus,\n                '--n-box-shadow-hover': boxShadowHover,\n                '--n-caret-color': caretColor,\n                '--n-color': color,\n                '--n-color-active': colorActive,\n                '--n-color-disabled': colorDisabled,\n                '--n-font-size': fontSize,\n                '--n-height': height,\n                '--n-padding-single': paddingSingle,\n                '--n-padding-multiple': paddingMultiple,\n                '--n-placeholder-color': placeholderColor,\n                '--n-placeholder-color-disabled': placeholderColorDisabled,\n                '--n-text-color': textColor,\n                '--n-text-color-disabled': textColorDisabled,\n                '--n-arrow-color': arrowColor,\n                '--n-arrow-color-disabled': arrowColorDisabled,\n                '--n-loading-color': loadingColor,\n                // form warning\n                '--n-color-active-warning': colorActiveWarning,\n                '--n-box-shadow-focus-warning': boxShadowFocusWarning,\n                '--n-box-shadow-active-warning': boxShadowActiveWarning,\n                '--n-box-shadow-hover-warning': boxShadowHoverWarning,\n                '--n-border-warning': borderWarning,\n                '--n-border-focus-warning': borderFocusWarning,\n                '--n-border-hover-warning': borderHoverWarning,\n                '--n-border-active-warning': borderActiveWarning,\n                // form error\n                '--n-color-active-error': colorActiveError,\n                '--n-box-shadow-focus-error': boxShadowFocusError,\n                '--n-box-shadow-active-error': boxShadowActiveError,\n                '--n-box-shadow-hover-error': boxShadowHoverError,\n                '--n-border-error': borderError,\n                '--n-border-focus-error': borderFocusError,\n                '--n-border-hover-error': borderHoverError,\n                '--n-border-active-error': borderActiveError,\n                // clear\n                '--n-clear-size': clearSize,\n                '--n-clear-color': clearColor,\n                '--n-clear-color-hover': clearColorHover,\n                '--n-clear-color-pressed': clearColorPressed,\n                // arrow-size\n                '--n-arrow-size': arrowSize\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('internal-selection', computed(() => {\n                return props.size[0];\n            }), cssVarsRef, props)\n            : undefined;\n        return {\n            mergedTheme: themeRef,\n            mergedClearable: mergedClearableRef,\n            patternInputFocused: patternInputFocusedRef,\n            filterablePlaceholder: filterablePlaceholderRef,\n            label: labelRef,\n            selected: selectedRef,\n            showTagsPanel: showTagsPopoverRef,\n            isComposing: isComposingRef,\n            // dom ref\n            counterRef,\n            counterWrapperRef,\n            patternInputMirrorRef,\n            patternInputRef,\n            selfRef,\n            multipleElRef,\n            singleElRef,\n            patternInputWrapperRef,\n            overflowRef,\n            inputTagElRef,\n            handleMouseDown,\n            handleFocusin,\n            handleClear,\n            handleMouseEnter,\n            handleMouseLeave,\n            handleDeleteOption,\n            handlePatternKeyDown,\n            handlePatternInputInput,\n            handlePatternInputBlur,\n            handlePatternInputFocus,\n            handleMouseEnterCounter,\n            handleMouseLeaveCounter,\n            handleFocusout,\n            handleCompositionEnd,\n            handleCompositionStart,\n            onPopoverUpdateShow,\n            focus,\n            focusInput,\n            blur,\n            blurInput,\n            updateCounter,\n            getCounter,\n            getTail,\n            renderLabel: props.renderLabel,\n            cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n            themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n            onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n        };\n    },\n    render() {\n        const { status, multiple, size, disabled, filterable, maxTagCount, bordered, clsPrefix, onRender, renderTag, renderLabel } = this;\n        onRender === null || onRender === void 0 ? void 0 : onRender();\n        const maxTagCountResponsive = maxTagCount === 'responsive';\n        const maxTagCountNumeric = typeof maxTagCount === 'number';\n        const useMaxTagCount = maxTagCountResponsive || maxTagCountNumeric;\n        const suffix = (h(Wrapper, null, {\n            default: () => (h(Suffix, { clsPrefix: clsPrefix, loading: this.loading, showArrow: this.showArrow, showClear: this.mergedClearable && this.selected, onClear: this.handleClear }, {\n                default: () => { var _a, _b; return (_b = (_a = this.$slots).arrow) === null || _b === void 0 ? void 0 : _b.call(_a); }\n            }))\n        }));\n        let body;\n        if (multiple) {\n            const { labelField } = this;\n            const createTag = (option) => (h(\"div\", { class: `${clsPrefix}-base-selection-tag-wrapper`, key: option.value }, renderTag ? (renderTag({\n                option,\n                handleClose: () => { this.handleDeleteOption(option); }\n            })) : (h(NTag, { size: size, closable: !option.disabled, disabled: disabled, onClose: () => { this.handleDeleteOption(option); }, internalCloseIsButtonTag: false, internalCloseFocusable: false }, {\n                default: () => renderLabel\n                    ? renderLabel(option, true)\n                    : render(option[labelField], option, true)\n            }))));\n            const createOriginalTagNodes = () => (maxTagCountNumeric\n                ? this.selectedOptions.slice(0, maxTagCount)\n                : this.selectedOptions).map(createTag);\n            const input = filterable ? (h(\"div\", { class: `${clsPrefix}-base-selection-input-tag`, ref: \"inputTagElRef\", key: \"__input-tag__\" },\n                h(\"input\", Object.assign({}, this.inputProps, { ref: \"patternInputRef\", tabindex: -1, disabled: disabled, value: this.pattern, autofocus: this.autofocus, class: `${clsPrefix}-base-selection-input-tag__input`, onBlur: this.handlePatternInputBlur, onFocus: this.handlePatternInputFocus, onKeydown: this.handlePatternKeyDown, onInput: this.handlePatternInputInput, onCompositionstart: this.handleCompositionStart, onCompositionend: this.handleCompositionEnd })),\n                h(\"span\", { ref: \"patternInputMirrorRef\", class: `${clsPrefix}-base-selection-input-tag__mirror` }, this.pattern))) : null;\n            // May Overflow\n            const renderCounter = maxTagCountResponsive\n                ? () => (h(\"div\", { class: `${clsPrefix}-base-selection-tag-wrapper`, ref: \"counterWrapperRef\" },\n                    h(NTag, { size: size, ref: \"counterRef\", onMouseenter: this.handleMouseEnterCounter, onMouseleave: this.handleMouseLeaveCounter, disabled: disabled })))\n                : undefined;\n            let counter;\n            if (maxTagCountNumeric) {\n                const rest = this.selectedOptions.length - maxTagCount;\n                if (rest > 0) {\n                    counter = (h(\"div\", { class: `${clsPrefix}-base-selection-tag-wrapper`, key: \"__counter__\" },\n                        h(NTag, { size: size, ref: \"counterRef\", onMouseenter: this.handleMouseEnterCounter, disabled: disabled }, {\n                            default: () => `+${rest}`\n                        })));\n                }\n            }\n            const tags = maxTagCountResponsive ? (filterable ? (h(VOverflow, { ref: \"overflowRef\", updateCounter: this.updateCounter, getCounter: this.getCounter, getTail: this.getTail, style: {\n                    width: '100%',\n                    display: 'flex',\n                    overflow: 'hidden'\n                } }, {\n                default: createOriginalTagNodes,\n                counter: renderCounter,\n                tail: () => input\n            })) : (h(VOverflow, { ref: \"overflowRef\", updateCounter: this.updateCounter, getCounter: this.getCounter, style: {\n                    width: '100%',\n                    display: 'flex',\n                    overflow: 'hidden'\n                } }, {\n                default: createOriginalTagNodes,\n                counter: renderCounter\n            }))) : maxTagCountNumeric ? (createOriginalTagNodes().concat(counter)) : (createOriginalTagNodes());\n            const renderPopover = useMaxTagCount\n                ? () => (h(\"div\", { class: `${clsPrefix}-base-selection-popover` }, maxTagCountResponsive\n                    ? createOriginalTagNodes()\n                    : this.selectedOptions.map(createTag)))\n                : undefined;\n            const popoverProps = useMaxTagCount\n                ? {\n                    show: this.showTagsPanel,\n                    trigger: 'hover',\n                    overlap: true,\n                    placement: 'top',\n                    width: 'trigger',\n                    onUpdateShow: this.onPopoverUpdateShow,\n                    theme: this.mergedTheme.peers.Popover,\n                    themeOverrides: this.mergedTheme.peerOverrides.Popover\n                }\n                : null;\n            const showPlaceholder = this.selected\n                ? false\n                : this.active\n                    ? !this.pattern && !this.isComposing\n                    : true;\n            const placeholder = showPlaceholder ? (h(\"div\", { class: `${clsPrefix}-base-selection-placeholder ${clsPrefix}-base-selection-overlay` },\n                h(\"div\", { class: `${clsPrefix}-base-selection-placeholder__inner` }, this.placeholder))) : null;\n            const popoverTrigger = filterable ? (h(\"div\", { ref: \"patternInputWrapperRef\", class: `${clsPrefix}-base-selection-tags` },\n                tags,\n                maxTagCountResponsive ? null : input,\n                suffix)) : (h(\"div\", { ref: \"multipleElRef\", class: `${clsPrefix}-base-selection-tags`, tabindex: disabled ? undefined : 0 },\n                tags,\n                suffix));\n            body = (h(Fragment, null,\n                useMaxTagCount ? (h(NPopover, Object.assign({}, popoverProps, { scrollable: true, style: \"max-height: calc(var(--v-target-height) * 6.6);\" }), {\n                    trigger: () => popoverTrigger,\n                    default: renderPopover\n                })) : (popoverTrigger),\n                placeholder));\n        }\n        else {\n            if (filterable) {\n                const hasInput = this.pattern || this.isComposing;\n                const showPlaceholder = this.active ? !hasInput : !this.selected;\n                const showSelectedLabel = this.active ? false : this.selected;\n                body = (h(\"div\", { ref: \"patternInputWrapperRef\", class: `${clsPrefix}-base-selection-label` },\n                    h(\"input\", Object.assign({}, this.inputProps, { ref: \"patternInputRef\", class: `${clsPrefix}-base-selection-input`, value: this.active ? this.pattern : '', placeholder: \"\", readonly: disabled, disabled: disabled, tabindex: -1, autofocus: this.autofocus, onFocus: this.handlePatternInputFocus, onBlur: this.handlePatternInputBlur, onInput: this.handlePatternInputInput, onCompositionstart: this.handleCompositionStart, onCompositionend: this.handleCompositionEnd })),\n                    showSelectedLabel ? (h(\"div\", { class: `${clsPrefix}-base-selection-label__render-label ${clsPrefix}-base-selection-overlay`, key: \"input\" },\n                        h(\"div\", { class: `${clsPrefix}-base-selection-overlay__wrapper` }, renderTag\n                            ? renderTag({\n                                option: this.selectedOption,\n                                handleClose: () => { }\n                            })\n                            : renderLabel\n                                ? renderLabel(this.selectedOption, true)\n                                : render(this.label, this.selectedOption, true)))) : null,\n                    showPlaceholder ? (h(\"div\", { class: `${clsPrefix}-base-selection-placeholder ${clsPrefix}-base-selection-overlay`, key: \"placeholder\" },\n                        h(\"div\", { class: `${clsPrefix}-base-selection-overlay__wrapper` }, this.filterablePlaceholder))) : null,\n                    suffix));\n            }\n            else {\n                body = (h(\"div\", { ref: \"singleElRef\", class: `${clsPrefix}-base-selection-label`, tabindex: this.disabled ? undefined : 0 },\n                    this.label !== undefined ? (h(\"div\", { class: `${clsPrefix}-base-selection-input`, title: getTitleAttribute(this.label), key: \"input\" },\n                        h(\"div\", { class: `${clsPrefix}-base-selection-input__content` }, renderTag\n                            ? renderTag({\n                                option: this.selectedOption,\n                                handleClose: () => { }\n                            })\n                            : renderLabel\n                                ? renderLabel(this.selectedOption, true)\n                                : render(this.label, this.selectedOption, true)))) : (h(\"div\", { class: `${clsPrefix}-base-selection-placeholder ${clsPrefix}-base-selection-overlay`, key: \"placeholder\" },\n                        h(\"div\", { class: `${clsPrefix}-base-selection-placeholder__inner` }, this.placeholder))),\n                    suffix));\n            }\n        }\n        return (h(\"div\", { ref: \"selfRef\", class: [\n                `${clsPrefix}-base-selection`,\n                this.themeClass,\n                status && `${clsPrefix}-base-selection--${status}-status`,\n                {\n                    [`${clsPrefix}-base-selection--active`]: this.active,\n                    [`${clsPrefix}-base-selection--selected`]: this.selected || (this.active && this.pattern),\n                    [`${clsPrefix}-base-selection--disabled`]: this.disabled,\n                    [`${clsPrefix}-base-selection--multiple`]: this.multiple,\n                    // focus is not controlled by selection itself since it always need\n                    // to be managed together with menu. provide :focus style will cause\n                    // many redundant codes.\n                    [`${clsPrefix}-base-selection--focus`]: this.focused\n                }\n            ], style: this.cssVars, onClick: this.onClick, onMouseenter: this.handleMouseEnter, onMouseleave: this.handleMouseLeave, onKeydown: this.onKeydown, onFocusin: this.handleFocusin, onFocusout: this.handleFocusout, onMousedown: this.handleMouseDown },\n            body,\n            bordered ? (h(\"div\", { class: `${clsPrefix}-base-selection__border` })) : null,\n            bordered ? (h(\"div\", { class: `${clsPrefix}-base-selection__state-border` })) : null));\n    }\n});\n","export function getIsGroup(option) {\n    return option.type === 'group';\n}\nexport function getIgnored(option) {\n    return option.type === 'ignored';\n}\nexport function patternMatched(pattern, value) {\n    try {\n        return !!(1 + value.toString().toLowerCase().indexOf(pattern.trim().toLowerCase()));\n    }\n    catch (err) {\n        return false;\n    }\n}\nexport function createTmOptions(valueField, childrenField) {\n    const options = {\n        getIsGroup,\n        getIgnored,\n        getKey(option) {\n            if (getIsGroup(option)) {\n                return (option.name ||\n                    option.key ||\n                    'key-required');\n            }\n            // Required for non-custom label & value field\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            return option[valueField];\n        },\n        getChildren(option) {\n            return option[childrenField];\n        }\n    };\n    return options;\n}\nexport function filterOptions(originalOpts, filter, pattern, childrenField) {\n    if (!filter)\n        return originalOpts;\n    function traverse(options) {\n        if (!Array.isArray(options))\n            return [];\n        const filteredOptions = [];\n        for (const option of options) {\n            if (getIsGroup(option)) {\n                const children = traverse(option[childrenField]);\n                if (children.length) {\n                    filteredOptions.push(Object.assign({}, option, {\n                        [childrenField]: children\n                    }));\n                }\n            }\n            else if (getIgnored(option)) {\n                continue;\n            }\n            else if (filter(pattern, option)) {\n                filteredOptions.push(option);\n            }\n        }\n        return filteredOptions;\n    }\n    return traverse(originalOpts);\n}\nexport function createValOptMap(options, valueField, childrenField) {\n    const valOptMap = new Map();\n    options.forEach((option) => {\n        if (getIsGroup(option)) {\n            ;\n            option[childrenField].forEach((selectGroupOption) => {\n                valOptMap.set(selectGroupOption[valueField], selectGroupOption);\n            });\n        }\n        else {\n            valOptMap.set(option[valueField], option);\n        }\n    });\n    return valOptMap;\n}\n","import { c, cB, cE } from '../../../_utils/cssr';\nexport default cB('input-group', `\n display: inline-flex;\n width: 100%;\n flex-wrap: nowrap;\n vertical-align: bottom;\n`, [c('>', [cB('input', [c('&:not(:last-child)', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `), c('&:not(:first-child)', `\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n margin-left: -1px!important;\n `)]), cB('button', [c('&:not(:last-child)', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `, [cE('state-border, border', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `)]), c('&:not(:first-child)', `\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n `, [cE('state-border, border', `\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n `)])]), c('*', [c('&:not(:last-child)', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `, [c('>', [cB('input', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `), cB('base-selection', [cB('base-selection-label', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `), cB('base-selection-tags', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `), cE('box-shadow, border, state-border', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `)])])]), c('&:not(:first-child)', `\n margin-left: -1px!important;\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n `, [c('>', [cB('input', `\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n `), cB('base-selection', [cB('base-selection-label', `\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n `), cB('base-selection-tags', `\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n `), cE('box-shadow, border, state-border', `\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n `)])])])])])]);","import { h, defineComponent } from 'vue';\nimport { useConfig, useStyle } from '../../_mixins';\nimport style from './styles/input-group.cssr';\nexport const inputGroupProps = {};\nexport default defineComponent({\n    name: 'InputGroup',\n    props: inputGroupProps,\n    setup(props) {\n        const { mergedClsPrefixRef } = useConfig(props);\n        useStyle('-input-group', style, mergedClsPrefixRef);\n        return {\n            mergedClsPrefix: mergedClsPrefixRef\n        };\n    },\n    render() {\n        const { mergedClsPrefix } = this;\n        return h(\"div\", { class: `${mergedClsPrefix}-input-group` }, this.$slots);\n    }\n});\n","import { hsl2hsv, hsl2rgb, hsla, hsv2hsl, hsv2rgb, hsva, rgb2hsl, rgb2hsv, rgba, toHexaString, toHslaString, toHsvaString, toRgbaString } from 'seemly';\nimport { warn } from '../../_utils';\nexport function deriveDefaultValue(modes, showAlpha) {\n    const mode = modes[0];\n    switch (mode) {\n        case 'hex':\n            return showAlpha ? '#000000FF' : '#000000';\n        case 'rgb':\n            return showAlpha ? 'rgba(0, 0, 0, 1)' : 'rgb(0, 0, 0)';\n        case 'hsl':\n            return showAlpha ? 'hsla(0, 0%, 0%, 1)' : 'hsl(0, 0%, 0%)';\n        case 'hsv':\n            return showAlpha ? 'hsva(0, 0%, 0%, 1)' : 'hsv(0, 0%, 0%)';\n    }\n    if (process.env.NODE_ENV !== 'production')\n        warn('color-picker', 'props.modes is invalid.');\n    // in case of invalid modes\n    return '#000000';\n}\nexport function getModeFromValue(color) {\n    if (color === null)\n        return null;\n    if (/^ *#/.test(color))\n        return 'hex';\n    if (color.includes('rgb'))\n        return 'rgb';\n    if (color.includes('hsl'))\n        return 'hsl';\n    if (color.includes('hsv'))\n        return 'hsv';\n    return null;\n}\nexport function floor(color) {\n    return color.map((channel) => Math.floor(channel));\n}\nexport function normalizeHue(hue) {\n    hue = Math.round(hue);\n    return hue >= 360 ? 359 : hue < 0 ? 0 : hue;\n}\nexport function normalizeAlpha(alpha) {\n    alpha = Math.round(alpha * 100) / 100;\n    return alpha > 1 ? 1 : alpha < 0 ? 0 : alpha;\n}\nconst convert = {\n    rgb: {\n        hex(value) {\n            return toHexaString(rgba(value));\n        },\n        hsl(value) {\n            const [r, g, b, a] = rgba(value);\n            return toHslaString([...rgb2hsl(r, g, b), a]);\n        },\n        hsv(value) {\n            const [r, g, b, a] = rgba(value);\n            return toHsvaString([...rgb2hsv(r, g, b), a]);\n        }\n    },\n    hex: {\n        rgb(value) {\n            return toRgbaString(rgba(value));\n        },\n        hsl(value) {\n            const [r, g, b, a] = rgba(value);\n            return toHslaString([...rgb2hsl(r, g, b), a]);\n        },\n        hsv(value) {\n            const [r, g, b, a] = rgba(value);\n            return toHsvaString([...rgb2hsv(r, g, b), a]);\n        }\n    },\n    hsl: {\n        hex(value) {\n            const [h, s, l, a] = hsla(value);\n            return toHexaString([...hsl2rgb(h, s, l), a]);\n        },\n        rgb(value) {\n            const [h, s, l, a] = hsla(value);\n            return toRgbaString([...hsl2rgb(h, s, l), a]);\n        },\n        hsv(value) {\n            const [h, s, l, a] = hsla(value);\n            return toHsvaString([...hsl2hsv(h, s, l), a]);\n        }\n    },\n    hsv: {\n        hex(value) {\n            const [h, s, v, a] = hsva(value);\n            return toHexaString([...hsv2rgb(h, s, v), a]);\n        },\n        rgb(value) {\n            const [h, s, v, a] = hsva(value);\n            return toRgbaString([...hsv2rgb(h, s, v), a]);\n        },\n        hsl(value) {\n            const [h, s, v, a] = hsva(value);\n            return toHslaString([...hsv2hsl(h, s, v), a]);\n        }\n    }\n};\n// implementation\nexport function convertColor(value, mode, originalMode) {\n    originalMode = originalMode || getModeFromValue(value);\n    if (!originalMode)\n        return null;\n    if (originalMode === mode)\n        return value;\n    const conversions = convert[originalMode];\n    return conversions[mode](value);\n}\n","import { defineComponent, h, ref } from 'vue';\nimport { off, on } from 'evtd';\nimport { normalizeHue } from './utils';\nconst HANDLE_SIZE = '12px';\nconst HANDLE_SIZE_NUM = 12;\nconst RADIUS = '6px';\nconst RADIUS_NUM = 6;\nconst GRADIENT = 'linear-gradient(90deg,red,#ff0 16.66%,#0f0 33.33%,#0ff 50%,#00f 66.66%,#f0f 83.33%,red)';\nexport default defineComponent({\n    name: 'HueSlider',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        hue: {\n            type: Number,\n            required: true\n        },\n        onUpdateHue: {\n            type: Function,\n            required: true\n        },\n        onComplete: Function\n    },\n    setup(props) {\n        const railRef = ref(null);\n        function handleMouseDown(e) {\n            if (!railRef.value)\n                return;\n            on('mousemove', document, handleMouseMove);\n            on('mouseup', document, handleMouseUp);\n            handleMouseMove(e);\n        }\n        function handleMouseMove(e) {\n            const { value: railEl } = railRef;\n            if (!railEl)\n                return;\n            const { width, left } = railEl.getBoundingClientRect();\n            const newHue = normalizeHue(((e.clientX - left - RADIUS_NUM) / (width - HANDLE_SIZE_NUM)) * 360);\n            props.onUpdateHue(newHue);\n        }\n        function handleMouseUp() {\n            var _a;\n            off('mousemove', document, handleMouseMove);\n            off('mouseup', document, handleMouseUp);\n            (_a = props.onComplete) === null || _a === void 0 ? void 0 : _a.call(props);\n        }\n        return {\n            railRef,\n            handleMouseDown\n        };\n    },\n    render() {\n        const { clsPrefix } = this;\n        return (h(\"div\", { class: `${clsPrefix}-color-picker-slider`, style: {\n                height: HANDLE_SIZE,\n                borderRadius: RADIUS\n            } },\n            h(\"div\", { ref: \"railRef\", style: {\n                    boxShadow: 'inset 0 0 2px 0 rgba(0, 0, 0, .24)',\n                    boxSizing: 'border-box',\n                    backgroundImage: GRADIENT,\n                    height: HANDLE_SIZE,\n                    borderRadius: RADIUS,\n                    position: 'relative'\n                }, onMousedown: this.handleMouseDown },\n                h(\"div\", { style: {\n                        position: 'absolute',\n                        left: RADIUS,\n                        right: RADIUS,\n                        top: 0,\n                        bottom: 0\n                    } },\n                    h(\"div\", { class: `${clsPrefix}-color-picker-handle`, style: {\n                            left: `calc((${this.hue}%) / 359 * 100 - ${RADIUS})`,\n                            borderRadius: RADIUS,\n                            width: HANDLE_SIZE,\n                            height: HANDLE_SIZE\n                        } },\n                        h(\"div\", { class: `${clsPrefix}-color-picker-handle__fill`, style: {\n                                backgroundColor: `hsl(${this.hue}, 100%, 50%)`,\n                                borderRadius: RADIUS,\n                                width: HANDLE_SIZE,\n                                height: HANDLE_SIZE\n                            } }))))));\n    }\n});\n","import { computed, defineComponent, h, ref } from 'vue';\nimport { off, on } from 'evtd';\nimport { toRgbaString } from 'seemly';\nimport { normalizeAlpha } from './utils';\nconst HANDLE_SIZE = '12px';\nconst HANDLE_SIZE_NUM = 12;\nconst RADIUS = '6px';\nexport default defineComponent({\n    name: 'AlphaSlider',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        rgba: {\n            type: Array,\n            default: null\n        },\n        alpha: {\n            type: Number,\n            default: 0\n        },\n        onUpdateAlpha: {\n            type: Function,\n            required: true\n        },\n        onComplete: Function\n    },\n    setup(props) {\n        const railRef = ref(null);\n        function handleMouseDown(e) {\n            if (!railRef.value || !props.rgba)\n                return;\n            on('mousemove', document, handleMouseMove);\n            on('mouseup', document, handleMouseUp);\n            handleMouseMove(e);\n        }\n        function handleMouseMove(e) {\n            const { value: railEl } = railRef;\n            if (!railEl)\n                return;\n            const { width, left } = railEl.getBoundingClientRect();\n            const newAlpha = (e.clientX - left) / (width - HANDLE_SIZE_NUM);\n            props.onUpdateAlpha(normalizeAlpha(newAlpha));\n        }\n        function handleMouseUp() {\n            var _a;\n            off('mousemove', document, handleMouseMove);\n            off('mouseup', document, handleMouseUp);\n            (_a = props.onComplete) === null || _a === void 0 ? void 0 : _a.call(props);\n        }\n        return {\n            railRef,\n            railBackgroundImage: computed(() => {\n                const { rgba } = props;\n                if (!rgba)\n                    return '';\n                return `linear-gradient(to right, rgba(${rgba[0]}, ${rgba[1]}, ${rgba[2]}, 0) 0%, rgba(${rgba[0]}, ${rgba[1]}, ${rgba[2]}, 1) 100%)`;\n            }),\n            handleMouseDown\n        };\n    },\n    render() {\n        const { clsPrefix } = this;\n        return (h(\"div\", { class: `${clsPrefix}-color-picker-slider`, ref: \"railRef\", style: {\n                height: HANDLE_SIZE,\n                borderRadius: RADIUS\n            }, onMousedown: this.handleMouseDown },\n            h(\"div\", { style: {\n                    borderRadius: RADIUS,\n                    position: 'absolute',\n                    left: 0,\n                    right: 0,\n                    top: 0,\n                    bottom: 0,\n                    overflow: 'hidden'\n                } },\n                h(\"div\", { class: `${clsPrefix}-color-picker-checkboard` }),\n                h(\"div\", { class: `${clsPrefix}-color-picker-slider__image`, style: {\n                        backgroundImage: this.railBackgroundImage\n                    } })),\n            this.rgba && (h(\"div\", { style: {\n                    position: 'absolute',\n                    left: RADIUS,\n                    right: RADIUS,\n                    top: 0,\n                    bottom: 0\n                } },\n                h(\"div\", { class: `${clsPrefix}-color-picker-handle`, style: {\n                        left: `calc(${this.alpha * 100}% - ${RADIUS})`,\n                        borderRadius: RADIUS,\n                        width: HANDLE_SIZE,\n                        height: HANDLE_SIZE\n                    } },\n                    h(\"div\", { class: `${clsPrefix}-color-picker-handle__fill`, style: {\n                            backgroundColor: toRgbaString(this.rgba),\n                            borderRadius: RADIUS,\n                            width: HANDLE_SIZE,\n                            height: HANDLE_SIZE\n                        } }))))));\n    }\n});\n","import { on, off } from 'evtd';\nimport { computed, defineComponent, h, ref } from 'vue';\nconst HANDLE_SIZE = '12px';\nconst RADIUS = '6px';\nexport default defineComponent({\n    name: 'Pallete',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        rgba: {\n            type: Array,\n            default: null\n        },\n        // 0 - 360\n        displayedHue: {\n            type: Number,\n            required: true\n        },\n        displayedSv: {\n            type: Array,\n            required: true\n        },\n        onUpdateSV: {\n            type: Function,\n            required: true\n        },\n        onComplete: Function\n    },\n    setup(props) {\n        const palleteRef = ref(null);\n        function handleMouseDown(e) {\n            if (!palleteRef.value)\n                return;\n            on('mousemove', document, handleMouseMove);\n            on('mouseup', document, handleMouseUp);\n            handleMouseMove(e);\n        }\n        function handleMouseMove(e) {\n            const { value: palleteEl } = palleteRef;\n            if (!palleteEl)\n                return;\n            const { width, height, left, bottom } = palleteEl.getBoundingClientRect();\n            const newV = (bottom - e.clientY) / height;\n            const newS = (e.clientX - left) / width;\n            const normalizedNewS = 100 * (newS > 1 ? 1 : newS < 0 ? 0 : newS);\n            const normalizedNewV = 100 * (newV > 1 ? 1 : newV < 0 ? 0 : newV);\n            props.onUpdateSV(normalizedNewS, normalizedNewV);\n        }\n        function handleMouseUp() {\n            var _a;\n            off('mousemove', document, handleMouseMove);\n            off('mouseup', document, handleMouseUp);\n            (_a = props.onComplete) === null || _a === void 0 ? void 0 : _a.call(props);\n        }\n        return {\n            palleteRef,\n            handleColor: computed(() => {\n                const { rgba } = props;\n                if (!rgba)\n                    return '';\n                return `rgb(${rgba[0]}, ${rgba[1]}, ${rgba[2]})`;\n            }),\n            handleMouseDown\n        };\n    },\n    render() {\n        const { clsPrefix } = this;\n        return (h(\"div\", { class: `${clsPrefix}-color-picker-pallete`, onMousedown: this.handleMouseDown, ref: \"palleteRef\" },\n            h(\"div\", { class: `${clsPrefix}-color-picker-pallete__layer`, style: {\n                    backgroundImage: `linear-gradient(90deg, white, hsl(${this.displayedHue}, 100%, 50%))`\n                } }),\n            h(\"div\", { class: `${clsPrefix}-color-picker-pallete__layer ${clsPrefix}-color-picker-pallete__layer--shadowed`, style: {\n                    backgroundImage: 'linear-gradient(180deg, rgba(0, 0, 0, 0%), rgba(0, 0, 0, 100%))'\n                } }),\n            this.rgba && (h(\"div\", { class: `${clsPrefix}-color-picker-handle`, style: {\n                    width: HANDLE_SIZE,\n                    height: HANDLE_SIZE,\n                    borderRadius: RADIUS,\n                    left: `calc(${this.displayedSv[0]}% - ${RADIUS})`,\n                    bottom: `calc(${this.displayedSv[1]}% - ${RADIUS})`\n                } },\n                h(\"div\", { class: `${clsPrefix}-color-picker-handle__fill`, style: {\n                        backgroundColor: this.handleColor,\n                        borderRadius: RADIUS,\n                        width: HANDLE_SIZE,\n                        height: HANDLE_SIZE\n                    } })))));\n    }\n});\n","import { createInjectionKey } from '../../_utils';\nexport const colorPickerInjectionKey = createInjectionKey('n-color-picker');\n","import { defineComponent, h, inject, ref, watchEffect } from 'vue';\nimport { NInput } from '../../input';\nimport { colorPickerInjectionKey } from './context';\n// 0 - 255\nfunction normalizeRgbUnit(value) {\n    if (/^\\d{1,3}\\.?\\d*$/.test(value.trim())) {\n        return Math.max(0, Math.min(parseInt(value), 255));\n    }\n    return false;\n}\n// 0 - 360\nfunction normalizeHueUnit(value) {\n    if (/^\\d{1,3}\\.?\\d*$/.test(value.trim())) {\n        return Math.max(0, Math.min(parseInt(value), 360));\n    }\n    return false;\n}\n// 0 - 100\nfunction normalizeSlvUnit(value) {\n    if (/^\\d{1,3}\\.?\\d*$/.test(value.trim())) {\n        return Math.max(0, Math.min(parseInt(value), 100));\n    }\n    return false;\n}\nfunction normalizeHexaUnit(value) {\n    const trimmedValue = value.trim();\n    if (/^#[0-9a-fA-F]+$/.test(trimmedValue)) {\n        return [4, 5, 7, 9].includes(trimmedValue.length);\n    }\n    return false;\n}\n// 0 - 100%\nfunction normalizeAlphaUnit(value) {\n    if (/^\\d{1,3}\\.?\\d*%$/.test(value.trim())) {\n        return Math.max(0, Math.min(parseInt(value) / 100, 100));\n    }\n    return false;\n}\nconst inputThemeOverrides = {\n    paddingSmall: '0 4px'\n};\nexport default defineComponent({\n    name: 'ColorInputUnit',\n    props: {\n        label: {\n            type: String,\n            required: true\n        },\n        value: {\n            type: [Number, String],\n            default: null\n        },\n        showAlpha: Boolean,\n        onUpdateValue: {\n            type: Function,\n            required: true\n        }\n    },\n    setup(props) {\n        const inputValueRef = ref('');\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const { themeRef } = inject(colorPickerInjectionKey, null);\n        watchEffect(() => {\n            inputValueRef.value = getInputString();\n        });\n        function getInputString() {\n            const { value } = props;\n            if (value === null)\n                return '';\n            const { label } = props;\n            if (label === 'HEX') {\n                return value;\n            }\n            if (label === 'A') {\n                return `${Math.floor(value * 100)}%`;\n            }\n            return String(Math.floor(value));\n        }\n        function handleInputUpdateValue(value) {\n            inputValueRef.value = value;\n        }\n        function handleInputChange(value) {\n            let unit;\n            let valid;\n            switch (props.label) {\n                case 'HEX':\n                    valid = normalizeHexaUnit(value);\n                    if (valid) {\n                        props.onUpdateValue(value);\n                    }\n                    inputValueRef.value = getInputString(); // to normalized new value\n                    break;\n                case 'H':\n                    unit = normalizeHueUnit(value);\n                    if (unit === false) {\n                        inputValueRef.value = getInputString();\n                    }\n                    else {\n                        props.onUpdateValue(unit);\n                    }\n                    break;\n                case 'S':\n                case 'L':\n                case 'V':\n                    unit = normalizeSlvUnit(value);\n                    if (unit === false) {\n                        inputValueRef.value = getInputString();\n                    }\n                    else {\n                        props.onUpdateValue(unit);\n                    }\n                    break;\n                case 'A':\n                    unit = normalizeAlphaUnit(value);\n                    if (unit === false) {\n                        inputValueRef.value = getInputString();\n                    }\n                    else {\n                        props.onUpdateValue(unit);\n                    }\n                    break;\n                case 'R':\n                case 'G':\n                case 'B':\n                    unit = normalizeRgbUnit(value);\n                    if (unit === false) {\n                        inputValueRef.value = getInputString();\n                    }\n                    else {\n                        props.onUpdateValue(unit);\n                    }\n                    break;\n            }\n        }\n        return {\n            mergedTheme: themeRef,\n            inputValue: inputValueRef,\n            handleInputChange,\n            handleInputUpdateValue\n        };\n    },\n    render() {\n        const { mergedTheme } = this;\n        return (h(NInput, { size: \"small\", placeholder: this.label, theme: mergedTheme.peers.Input, themeOverrides: mergedTheme.peerOverrides.Input, builtinThemeOverrides: inputThemeOverrides, value: this.inputValue, onUpdateValue: this.handleInputUpdateValue, onChange: this.handleInputChange, \n            // add more space for xxx% input\n            style: this.label === 'A' ? 'flex-grow: 1.25;' : '' }));\n    }\n});\n","import { toHsvaString, toRgbaString, toHslaString, toHexaString, toHexString, toHsvString, toRgbString, toHslString } from 'seemly';\nimport { h, defineComponent } from 'vue';\nimport { NInputGroup } from '../../input';\nimport ColorInputUnit from './ColorInputUnit';\nexport default defineComponent({\n    name: 'ColorInput',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        mode: {\n            type: String,\n            required: true\n        },\n        modes: {\n            type: Array,\n            required: true\n        },\n        showAlpha: {\n            type: Boolean,\n            required: true\n        },\n        value: {\n            // for hex to get percise value\n            type: String,\n            default: null\n        },\n        valueArr: {\n            type: Array,\n            default: null\n        },\n        onUpdateValue: {\n            type: Function,\n            required: true\n        },\n        onUpdateMode: {\n            type: Function,\n            required: true\n        }\n    },\n    setup(props) {\n        return {\n            handleUnitUpdateValue(index, value) {\n                const { showAlpha } = props;\n                if (props.mode === 'hex') {\n                    props.onUpdateValue((showAlpha ? toHexaString : toHexString)(value));\n                    return;\n                }\n                let nextValueArr;\n                if (props.valueArr === null) {\n                    nextValueArr = [0, 0, 0, 0];\n                }\n                else {\n                    nextValueArr = Array.from(props.valueArr);\n                }\n                switch (props.mode) {\n                    case 'hsv':\n                        nextValueArr[index] = value;\n                        props.onUpdateValue((showAlpha ? toHsvaString : toHsvString)(nextValueArr));\n                        break;\n                    case 'rgb':\n                        nextValueArr[index] = value;\n                        props.onUpdateValue((showAlpha ? toRgbaString : toRgbString)(nextValueArr));\n                        break;\n                    case 'hsl':\n                        nextValueArr[index] = value;\n                        props.onUpdateValue((showAlpha ? toHslaString : toHslString)(nextValueArr));\n                        break;\n                }\n            }\n        };\n    },\n    render() {\n        const { clsPrefix, modes } = this;\n        return (h(\"div\", { class: `${clsPrefix}-color-picker-input` },\n            h(\"div\", { class: `${clsPrefix}-color-picker-input__mode`, onClick: this.onUpdateMode, style: {\n                    cursor: modes.length === 1 ? '' : 'pointer'\n                } }, this.mode.toUpperCase() + (this.showAlpha ? 'A' : '')),\n            h(NInputGroup, null, {\n                default: () => {\n                    const { mode, valueArr, showAlpha } = this;\n                    if (mode === 'hex') {\n                        // hex and rgba shares the same value arr\n                        let hexValue = null;\n                        try {\n                            hexValue =\n                                valueArr === null\n                                    ? null\n                                    : (showAlpha ? toHexaString : toHexString)(valueArr);\n                        }\n                        catch (_a) { }\n                        return (h(ColorInputUnit, { label: 'HEX', showAlpha: showAlpha, value: hexValue, onUpdateValue: (unitValue) => {\n                                this.handleUnitUpdateValue(0, unitValue);\n                            } }));\n                    }\n                    return (mode + (showAlpha ? 'a' : '')).split('').map((v, i) => (h(ColorInputUnit, { label: v.toUpperCase(), value: valueArr === null ? null : valueArr[i], onUpdateValue: (unitValue) => {\n                            this.handleUnitUpdateValue(i, unitValue);\n                        } })));\n                }\n            })));\n    }\n});\n","import { toHslaString } from 'seemly';\nimport { defineComponent, h, inject } from 'vue';\nimport { colorPickerInjectionKey } from './context';\nexport default defineComponent({\n    name: 'ColorPickerTrigger',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        value: {\n            type: String,\n            default: null\n        },\n        hsla: {\n            type: Array,\n            default: null\n        },\n        disabled: Boolean,\n        onClick: Function\n    },\n    setup(props) {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const { colorPickerSlots, renderLabelRef } = inject(colorPickerInjectionKey, null);\n        return () => {\n            const { hsla, value, clsPrefix, onClick, disabled } = props;\n            const renderLabel = colorPickerSlots.label || renderLabelRef.value;\n            return (h(\"div\", { class: [\n                    `${clsPrefix}-color-picker-trigger`,\n                    disabled && `${clsPrefix}-color-picker-trigger--disabled`\n                ], onClick: disabled ? undefined : onClick },\n                h(\"div\", { class: `${clsPrefix}-color-picker-trigger__fill` },\n                    h(\"div\", { class: `${clsPrefix}-color-picker-checkboard` }),\n                    h(\"div\", { style: {\n                            position: 'absolute',\n                            left: 0,\n                            right: 0,\n                            top: 0,\n                            bottom: 0,\n                            backgroundColor: hsla ? toHslaString(hsla) : ''\n                        } }),\n                    value && hsla ? (h(\"div\", { class: `${clsPrefix}-color-picker-trigger__value`, style: {\n                            color: hsla[2] > 50 || hsla[3] < 0.5 ? 'black' : 'white'\n                        } }, renderLabel ? renderLabel(value) : value)) : null)));\n        };\n    }\n});\n","import { defineComponent, h, computed } from 'vue';\nimport { hsv2rgb, hsva, toRgbaString } from 'seemly';\nimport { convertColor, getModeFromValue } from './utils';\nimport { warn } from '../../_utils';\n// Try to normalize the color values to ensure that they are valid CSS colors\nfunction normalizeColor(color, mode) {\n    if (mode === 'hsv') {\n        const [h, s, v, a] = hsva(color);\n        return toRgbaString([...hsv2rgb(h, s, v), a]);\n    }\n    // For the mode that is not in preset, we keep the original value.\n    // For color names, they are legal to CSS, so we don’t deal with them,\n    // and only standardize them when outputting.\n    return color;\n}\nfunction getHexFromName(color) {\n    const ctx = document\n        .createElement('canvas')\n        .getContext('2d');\n    ctx.fillStyle = color;\n    return ctx.fillStyle;\n}\nexport default defineComponent({\n    name: 'ColorPickerSwatches',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        mode: {\n            type: String,\n            required: true\n        },\n        swatches: {\n            type: Array,\n            required: true\n        },\n        onUpdateColor: {\n            type: Function,\n            required: true\n        }\n    },\n    setup(props) {\n        const parsedSwatchesRef = computed(() => props.swatches.map((value) => {\n            const mode = getModeFromValue(value);\n            return {\n                value,\n                mode,\n                legalValue: normalizeColor(value, mode)\n            };\n        }));\n        function normalizeOutput(parsed) {\n            const { mode: modeProp } = props;\n            let { value, mode: swatchColorMode } = parsed;\n            // color name is converted to hex\n            if (!swatchColorMode) {\n                swatchColorMode = 'hex';\n                if (/^[a-zA-Z]+$/.test(value)) {\n                    value = getHexFromName(value);\n                }\n                else {\n                    // for invalid color, we make it black\n                    warn('color-picker', `color ${value} in swatches is invalid.`);\n                    value = '#000000';\n                }\n            }\n            if (swatchColorMode === modeProp)\n                return value;\n            // swatch value to current mode value\n            return convertColor(value, modeProp, swatchColorMode);\n        }\n        function handleSwatchSelect(parsed) {\n            props.onUpdateColor(normalizeOutput(parsed));\n        }\n        function handleSwatchKeyDown(e, parsed) {\n            if (e.key === 'Enter')\n                handleSwatchSelect(parsed);\n        }\n        return {\n            parsedSwatchesRef,\n            handleSwatchSelect,\n            handleSwatchKeyDown\n        };\n    },\n    render() {\n        const { clsPrefix } = this;\n        return (h(\"div\", { class: `${clsPrefix}-color-picker-swatches` }, this.parsedSwatchesRef.map((swatch) => (h(\"div\", { class: `${clsPrefix}-color-picker-swatch`, tabindex: 0, onClick: () => { this.handleSwatchSelect(swatch); }, onKeydown: (e) => { this.handleSwatchKeyDown(e, swatch); } },\n            h(\"div\", { class: `${clsPrefix}-color-picker-swatch__fill`, style: { background: swatch.legalValue } }))))));\n    }\n});\n","import { defineComponent, h } from 'vue';\nimport { convertColor, getModeFromValue } from './utils';\nexport default defineComponent({\n    name: 'ColorPreview',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        mode: {\n            type: String,\n            required: true\n        },\n        color: {\n            type: String,\n            default: null,\n            validator: (value) => {\n                const mode = getModeFromValue(value);\n                return Boolean(!value || (mode && mode !== 'hsv'));\n            }\n        },\n        onUpdateColor: {\n            type: Function,\n            required: true\n        }\n    },\n    setup(props) {\n        function handleChange(e) {\n            var _a;\n            // hex\n            const value = e.target.value;\n            (_a = props.onUpdateColor) === null || _a === void 0 ? void 0 : _a.call(props, convertColor(value.toUpperCase(), props.mode, 'hex'));\n            e.stopPropagation();\n        }\n        return {\n            handleChange\n        };\n    },\n    render() {\n        const { clsPrefix } = this;\n        return (h(\"div\", { class: `${clsPrefix}-color-picker-preview__preview` },\n            h(\"span\", { class: `${clsPrefix}-color-picker-preview__fill`, style: {\n                    background: this.color || '#000000'\n                } }),\n            h(\"input\", { class: `${clsPrefix}-color-picker-preview__input`, type: \"color\", value: this.color, onChange: this.handleChange })));\n    }\n});\n","import { c, cB, cE, cM } from '../../../_utils/cssr';\nimport { fadeInScaleUpTransition } from '../../../_styles/transitions/fade-in-scale-up.cssr';\n// vars:\n// --n-color\n// --n-text-color\n// --n-border-radius\n// --n-panel-font-size\n// --n-font-size\n// --n-bezier\n// --n-height\n// --n-box-shadow\n// --n-divider-color\nexport default c([cB('color-picker', `\n display: inline-block;\n box-sizing: border-box;\n height: var(--n-height);\n font-size: var(--n-font-size);\n width: 100%;\n position: relative;\n `), cB('color-picker-panel', `\n margin: 4px 0;\n width: 240px;\n font-size: var(--n-panel-font-size);\n color: var(--n-text-color);\n background-color: var(--n-color);\n transition:\n box-shadow .3s var(--n-bezier),\n color .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n border-radius: var(--n-border-radius);\n box-shadow: var(--n-box-shadow);\n `, [fadeInScaleUpTransition(), cB('input', `\n text-align: center;\n `)]), cB('color-picker-checkboard', `\n background: white; \n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n `, [c('&::after', `\n background-image: linear-gradient(45deg, #DDD 25%, #0000 25%), linear-gradient(-45deg, #DDD 25%, #0000 25%), linear-gradient(45deg, #0000 75%, #DDD 75%), linear-gradient(-45deg, #0000 75%, #DDD 75%);\n background-size: 12px 12px;\n background-position: 0 0, 0 6px, 6px -6px, -6px 0px;\n background-repeat: repeat;\n content: \"\";\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n `)]), cB('color-picker-slider', `\n margin-bottom: 8px;\n position: relative;\n box-sizing: border-box;\n `, [cE('image', `\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n `), c('&::after', `\n content: \"\";\n position: absolute;\n border-radius: inherit;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n box-shadow: inset 0 0 2px 0 rgba(0, 0, 0, .24);\n pointer-events: none;\n `)]), cB('color-picker-handle', `\n z-index: 1;\n box-shadow: 0 0 2px 0 rgba(0, 0, 0, .45);\n position: absolute;\n background-color: white;\n overflow: hidden;\n `, [cE('fill', `\n box-sizing: border-box;\n border: 2px solid white;\n `)]), cB('color-picker-pallete', `\n height: 180px;\n position: relative;\n margin-bottom: 8px;\n cursor: crosshair;\n `, [cE('layer', `\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n `, [cM('shadowed', `\n box-shadow: inset 0 0 2px 0 rgba(0, 0, 0, .24);\n `)])]), cB('color-picker-preview', `\n display: flex;\n `, [cE('sliders', `\n flex: 1 0 auto;\n `), cE('preview', `\n position: relative;\n height: 30px;\n width: 30px;\n margin: 0 0 8px 6px;\n border-radius: 50%;\n box-shadow: rgba(0, 0, 0, .15) 0px 0px 0px 1px inset;\n overflow: hidden;\n `), cE('fill', `\n display: block;\n width: 30px;\n height: 30px;\n `), cE('input', `\n position: absolute;\n top: 0;\n left: 0;\n width: 30px;\n height: 30px;\n opacity: 0;\n z-index: 1;\n `)]), cB('color-picker-input', `\n display: flex;\n align-items: center;\n `, [cB('input', `\n flex-grow: 1;\n flex-basis: 0;\n `), cE('mode', `\n width: 72px;\n text-align: center;\n `)]), cB('color-picker-control', `\n padding: 12px;\n `), cB('color-picker-action', `\n display: flex;\n margin-top: -4px;\n border-top: 1px solid var(--n-divider-color);\n padding: 8px 12px;\n justify-content: flex-end;\n `, [cB('button', 'margin-left: 8px;')]), cB('color-picker-trigger', `\n border: var(--n-border);\n height: 100%;\n box-sizing: border-box;\n border-radius: var(--n-border-radius);\n transition: border-color .3s var(--n-bezier);\n cursor: pointer;\n `, [cE('value', `\n white-space: nowrap;\n position: relative;\n `), cE('fill', `\n border-radius: var(--n-border-radius);\n position: absolute;\n display: flex;\n align-items: center;\n justify-content: center;\n left: 4px;\n right: 4px;\n top: 4px;\n bottom: 4px;\n `), cM('disabled', 'cursor: not-allowed'), cB('color-picker-checkboard', `\n border-radius: var(--n-border-radius);\n `, [c('&::after', `\n --n-block-size: calc((var(--n-height) - 8px) / 3);\n background-size: calc(var(--n-block-size) * 2) calc(var(--n-block-size) * 2);\n background-position: 0 0, 0 var(--n-block-size), var(--n-block-size) calc(-1 * var(--n-block-size)), calc(-1 * var(--n-block-size)) 0px; \n `)])]), cB('color-picker-swatches', `\n display: grid;\n grid-gap: 8px;\n flex-wrap: wrap;\n position: relative;\n grid-template-columns: repeat(auto-fill, 18px);\n margin-top: 10px;\n `, [cB('color-picker-swatch', `\n width: 18px;\n height: 18px;\n background-image: linear-gradient(45deg, #DDD 25%, #0000 25%), linear-gradient(-45deg, #DDD 25%, #0000 25%), linear-gradient(45deg, #0000 75%, #DDD 75%), linear-gradient(-45deg, #0000 75%, #DDD 75%);\n background-size: 8px 8px;\n background-position: 0px 0, 0px 4px, 4px -4px, -4px 0px;\n background-repeat: repeat;\n `, [cE('fill', `\n position: relative;\n width: 100%;\n height: 100%;\n border-radius: 3px;\n box-shadow: rgba(0, 0, 0, .15) 0px 0px 0px 1px inset;\n cursor: pointer;\n `), c('&:focus', `\n outline: none;\n `, [cE('fill', [c('&::after', `\n position: absolute;\n top: 0;\n right: 0;\n bottom: 0;\n left: 0;\n background: inherit;\n filter: blur(2px);\n content: \"\";\n `)])])])])]);","import { h, defineComponent, ref, computed, toRef, watchEffect, withDirectives, Transition, provide, watch, nextTick } from 'vue';\nimport { hsv2rgb, rgb2hsv, rgba, hsva, hsla, hsl2hsv, hsv2hsl, rgb2hsl, hsl2rgb, toRgbaString, toHsvaString, toHslaString, toHexaString, toHsvString, toRgbString, toHexString, toHslString, getPreciseEventTarget } from 'seemly';\nimport { useIsMounted, useMergedState } from 'vooks';\nimport { VBinder, VFollower, VTarget } from 'vueuc';\nimport { clickoutside } from 'vdirs';\nimport { colorPickerLight } from '../styles';\nimport { useFormItem, useConfig, useTheme, useLocale, useThemeClass } from '../../_mixins';\nimport { call, createKey, useAdjustedTo } from '../../_utils';\nimport { NButton } from '../../button';\nimport HueSlider from './HueSlider';\nimport AlphaSlider from './AlphaSlider';\nimport Pallete from './Pallete';\nimport ColorInput from './ColorInput';\nimport ColorPickerTrigger from './ColorPickerTrigger';\nimport { deriveDefaultValue, getModeFromValue } from './utils';\nimport ColorPickerSwatches from './ColorPickerSwatches';\nimport ColorPreview from './ColorPreview';\nimport { colorPickerInjectionKey } from './context';\nimport style from './styles/index.cssr';\nexport const colorPickerProps = Object.assign(Object.assign({}, useTheme.props), { value: String, show: {\n        type: Boolean,\n        default: undefined\n    }, defaultShow: Boolean, defaultValue: String, modes: {\n        type: Array,\n        // no hsva by default since browser doesn't support it\n        default: () => ['rgb', 'hex', 'hsl']\n    }, placement: {\n        type: String,\n        default: 'bottom-start'\n    }, to: useAdjustedTo.propTo, showAlpha: {\n        type: Boolean,\n        default: true\n    }, showPreview: Boolean, swatches: Array, disabled: {\n        type: Boolean,\n        default: undefined\n    }, actions: {\n        type: Array,\n        default: null\n    }, internalActions: Array, size: String, renderLabel: Function, onComplete: Function, onConfirm: Function, 'onUpdate:show': [Function, Array], onUpdateShow: [Function, Array], 'onUpdate:value': [Function, Array], onUpdateValue: [Function, Array] });\nexport default defineComponent({\n    name: 'ColorPicker',\n    props: colorPickerProps,\n    setup(props, { slots }) {\n        const selfRef = ref(null);\n        let upcomingValue = null;\n        const formItem = useFormItem(props);\n        const { mergedSizeRef, mergedDisabledRef } = formItem;\n        const { localeRef } = useLocale('global');\n        const { mergedClsPrefixRef, namespaceRef, inlineThemeDisabled } = useConfig(props);\n        const themeRef = useTheme('ColorPicker', '-color-picker', style, colorPickerLight, props, mergedClsPrefixRef);\n        provide(colorPickerInjectionKey, {\n            themeRef,\n            renderLabelRef: toRef(props, 'renderLabel'),\n            colorPickerSlots: slots\n        });\n        const uncontrolledShowRef = ref(props.defaultShow);\n        const mergedShowRef = useMergedState(toRef(props, 'show'), uncontrolledShowRef);\n        function doUpdateShow(value) {\n            const { onUpdateShow, 'onUpdate:show': _onUpdateShow } = props;\n            if (onUpdateShow)\n                call(onUpdateShow, value);\n            if (_onUpdateShow)\n                call(_onUpdateShow, value);\n            uncontrolledShowRef.value = value;\n        }\n        const { defaultValue } = props;\n        const uncontrolledValueRef = ref(defaultValue === undefined\n            ? deriveDefaultValue(props.modes, props.showAlpha)\n            : defaultValue);\n        const mergedValueRef = useMergedState(toRef(props, 'value'), uncontrolledValueRef);\n        const undoStackRef = ref([mergedValueRef.value]);\n        const valueIndexRef = ref(0);\n        const valueModeRef = computed(() => getModeFromValue(mergedValueRef.value));\n        const { modes } = props;\n        const displayedModeRef = ref(getModeFromValue(mergedValueRef.value) || modes[0] || 'rgb');\n        function handleUpdateDisplayedMode() {\n            const { modes } = props;\n            const { value: displayedMode } = displayedModeRef;\n            const currentModeIndex = modes.findIndex((mode) => mode === displayedMode);\n            if (~currentModeIndex) {\n                displayedModeRef.value = modes[(currentModeIndex + 1) % modes.length];\n            }\n            else {\n                displayedModeRef.value = 'rgb';\n            }\n        }\n        let _h, // avoid conflict with render function's h\n        s, l, v, r, g, b, a;\n        const hsvaRef = computed(() => {\n            const { value: mergedValue } = mergedValueRef;\n            if (!mergedValue)\n                return null;\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            switch (valueModeRef.value) {\n                case 'hsv':\n                    return hsva(mergedValue);\n                case 'hsl':\n                    ;\n                    [_h, s, l, a] = hsla(mergedValue);\n                    return [...hsl2hsv(_h, s, l), a];\n                case 'rgb':\n                case 'hex':\n                    ;\n                    [r, g, b, a] = rgba(mergedValue);\n                    return [...rgb2hsv(r, g, b), a];\n            }\n        });\n        const rgbaRef = computed(() => {\n            const { value: mergedValue } = mergedValueRef;\n            if (!mergedValue)\n                return null;\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            switch (valueModeRef.value) {\n                case 'rgb':\n                case 'hex':\n                    return rgba(mergedValue);\n                case 'hsv':\n                    ;\n                    [_h, s, v, a] = hsva(mergedValue);\n                    return [...hsv2rgb(_h, s, v), a];\n                case 'hsl':\n                    ;\n                    [_h, s, l, a] = hsla(mergedValue);\n                    return [...hsl2rgb(_h, s, l), a];\n            }\n        });\n        const hslaRef = computed(() => {\n            const { value: mergedValue } = mergedValueRef;\n            if (!mergedValue)\n                return null;\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            switch (valueModeRef.value) {\n                case 'hsl':\n                    return hsla(mergedValue);\n                case 'hsv':\n                    ;\n                    [_h, s, v, a] = hsva(mergedValue);\n                    return [...hsv2hsl(_h, s, v), a];\n                case 'rgb':\n                case 'hex':\n                    ;\n                    [r, g, b, a] = rgba(mergedValue);\n                    return [...rgb2hsl(r, g, b), a];\n            }\n        });\n        const mergedValueArrRef = computed(() => {\n            switch (displayedModeRef.value) {\n                case 'rgb':\n                case 'hex':\n                    return rgbaRef.value;\n                case 'hsv':\n                    return hsvaRef.value;\n                case 'hsl':\n                    return hslaRef.value;\n            }\n        });\n        const displayedHueRef = ref(0);\n        const displayedAlphaRef = ref(1);\n        const displayedSvRef = ref([0, 0]);\n        function handleUpdateSv(s, v) {\n            const { value: hsvaArr } = hsvaRef;\n            const hue = displayedHueRef.value;\n            const alpha = hsvaArr ? hsvaArr[3] : 1;\n            displayedSvRef.value = [s, v];\n            const { showAlpha } = props;\n            switch (displayedModeRef.value) {\n                case 'hsv':\n                    doUpdateValue((showAlpha ? toHsvaString : toHsvString)([hue, s, v, alpha]), 'cursor');\n                    break;\n                case 'hsl':\n                    doUpdateValue((showAlpha ? toHslaString : toHslString)([\n                        ...hsv2hsl(hue, s, v),\n                        alpha\n                    ]), 'cursor');\n                    break;\n                case 'rgb':\n                    doUpdateValue((showAlpha ? toRgbaString : toRgbString)([\n                        ...hsv2rgb(hue, s, v),\n                        alpha\n                    ]), 'cursor');\n                    break;\n                case 'hex':\n                    doUpdateValue((showAlpha ? toHexaString : toHexString)([\n                        ...hsv2rgb(hue, s, v),\n                        alpha\n                    ]), 'cursor');\n                    break;\n            }\n        }\n        function handleUpdateHue(hue) {\n            displayedHueRef.value = hue;\n            const { value: hsvaArr } = hsvaRef;\n            if (!hsvaArr) {\n                return;\n            }\n            const [, s, v, a] = hsvaArr;\n            const { showAlpha } = props;\n            switch (displayedModeRef.value) {\n                case 'hsv':\n                    doUpdateValue((showAlpha ? toHsvaString : toHsvString)([hue, s, v, a]), 'cursor');\n                    break;\n                case 'rgb':\n                    doUpdateValue((showAlpha ? toRgbaString : toRgbString)([\n                        ...hsv2rgb(hue, s, v),\n                        a\n                    ]), 'cursor');\n                    break;\n                case 'hex':\n                    doUpdateValue((showAlpha ? toHexaString : toHexString)([\n                        ...hsv2rgb(hue, s, v),\n                        a\n                    ]), 'cursor');\n                    break;\n                case 'hsl':\n                    doUpdateValue((showAlpha ? toHslaString : toHslString)([\n                        ...hsv2hsl(hue, s, v),\n                        a\n                    ]), 'cursor');\n                    break;\n            }\n        }\n        function handleUpdateAlpha(alpha) {\n            switch (displayedModeRef.value) {\n                case 'hsv':\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    ;\n                    [_h, s, v] = hsvaRef.value;\n                    doUpdateValue(toHsvaString([_h, s, v, alpha]), 'cursor');\n                    break;\n                case 'rgb':\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    ;\n                    [r, g, b] = rgbaRef.value;\n                    doUpdateValue(toRgbaString([r, g, b, alpha]), 'cursor');\n                    break;\n                case 'hex':\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    ;\n                    [r, g, b] = rgbaRef.value;\n                    doUpdateValue(toHexaString([r, g, b, alpha]), 'cursor');\n                    break;\n                case 'hsl':\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    ;\n                    [_h, s, l] = hslaRef.value;\n                    doUpdateValue(toHslaString([_h, s, l, alpha]), 'cursor');\n                    break;\n            }\n            displayedAlphaRef.value = alpha;\n        }\n        function doUpdateValue(value, updateSource) {\n            if (updateSource === 'cursor') {\n                upcomingValue = value;\n            }\n            else {\n                upcomingValue = null;\n            }\n            const { nTriggerFormChange, nTriggerFormInput } = formItem;\n            const { onUpdateValue, 'onUpdate:value': _onUpdateValue } = props;\n            if (onUpdateValue)\n                call(onUpdateValue, value);\n            if (_onUpdateValue)\n                call(_onUpdateValue, value);\n            nTriggerFormChange();\n            nTriggerFormInput();\n            uncontrolledValueRef.value = value;\n        }\n        function handleInputUpdateValue(value) {\n            doUpdateValue(value, 'input');\n            void nextTick(handleComplete);\n        }\n        function handleComplete(pushStack = true) {\n            const { value } = mergedValueRef;\n            // no value & only hue changes will complete with no value\n            if (value) {\n                const { nTriggerFormChange, nTriggerFormInput } = formItem;\n                const { onComplete } = props;\n                if (onComplete) {\n                    ;\n                    onComplete(value);\n                }\n                const { value: undoStack } = undoStackRef;\n                const { value: valueIndex } = valueIndexRef;\n                if (pushStack) {\n                    undoStack.splice(valueIndex + 1, undoStack.length, value);\n                    valueIndexRef.value = valueIndex + 1;\n                }\n                nTriggerFormChange();\n                nTriggerFormInput();\n            }\n        }\n        function undo() {\n            const { value: valueIndex } = valueIndexRef;\n            if (valueIndex - 1 < 0)\n                return;\n            doUpdateValue(undoStackRef.value[valueIndex - 1], 'input');\n            handleComplete(false);\n            valueIndexRef.value = valueIndex - 1;\n        }\n        function redo() {\n            const { value: valueIndex } = valueIndexRef;\n            if (valueIndex < 0 || valueIndex + 1 >= undoStackRef.value.length)\n                return;\n            doUpdateValue(undoStackRef.value[valueIndex + 1], 'input');\n            handleComplete(false);\n            valueIndexRef.value = valueIndex + 1;\n        }\n        function handleClear() {\n            doUpdateValue(null, 'input');\n            doUpdateShow(false);\n        }\n        function handleConfirm() {\n            const { value } = mergedValueRef;\n            const { onConfirm } = props;\n            if (onConfirm) {\n                ;\n                onConfirm(value);\n            }\n            doUpdateShow(false);\n        }\n        const undoableRef = computed(() => valueIndexRef.value >= 1);\n        const redoableRef = computed(() => {\n            const { value: undoStack } = undoStackRef;\n            return undoStack.length > 1 && valueIndexRef.value < undoStack.length - 1;\n        });\n        watch(mergedShowRef, (value) => {\n            if (!value) {\n                undoStackRef.value = [mergedValueRef.value];\n                valueIndexRef.value = 0;\n            }\n        });\n        watchEffect(() => {\n            if (upcomingValue && upcomingValue === mergedValueRef.value) {\n                // let it works in uncontrolled mode\n            }\n            else {\n                const { value } = hsvaRef;\n                if (value) {\n                    displayedHueRef.value = value[0];\n                    displayedAlphaRef.value = value[3];\n                    displayedSvRef.value = [value[1], value[2]];\n                }\n            }\n            upcomingValue = null;\n        });\n        const cssVarsRef = computed(() => {\n            const { value: mergedSize } = mergedSizeRef;\n            const { common: { cubicBezierEaseInOut }, self: { textColor, color, panelFontSize, boxShadow, border, borderRadius, dividerColor, [createKey('height', mergedSize)]: height, [createKey('fontSize', mergedSize)]: fontSize } } = themeRef.value;\n            return {\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-text-color': textColor,\n                '--n-color': color,\n                '--n-panel-font-size': panelFontSize,\n                '--n-font-size': fontSize,\n                '--n-box-shadow': boxShadow,\n                '--n-border': border,\n                '--n-border-radius': borderRadius,\n                '--n-height': height,\n                '--n-divider-color': dividerColor\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('color-picker', computed(() => {\n                return mergedSizeRef.value[0];\n            }), cssVarsRef, props)\n            : undefined;\n        function renderPanel() {\n            var _a;\n            const { value: rgba } = rgbaRef;\n            const { value: displayedHue } = displayedHueRef;\n            const { internalActions, modes, actions } = props;\n            const { value: mergedTheme } = themeRef;\n            const { value: mergedClsPrefix } = mergedClsPrefixRef;\n            return (h(\"div\", { class: [\n                    `${mergedClsPrefix}-color-picker-panel`,\n                    themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass.value\n                ], onDragstart: (e) => {\n                    e.preventDefault();\n                }, style: inlineThemeDisabled\n                    ? undefined\n                    : cssVarsRef.value },\n                h(\"div\", { class: `${mergedClsPrefix}-color-picker-control` },\n                    h(Pallete, { clsPrefix: mergedClsPrefix, rgba: rgba, displayedHue: displayedHue, displayedSv: displayedSvRef.value, onUpdateSV: handleUpdateSv, onComplete: handleComplete }),\n                    h(\"div\", { class: `${mergedClsPrefix}-color-picker-preview` },\n                        h(\"div\", { class: `${mergedClsPrefix}-color-picker-preview__sliders` },\n                            h(HueSlider, { clsPrefix: mergedClsPrefix, hue: displayedHue, onUpdateHue: handleUpdateHue, onComplete: handleComplete }),\n                            props.showAlpha ? (h(AlphaSlider, { clsPrefix: mergedClsPrefix, rgba: rgba, alpha: displayedAlphaRef.value, onUpdateAlpha: handleUpdateAlpha, onComplete: handleComplete })) : null),\n                        props.showPreview ? (h(ColorPreview, { clsPrefix: mergedClsPrefix, mode: displayedModeRef.value, color: rgbaRef.value && toHexString(rgbaRef.value), onUpdateColor: (color) => { doUpdateValue(color, 'input'); } })) : null),\n                    h(ColorInput, { clsPrefix: mergedClsPrefix, showAlpha: props.showAlpha, mode: displayedModeRef.value, modes: modes, onUpdateMode: handleUpdateDisplayedMode, value: mergedValueRef.value, valueArr: mergedValueArrRef.value, onUpdateValue: handleInputUpdateValue }),\n                    ((_a = props.swatches) === null || _a === void 0 ? void 0 : _a.length) && (h(ColorPickerSwatches, { clsPrefix: mergedClsPrefix, mode: displayedModeRef.value, swatches: props.swatches, onUpdateColor: (color) => { doUpdateValue(color, 'input'); } }))),\n                (actions === null || actions === void 0 ? void 0 : actions.length) ? (h(\"div\", { class: `${mergedClsPrefix}-color-picker-action` },\n                    actions.includes('confirm') && (h(NButton, { size: \"small\", onClick: handleConfirm, theme: mergedTheme.peers.Button, themeOverrides: mergedTheme.peerOverrides.Button }, { default: () => localeRef.value.confirm })),\n                    actions.includes('clear') && (h(NButton, { size: \"small\", onClick: handleClear, disabled: !mergedValueRef.value, theme: mergedTheme.peers.Button, themeOverrides: mergedTheme.peerOverrides.Button }, { default: () => localeRef.value.clear })))) : null,\n                slots.action ? (h(\"div\", { class: `${mergedClsPrefix}-color-picker-action` }, { default: slots.action })) : internalActions ? (h(\"div\", { class: `${mergedClsPrefix}-color-picker-action` },\n                    internalActions.includes('undo') && (h(NButton, { size: \"small\", onClick: undo, disabled: !undoableRef.value, theme: mergedTheme.peers.Button, themeOverrides: mergedTheme.peerOverrides.Button }, { default: () => localeRef.value.undo })),\n                    internalActions.includes('redo') && (h(NButton, { size: \"small\", onClick: redo, disabled: !redoableRef.value, theme: mergedTheme.peers.Button, themeOverrides: mergedTheme.peerOverrides.Button }, { default: () => localeRef.value.redo })))) : null));\n        }\n        return {\n            mergedClsPrefix: mergedClsPrefixRef,\n            namespace: namespaceRef,\n            selfRef,\n            hsla: hslaRef,\n            rgba: rgbaRef,\n            mergedShow: mergedShowRef,\n            mergedDisabled: mergedDisabledRef,\n            isMounted: useIsMounted(),\n            adjustedTo: useAdjustedTo(props),\n            mergedValue: mergedValueRef,\n            handleTriggerClick() {\n                doUpdateShow(true);\n            },\n            handleClickOutside(e) {\n                var _a;\n                if ((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(getPreciseEventTarget(e))) {\n                    return;\n                }\n                doUpdateShow(false);\n            },\n            renderPanel,\n            cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n            themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n            onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n        };\n    },\n    render() {\n        const { $slots, mergedClsPrefix, onRender } = this;\n        onRender === null || onRender === void 0 ? void 0 : onRender();\n        return (h(\"div\", { class: [this.themeClass, `${mergedClsPrefix}-color-picker`], ref: \"selfRef\", style: this.cssVars },\n            h(VBinder, null, {\n                default: () => [\n                    h(VTarget, null, {\n                        default: () => (h(ColorPickerTrigger, { clsPrefix: mergedClsPrefix, value: this.mergedValue, hsla: this.hsla, disabled: this.mergedDisabled, onClick: this.handleTriggerClick }, {\n                            label: $slots.label\n                        }))\n                    }),\n                    h(VFollower, { placement: this.placement, show: this.mergedShow, containerClass: this.namespace, teleportDisabled: this.adjustedTo === useAdjustedTo.tdkey, to: this.adjustedTo }, {\n                        default: () => (h(Transition, { name: \"fade-in-scale-up-transition\", appear: this.isMounted }, {\n                            default: () => this.mergedShow\n                                ? withDirectives(this.renderPanel(), [\n                                    [\n                                        clickoutside,\n                                        this.handleClickOutside,\n                                        undefined,\n                                        { capture: true }\n                                    ]\n                                ])\n                                : null\n                        }))\n                    })\n                ]\n            })));\n    }\n});\n","import { cB, c } from '../../../_utils/cssr';\nimport { fadeInScaleUpTransition } from '../../../_styles/transitions/fade-in-scale-up.cssr';\n// --n-menu-box-shadow\nexport default c([cB('select', `\n z-index: auto;\n outline: none;\n width: 100%;\n position: relative;\n `), cB('select-menu', `\n margin: 4px 0;\n box-shadow: var(--n-menu-box-shadow);\n `, [fadeInScaleUpTransition({\n  originalTransition: 'background-color .3s var(--n-bezier), box-shadow .3s var(--n-bezier)'\n})])]);","import { h, ref, computed, toRef, defineComponent, watch, Transition, withDirectives, vShow, watchEffect } from 'vue';\nimport { getPreciseEventTarget, happensIn } from 'seemly';\nimport { createTreeMate } from 'treemate';\nimport { VBinder, VFollower, VTarget } from 'vueuc';\nimport { useIsMounted, useMergedState, useCompitable } from 'vooks';\nimport { clickoutside } from 'vdirs';\nimport { useTheme, useConfig, useLocale, useFormItem, useThemeClass } from '../../_mixins';\nimport { call, markEventEffectPerformed, useAdjustedTo, warnOnce } from '../../_utils';\nimport { NInternalSelectMenu, NInternalSelection } from '../../_internal';\nimport { selectLight } from '../styles';\nimport { createValOptMap, filterOptions, createTmOptions, patternMatched } from './utils';\nimport style from './styles/index.cssr';\nexport const selectProps = Object.assign(Object.assign({}, useTheme.props), { to: useAdjustedTo.propTo, bordered: {\n        type: Boolean,\n        default: undefined\n    }, clearable: Boolean, clearFilterAfterSelect: {\n        type: Boolean,\n        default: true\n    }, options: {\n        type: Array,\n        default: () => []\n    }, defaultValue: {\n        type: [String, Number, Array],\n        default: null\n    }, keyboard: {\n        type: Boolean,\n        default: true\n    }, value: [String, Number, Array], placeholder: String, menuProps: Object, multiple: Boolean, size: String, filterable: Boolean, disabled: {\n        type: Boolean,\n        default: undefined\n    }, remote: Boolean, loading: Boolean, filter: Function, placement: {\n        type: String,\n        default: 'bottom-start'\n    }, widthMode: {\n        type: String,\n        default: 'trigger'\n    }, tag: Boolean, onCreate: Function, fallbackOption: {\n        type: [Function, Boolean],\n        default: undefined\n    }, show: {\n        type: Boolean,\n        default: undefined\n    }, showArrow: {\n        type: Boolean,\n        default: true\n    }, maxTagCount: [Number, String], consistentMenuWidth: {\n        type: Boolean,\n        default: true\n    }, virtualScroll: {\n        type: Boolean,\n        default: true\n    }, labelField: {\n        type: String,\n        default: 'label'\n    }, valueField: {\n        type: String,\n        default: 'value'\n    }, childrenField: {\n        type: String,\n        default: 'children'\n    }, renderLabel: Function, renderOption: Function, renderTag: Function, 'onUpdate:value': [Function, Array], inputProps: Object, nodeProps: Function, ignoreComposition: { type: Boolean, default: true }, showOnFocus: Boolean, \n    // for jsx\n    onUpdateValue: [Function, Array], onBlur: [Function, Array], onClear: [Function, Array], onFocus: [Function, Array], onScroll: [Function, Array], onSearch: [Function, Array], onUpdateShow: [Function, Array], 'onUpdate:show': [Function, Array], displayDirective: {\n        type: String,\n        default: 'show'\n    }, resetMenuOnOptionsChange: {\n        type: Boolean,\n        default: true\n    }, status: String, showCheckmark: {\n        type: Boolean,\n        default: true\n    }, \n    /** deprecated */\n    onChange: [Function, Array], items: Array });\nexport default defineComponent({\n    name: 'Select',\n    props: selectProps,\n    setup(props) {\n        if (process.env.NODE_ENV !== 'production') {\n            watchEffect(() => {\n                if (props.items !== undefined) {\n                    warnOnce('select', '`items` is deprecated, please use `options` instead.');\n                }\n                if (props.onChange !== undefined) {\n                    warnOnce('select', '`on-change` is deprecated, please use `on-update:value` instead.');\n                }\n            });\n        }\n        const { mergedClsPrefixRef, mergedBorderedRef, namespaceRef, inlineThemeDisabled } = useConfig(props);\n        const themeRef = useTheme('Select', '-select', style, selectLight, props, mergedClsPrefixRef);\n        const uncontrolledValueRef = ref(props.defaultValue);\n        const controlledValueRef = toRef(props, 'value');\n        const mergedValueRef = useMergedState(controlledValueRef, uncontrolledValueRef);\n        const focusedRef = ref(false);\n        const patternRef = ref('');\n        const treeMateRef = computed(() => {\n            const { valueField, childrenField } = props;\n            const options = createTmOptions(valueField, childrenField);\n            return createTreeMate(filteredOptionsRef.value, options);\n        });\n        const valOptMapRef = computed(() => createValOptMap(localOptionsRef.value, props.valueField, props.childrenField));\n        const uncontrolledShowRef = ref(false);\n        const mergedShowRef = useMergedState(toRef(props, 'show'), uncontrolledShowRef);\n        const triggerRef = ref(null);\n        const followerRef = ref(null);\n        const menuRef = ref(null);\n        const { localeRef } = useLocale('Select');\n        const localizedPlaceholderRef = computed(() => {\n            var _a;\n            return (_a = props.placeholder) !== null && _a !== void 0 ? _a : localeRef.value.placeholder;\n        });\n        const compitableOptionsRef = useCompitable(props, ['items', 'options']);\n        const emptyArray = [];\n        const createdOptionsRef = ref([]);\n        const beingCreatedOptionsRef = ref([]);\n        const memoValOptMapRef = ref(new Map());\n        const wrappedFallbackOptionRef = computed(() => {\n            const { fallbackOption } = props;\n            if (fallbackOption === undefined) {\n                const { labelField, valueField } = props;\n                return (value) => ({\n                    [labelField]: String(value),\n                    [valueField]: value\n                });\n            }\n            if (fallbackOption === false)\n                return false;\n            return (value) => {\n                return Object.assign(fallbackOption(value), {\n                    value\n                });\n            };\n        });\n        const localOptionsRef = computed(() => {\n            return beingCreatedOptionsRef.value.concat(createdOptionsRef.value).concat(compitableOptionsRef.value);\n        });\n        const resolvedFilterRef = computed(() => {\n            const { filter } = props;\n            if (filter)\n                return filter;\n            const { labelField, valueField } = props;\n            return (pattern, option) => {\n                if (!option)\n                    return false;\n                const label = option[labelField];\n                if (typeof label === 'string') {\n                    return patternMatched(pattern, label);\n                }\n                const value = option[valueField];\n                if (typeof value === 'string') {\n                    return patternMatched(pattern, value);\n                }\n                if (typeof value === 'number') {\n                    return patternMatched(pattern, String(value));\n                }\n                return false;\n            };\n        });\n        const filteredOptionsRef = computed(() => {\n            if (props.remote) {\n                return compitableOptionsRef.value;\n            }\n            else {\n                const { value: localOptions } = localOptionsRef;\n                const { value: pattern } = patternRef;\n                if (!pattern.length || !props.filterable) {\n                    return localOptions;\n                }\n                else {\n                    return filterOptions(localOptions, resolvedFilterRef.value, pattern, props.childrenField);\n                }\n            }\n        });\n        function getMergedOptions(values) {\n            const remote = props.remote;\n            const { value: memoValOptMap } = memoValOptMapRef;\n            const { value: valOptMap } = valOptMapRef;\n            const { value: wrappedFallbackOption } = wrappedFallbackOptionRef;\n            const options = [];\n            values.forEach((value) => {\n                if (valOptMap.has(value)) {\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    options.push(valOptMap.get(value));\n                }\n                else if (remote && memoValOptMap.has(value)) {\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    options.push(memoValOptMap.get(value));\n                }\n                else if (wrappedFallbackOption) {\n                    const option = wrappedFallbackOption(value);\n                    if (option) {\n                        options.push(option);\n                    }\n                }\n            });\n            return options;\n        }\n        const selectedOptionsRef = computed(() => {\n            if (props.multiple) {\n                const { value: values } = mergedValueRef;\n                if (!Array.isArray(values))\n                    return [];\n                return getMergedOptions(values);\n            }\n            return null;\n        });\n        const selectedOptionRef = computed(() => {\n            const { value: mergedValue } = mergedValueRef;\n            if (!props.multiple && !Array.isArray(mergedValue)) {\n                if (mergedValue === null)\n                    return null;\n                return getMergedOptions([mergedValue])[0] || null;\n            }\n            return null;\n        });\n        const formItem = useFormItem(props);\n        const { mergedSizeRef, mergedDisabledRef, mergedStatusRef } = formItem;\n        function doUpdateValue(value, option) {\n            const { onChange, 'onUpdate:value': _onUpdateValue, onUpdateValue } = props;\n            const { nTriggerFormChange, nTriggerFormInput } = formItem;\n            if (onChange)\n                call(onChange, value, option);\n            if (onUpdateValue)\n                call(onUpdateValue, value, option);\n            if (_onUpdateValue) {\n                call(_onUpdateValue, value, option);\n            }\n            uncontrolledValueRef.value = value;\n            nTriggerFormChange();\n            nTriggerFormInput();\n        }\n        function doBlur(e) {\n            const { onBlur } = props;\n            const { nTriggerFormBlur } = formItem;\n            if (onBlur)\n                call(onBlur, e);\n            nTriggerFormBlur();\n        }\n        function doClear() {\n            const { onClear } = props;\n            if (onClear)\n                call(onClear);\n        }\n        function doFocus(e) {\n            const { onFocus, showOnFocus } = props;\n            const { nTriggerFormFocus } = formItem;\n            if (onFocus)\n                call(onFocus, e);\n            nTriggerFormFocus();\n            if (showOnFocus) {\n                openMenu();\n            }\n        }\n        function doSearch(value) {\n            const { onSearch } = props;\n            if (onSearch)\n                call(onSearch, value);\n        }\n        function doScroll(e) {\n            const { onScroll } = props;\n            if (onScroll)\n                call(onScroll, e);\n        }\n        // remote related methods\n        function updateMemorizedOptions() {\n            var _a;\n            const { remote, multiple } = props;\n            if (remote) {\n                const { value: memoValOptMap } = memoValOptMapRef;\n                if (multiple) {\n                    const { valueField } = props;\n                    (_a = selectedOptionsRef.value) === null || _a === void 0 ? void 0 : _a.forEach((option) => {\n                        memoValOptMap.set(option[valueField], option);\n                    });\n                }\n                else {\n                    const option = selectedOptionRef.value;\n                    if (option) {\n                        memoValOptMap.set(option[props.valueField], option);\n                    }\n                }\n            }\n        }\n        // menu related methods\n        function doUpdateShow(value) {\n            const { onUpdateShow, 'onUpdate:show': _onUpdateShow } = props;\n            if (onUpdateShow)\n                call(onUpdateShow, value);\n            if (_onUpdateShow)\n                call(_onUpdateShow, value);\n            uncontrolledShowRef.value = value;\n        }\n        function openMenu() {\n            if (!mergedDisabledRef.value) {\n                doUpdateShow(true);\n                uncontrolledShowRef.value = true;\n                if (props.filterable) {\n                    focusSelectionInput();\n                }\n            }\n        }\n        function closeMenu() {\n            doUpdateShow(false);\n        }\n        function handleMenuAfterLeave() {\n            patternRef.value = '';\n            beingCreatedOptionsRef.value = emptyArray;\n        }\n        const activeWithoutMenuOpenRef = ref(false);\n        function onTriggerInputFocus() {\n            if (props.filterable) {\n                activeWithoutMenuOpenRef.value = true;\n            }\n        }\n        function onTriggerInputBlur() {\n            if (props.filterable) {\n                activeWithoutMenuOpenRef.value = false;\n                if (!mergedShowRef.value) {\n                    handleMenuAfterLeave();\n                }\n            }\n        }\n        function handleTriggerClick() {\n            if (mergedDisabledRef.value)\n                return;\n            if (!mergedShowRef.value) {\n                openMenu();\n            }\n            else {\n                if (!props.filterable) {\n                    // already focused, don't need to return focus\n                    closeMenu();\n                }\n                else {\n                    focusSelectionInput();\n                }\n            }\n        }\n        function handleTriggerBlur(e) {\n            var _a, _b;\n            if ((_b = (_a = menuRef.value) === null || _a === void 0 ? void 0 : _a.selfRef) === null || _b === void 0 ? void 0 : _b.contains(e.relatedTarget)) {\n                return;\n            }\n            focusedRef.value = false;\n            doBlur(e);\n            // outside select, don't need to return focus\n            closeMenu();\n        }\n        function handleTriggerFocus(e) {\n            doFocus(e);\n            focusedRef.value = true;\n        }\n        function handleMenuFocus(e) {\n            focusedRef.value = true;\n        }\n        function handleMenuBlur(e) {\n            var _a;\n            if ((_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.$el.contains(e.relatedTarget))\n                return;\n            focusedRef.value = false;\n            doBlur(e);\n            // outside select, don't need to return focus\n            closeMenu();\n        }\n        function handleMenuTabOut() {\n            var _a;\n            (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n            closeMenu();\n        }\n        function handleMenuClickOutside(e) {\n            var _a;\n            if (mergedShowRef.value) {\n                if (!((_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.$el.contains(getPreciseEventTarget(e)))) {\n                    // outside select, don't need to return focus\n                    closeMenu();\n                }\n            }\n        }\n        function createClearedMultipleSelectValue(value) {\n            if (!Array.isArray(value))\n                return [];\n            if (wrappedFallbackOptionRef.value) {\n                // if option has a fallback, I can't help user to clear some unknown value\n                return Array.from(value);\n            }\n            else {\n                // if there's no option fallback, unappeared options are treated as invalid\n                const { remote } = props;\n                const { value: valOptMap } = valOptMapRef;\n                if (remote) {\n                    const { value: memoValOptMap } = memoValOptMapRef;\n                    return value.filter((v) => valOptMap.has(v) || memoValOptMap.has(v));\n                }\n                else {\n                    return value.filter((v) => valOptMap.has(v));\n                }\n            }\n        }\n        function handleToggleByTmNode(tmNode) {\n            handleToggleByOption(tmNode.rawNode);\n        }\n        function handleToggleByOption(option) {\n            if (mergedDisabledRef.value)\n                return;\n            const { tag, remote, clearFilterAfterSelect, valueField } = props;\n            if (tag && !remote) {\n                const { value: beingCreatedOptions } = beingCreatedOptionsRef;\n                const beingCreatedOption = beingCreatedOptions[0] || null;\n                if (beingCreatedOption) {\n                    const createdOptions = createdOptionsRef.value;\n                    if (!createdOptions.length) {\n                        createdOptionsRef.value = [beingCreatedOption];\n                    }\n                    else {\n                        createdOptions.push(beingCreatedOption);\n                    }\n                    beingCreatedOptionsRef.value = emptyArray;\n                }\n            }\n            if (remote) {\n                memoValOptMapRef.value.set(option[valueField], option);\n            }\n            if (props.multiple) {\n                const changedValue = createClearedMultipleSelectValue(mergedValueRef.value);\n                const index = changedValue.findIndex((value) => value === option[valueField]);\n                if (~index) {\n                    changedValue.splice(index, 1);\n                    if (tag && !remote) {\n                        const createdOptionIndex = getCreatedOptionIndex(option[valueField]);\n                        if (~createdOptionIndex) {\n                            createdOptionsRef.value.splice(createdOptionIndex, 1);\n                            if (clearFilterAfterSelect)\n                                patternRef.value = '';\n                        }\n                    }\n                }\n                else {\n                    changedValue.push(option[valueField]);\n                    if (clearFilterAfterSelect)\n                        patternRef.value = '';\n                }\n                doUpdateValue(changedValue, getMergedOptions(changedValue));\n            }\n            else {\n                if (tag && !remote) {\n                    const createdOptionIndex = getCreatedOptionIndex(option[valueField]);\n                    if (~createdOptionIndex) {\n                        createdOptionsRef.value = [\n                            createdOptionsRef.value[createdOptionIndex]\n                        ];\n                    }\n                    else {\n                        createdOptionsRef.value = emptyArray;\n                    }\n                }\n                focusSelection();\n                closeMenu();\n                doUpdateValue(option[valueField], option);\n            }\n        }\n        function getCreatedOptionIndex(optionValue) {\n            const createdOptions = createdOptionsRef.value;\n            return createdOptions.findIndex((createdOption) => createdOption[props.valueField] === optionValue);\n        }\n        function handlePatternInput(e) {\n            if (!mergedShowRef.value) {\n                openMenu();\n            }\n            const { value } = e.target;\n            patternRef.value = value;\n            const { tag, remote } = props;\n            doSearch(value);\n            if (tag && !remote) {\n                if (!value) {\n                    beingCreatedOptionsRef.value = emptyArray;\n                    return;\n                }\n                const { onCreate } = props;\n                const optionBeingCreated = onCreate\n                    ? onCreate(value)\n                    : { [props.labelField]: value, [props.valueField]: value };\n                const { valueField } = props;\n                if (compitableOptionsRef.value.some((option) => option[valueField] === optionBeingCreated[valueField]) ||\n                    createdOptionsRef.value.some((option) => option[valueField] === optionBeingCreated[valueField])) {\n                    beingCreatedOptionsRef.value = emptyArray;\n                }\n                else {\n                    beingCreatedOptionsRef.value = [optionBeingCreated];\n                }\n            }\n        }\n        function handleClear(e) {\n            e.stopPropagation();\n            const { multiple } = props;\n            if (!multiple && props.filterable) {\n                closeMenu();\n            }\n            doClear();\n            if (multiple) {\n                doUpdateValue([], []);\n            }\n            else {\n                doUpdateValue(null, null);\n            }\n        }\n        function handleMenuMousedown(e) {\n            if (!happensIn(e, 'action') && !happensIn(e, 'empty'))\n                e.preventDefault();\n        }\n        // scroll events on menu\n        function handleMenuScroll(e) {\n            doScroll(e);\n        }\n        // keyboard events\n        // also for menu keydown\n        function handleKeydown(e) {\n            var _a, _b, _c, _d, _e;\n            if (!props.keyboard) {\n                e.preventDefault();\n                return;\n            }\n            switch (e.key) {\n                case ' ':\n                    if (props.filterable)\n                        break;\n                    else {\n                        e.preventDefault();\n                    }\n                // eslint-disable-next-line no-fallthrough\n                case 'Enter':\n                    if (!((_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.isComposing)) {\n                        if (mergedShowRef.value) {\n                            const pendingTmNode = (_b = menuRef.value) === null || _b === void 0 ? void 0 : _b.getPendingTmNode();\n                            if (pendingTmNode) {\n                                handleToggleByTmNode(pendingTmNode);\n                            }\n                            else if (!props.filterable) {\n                                closeMenu();\n                                focusSelection();\n                            }\n                        }\n                        else {\n                            openMenu();\n                            if (props.tag && activeWithoutMenuOpenRef.value) {\n                                const beingCreatedOption = beingCreatedOptionsRef.value[0];\n                                if (beingCreatedOption) {\n                                    const optionValue = beingCreatedOption[props.valueField];\n                                    const { value: mergedValue } = mergedValueRef;\n                                    if (props.multiple) {\n                                        if (Array.isArray(mergedValue) &&\n                                            mergedValue.some((value) => value === optionValue)) {\n                                            // do nothing\n                                        }\n                                        else {\n                                            handleToggleByOption(beingCreatedOption);\n                                        }\n                                    }\n                                    else {\n                                        handleToggleByOption(beingCreatedOption);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    e.preventDefault();\n                    break;\n                case 'ArrowUp':\n                    e.preventDefault();\n                    if (props.loading)\n                        return;\n                    if (mergedShowRef.value) {\n                        (_c = menuRef.value) === null || _c === void 0 ? void 0 : _c.prev();\n                    }\n                    break;\n                case 'ArrowDown':\n                    e.preventDefault();\n                    if (props.loading)\n                        return;\n                    if (mergedShowRef.value) {\n                        (_d = menuRef.value) === null || _d === void 0 ? void 0 : _d.next();\n                    }\n                    else {\n                        openMenu();\n                    }\n                    break;\n                case 'Escape':\n                    if (mergedShowRef.value) {\n                        markEventEffectPerformed(e);\n                        closeMenu();\n                    }\n                    (_e = triggerRef.value) === null || _e === void 0 ? void 0 : _e.focus();\n                    break;\n            }\n        }\n        function focusSelection() {\n            var _a;\n            (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n        }\n        function focusSelectionInput() {\n            var _a;\n            (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focusInput();\n        }\n        function handleTriggerOrMenuResize() {\n            var _a;\n            if (!mergedShowRef.value)\n                return;\n            (_a = followerRef.value) === null || _a === void 0 ? void 0 : _a.syncPosition();\n        }\n        updateMemorizedOptions();\n        watch(toRef(props, 'options'), updateMemorizedOptions);\n        const exposedMethods = {\n            focus: () => {\n                var _a;\n                (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n            },\n            blur: () => {\n                var _a;\n                (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.blur();\n            }\n        };\n        const cssVarsRef = computed(() => {\n            const { self: { menuBoxShadow } } = themeRef.value;\n            return {\n                '--n-menu-box-shadow': menuBoxShadow\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('select', undefined, cssVarsRef, props)\n            : undefined;\n        return Object.assign(Object.assign({}, exposedMethods), { mergedStatus: mergedStatusRef, mergedClsPrefix: mergedClsPrefixRef, mergedBordered: mergedBorderedRef, namespace: namespaceRef, treeMate: treeMateRef, isMounted: useIsMounted(), triggerRef,\n            menuRef, pattern: patternRef, uncontrolledShow: uncontrolledShowRef, mergedShow: mergedShowRef, adjustedTo: useAdjustedTo(props), uncontrolledValue: uncontrolledValueRef, mergedValue: mergedValueRef, followerRef, localizedPlaceholder: localizedPlaceholderRef, selectedOption: selectedOptionRef, selectedOptions: selectedOptionsRef, mergedSize: mergedSizeRef, mergedDisabled: mergedDisabledRef, focused: focusedRef, activeWithoutMenuOpen: activeWithoutMenuOpenRef, inlineThemeDisabled,\n            onTriggerInputFocus,\n            onTriggerInputBlur,\n            handleTriggerOrMenuResize,\n            handleMenuFocus,\n            handleMenuBlur,\n            handleMenuTabOut,\n            handleTriggerClick, handleToggle: handleToggleByTmNode, handleDeleteOption: handleToggleByOption, handlePatternInput,\n            handleClear,\n            handleTriggerBlur,\n            handleTriggerFocus,\n            handleKeydown,\n            handleMenuAfterLeave,\n            handleMenuClickOutside,\n            handleMenuScroll, handleMenuKeydown: handleKeydown, handleMenuMousedown, mergedTheme: themeRef, cssVars: inlineThemeDisabled ? undefined : cssVarsRef, themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass, onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender });\n    },\n    render() {\n        return (h(\"div\", { class: `${this.mergedClsPrefix}-select` },\n            h(VBinder, null, {\n                default: () => [\n                    h(VTarget, null, {\n                        default: () => (h(NInternalSelection, { ref: \"triggerRef\", inlineThemeDisabled: this.inlineThemeDisabled, status: this.mergedStatus, inputProps: this.inputProps, clsPrefix: this.mergedClsPrefix, showArrow: this.showArrow, maxTagCount: this.maxTagCount, bordered: this.mergedBordered, active: this.activeWithoutMenuOpen || this.mergedShow, pattern: this.pattern, placeholder: this.localizedPlaceholder, selectedOption: this.selectedOption, selectedOptions: this.selectedOptions, multiple: this.multiple, renderTag: this.renderTag, renderLabel: this.renderLabel, filterable: this.filterable, clearable: this.clearable, disabled: this.mergedDisabled, size: this.mergedSize, theme: this.mergedTheme.peers.InternalSelection, labelField: this.labelField, valueField: this.valueField, themeOverrides: this.mergedTheme.peerOverrides.InternalSelection, loading: this.loading, focused: this.focused, onClick: this.handleTriggerClick, onDeleteOption: this.handleDeleteOption, onPatternInput: this.handlePatternInput, onClear: this.handleClear, onBlur: this.handleTriggerBlur, onFocus: this.handleTriggerFocus, onKeydown: this.handleKeydown, onPatternBlur: this.onTriggerInputBlur, onPatternFocus: this.onTriggerInputFocus, onResize: this.handleTriggerOrMenuResize, ignoreComposition: this.ignoreComposition }, {\n                            arrow: () => { var _a, _b; return [(_b = (_a = this.$slots).arrow) === null || _b === void 0 ? void 0 : _b.call(_a)]; }\n                        }))\n                    }),\n                    h(VFollower, { ref: \"followerRef\", show: this.mergedShow, to: this.adjustedTo, teleportDisabled: this.adjustedTo === useAdjustedTo.tdkey, containerClass: this.namespace, width: this.consistentMenuWidth ? 'target' : undefined, minWidth: \"target\", placement: this.placement }, {\n                        default: () => (h(Transition, { name: \"fade-in-scale-up-transition\", appear: this.isMounted, onAfterLeave: this.handleMenuAfterLeave }, {\n                            default: () => {\n                                var _a, _b, _c;\n                                if (!(this.mergedShow ||\n                                    this.displayDirective === 'show')) {\n                                    return null;\n                                }\n                                (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n                                return withDirectives(h(NInternalSelectMenu, Object.assign({}, this.menuProps, { ref: \"menuRef\", onResize: this.handleTriggerOrMenuResize, inlineThemeDisabled: this.inlineThemeDisabled, virtualScroll: this.consistentMenuWidth && this.virtualScroll, class: [\n                                        `${this.mergedClsPrefix}-select-menu`,\n                                        this.themeClass,\n                                        (_b = this.menuProps) === null || _b === void 0 ? void 0 : _b.class\n                                    ], clsPrefix: this.mergedClsPrefix, focusable: true, labelField: this.labelField, valueField: this.valueField, autoPending: true, nodeProps: this.nodeProps, theme: this.mergedTheme.peers.InternalSelectMenu, themeOverrides: this.mergedTheme.peerOverrides\n                                        .InternalSelectMenu, treeMate: this.treeMate, multiple: this.multiple, size: \"medium\", renderOption: this.renderOption, renderLabel: this.renderLabel, value: this.mergedValue, style: [(_c = this.menuProps) === null || _c === void 0 ? void 0 : _c.style, this.cssVars], onToggle: this.handleToggle, onScroll: this.handleMenuScroll, onFocus: this.handleMenuFocus, onBlur: this.handleMenuBlur, onKeydown: this.handleMenuKeydown, onTabOut: this.handleMenuTabOut, onMousedown: this.handleMenuMousedown, show: this.mergedShow, showCheckmark: this.showCheckmark, resetMenuOnOptionsChange: this.resetMenuOnOptionsChange }), {\n                                    empty: () => { var _a, _b; return [(_b = (_a = this.$slots).empty) === null || _b === void 0 ? void 0 : _b.call(_a)]; },\n                                    action: () => { var _a, _b; return [(_b = (_a = this.$slots).action) === null || _b === void 0 ? void 0 : _b.call(_a)]; }\n                                }), this.displayDirective === 'show'\n                                    ? [\n                                        [vShow, this.mergedShow],\n                                        [\n                                            clickoutside,\n                                            this.handleMenuClickOutside,\n                                            undefined,\n                                            { capture: true }\n                                        ]\n                                    ]\n                                    : [\n                                        [\n                                            clickoutside,\n                                            this.handleMenuClickOutside,\n                                            undefined,\n                                            { capture: true }\n                                        ]\n                                    ]);\n                            }\n                        }))\n                    })\n                ]\n            })));\n    }\n});\n","import { changeColor } from 'seemly';\nimport commonVariables from './_common';\nimport { commonLight } from '../../_styles/common';\nconst self = (vars) => {\n    const { borderColor, primaryColor, baseColor, textColorDisabled, inputColorDisabled, textColor2, opacityDisabled, borderRadius, fontSizeSmall, fontSizeMedium, fontSizeLarge, heightSmall, heightMedium, heightLarge, lineHeight } = vars;\n    return Object.assign(Object.assign({}, commonVariables), { labelLineHeight: lineHeight, buttonHeightSmall: heightSmall, buttonHeightMedium: heightMedium, buttonHeightLarge: heightLarge, fontSizeSmall,\n        fontSizeMedium,\n        fontSizeLarge, boxShadow: `inset 0 0 0 1px ${borderColor}`, boxShadowActive: `inset 0 0 0 1px ${primaryColor}`, boxShadowFocus: `inset 0 0 0 1px ${primaryColor}, 0 0 0 2px ${changeColor(primaryColor, { alpha: 0.2 })}`, boxShadowHover: `inset 0 0 0 1px ${primaryColor}`, boxShadowDisabled: `inset 0 0 0 1px ${borderColor}`, color: baseColor, colorDisabled: inputColorDisabled, colorActive: '#0000', textColor: textColor2, textColorDisabled, dotColorActive: primaryColor, dotColorDisabled: borderColor, buttonBorderColor: borderColor, buttonBorderColorActive: primaryColor, buttonBorderColorHover: borderColor, buttonColor: baseColor, buttonColorActive: baseColor, buttonTextColor: textColor2, buttonTextColorActive: primaryColor, buttonTextColorHover: primaryColor, opacityDisabled, buttonBoxShadowFocus: `inset 0 0 0 1px ${primaryColor}, 0 0 0 2px ${changeColor(primaryColor, { alpha: 0.3 })}`, buttonBoxShadowHover: 'inset 0 0 0 1px #0000', buttonBoxShadow: 'inset 0 0 0 1px #0000', buttonBorderRadius: borderRadius });\n};\nconst radioLight = {\n    name: 'Radio',\n    common: commonLight,\n    self\n};\nexport default radioLight;\n","import { inject, ref, toRef, watchEffect } from 'vue';\nimport { useMemo, useMergedState } from 'vooks';\nimport { useConfig, useFormItem } from '../../_mixins';\nimport { call, createInjectionKey, warnOnce } from '../../_utils';\nexport const radioProps = {\n    name: String,\n    value: {\n        type: [String, Number, Boolean],\n        default: 'on'\n    },\n    checked: {\n        type: Boolean,\n        default: undefined\n    },\n    defaultChecked: Boolean,\n    disabled: {\n        type: Boolean,\n        default: undefined\n    },\n    label: String,\n    size: String,\n    onUpdateChecked: [Function, Array],\n    'onUpdate:checked': [Function, Array],\n    // deprecated\n    checkedValue: {\n        type: Boolean,\n        default: undefined\n    }\n};\nexport const radioGroupInjectionKey = createInjectionKey('n-radio-group');\nfunction setup(props) {\n    if (process.env.NODE_ENV !== 'production') {\n        watchEffect(() => {\n            if (props.checkedValue !== undefined) {\n                warnOnce('radio', '`checked-value` is deprecated, please use `checked` instead.');\n            }\n        });\n    }\n    const formItem = useFormItem(props, {\n        mergedSize(NFormItem) {\n            const { size } = props;\n            if (size !== undefined)\n                return size;\n            if (NRadioGroup) {\n                const { mergedSizeRef: { value: mergedSize } } = NRadioGroup;\n                if (mergedSize !== undefined) {\n                    return mergedSize;\n                }\n            }\n            if (NFormItem) {\n                return NFormItem.mergedSize.value;\n            }\n            return 'medium';\n        },\n        mergedDisabled(NFormItem) {\n            if (props.disabled)\n                return true;\n            if (NRadioGroup === null || NRadioGroup === void 0 ? void 0 : NRadioGroup.disabledRef.value)\n                return true;\n            if (NFormItem === null || NFormItem === void 0 ? void 0 : NFormItem.disabled.value)\n                return true;\n            return false;\n        }\n    });\n    const { mergedSizeRef, mergedDisabledRef } = formItem;\n    const inputRef = ref(null);\n    const labelRef = ref(null);\n    const NRadioGroup = inject(radioGroupInjectionKey, null);\n    const uncontrolledCheckedRef = ref(props.defaultChecked);\n    const controlledCheckedRef = toRef(props, 'checked');\n    const mergedCheckedRef = useMergedState(controlledCheckedRef, uncontrolledCheckedRef);\n    const renderSafeCheckedRef = useMemo(() => {\n        if (NRadioGroup)\n            return NRadioGroup.valueRef.value === props.value;\n        return mergedCheckedRef.value;\n    });\n    const mergedNameRef = useMemo(() => {\n        const { name } = props;\n        if (name !== undefined)\n            return name;\n        if (NRadioGroup)\n            return NRadioGroup.nameRef.value;\n    });\n    const focusRef = ref(false);\n    function doUpdateChecked() {\n        if (NRadioGroup) {\n            const { doUpdateValue } = NRadioGroup;\n            const { value } = props;\n            call(doUpdateValue, value);\n        }\n        else {\n            const { onUpdateChecked, 'onUpdate:checked': _onUpdateChecked } = props;\n            const { nTriggerFormInput, nTriggerFormChange } = formItem;\n            if (onUpdateChecked)\n                call(onUpdateChecked, true);\n            if (_onUpdateChecked)\n                call(_onUpdateChecked, true);\n            nTriggerFormInput();\n            nTriggerFormChange();\n            uncontrolledCheckedRef.value = true;\n        }\n    }\n    function toggle() {\n        if (mergedDisabledRef.value)\n            return;\n        if (!renderSafeCheckedRef.value) {\n            doUpdateChecked();\n        }\n    }\n    function handleRadioInputChange() {\n        toggle();\n    }\n    function handleRadioInputBlur() {\n        focusRef.value = false;\n    }\n    function handleRadioInputFocus() {\n        focusRef.value = true;\n    }\n    return {\n        mergedClsPrefix: NRadioGroup\n            ? NRadioGroup.mergedClsPrefixRef\n            : useConfig(props).mergedClsPrefixRef,\n        inputRef,\n        labelRef,\n        mergedName: mergedNameRef,\n        mergedDisabled: mergedDisabledRef,\n        uncontrolledChecked: uncontrolledCheckedRef,\n        renderSafeChecked: renderSafeCheckedRef,\n        focus: focusRef,\n        mergedSize: mergedSizeRef,\n        handleRadioInputChange,\n        handleRadioInputBlur,\n        handleRadioInputFocus\n    };\n}\nexport { setup };\n","import { c, cE, cM, cNotM, cB } from '../../../_utils/cssr';\n// vars:\n// --n-bezier\n// --n-box-shadow\n// --n-box-shadow-active\n// --n-box-shadow-disabled\n// --n-box-shadow-focus\n// --n-box-shadow-hover\n// --n-color\n// --n-color-disabled\n// --n-dot-color-active\n// --n-dot-color-disabled\n// --n-font-size\n// --n-radio-size\n// --n-text-color\n// --n-text-color-disabled\n// --n-label-padding\n// --n-label-line-height\n// --n-color-active\nexport default cB('radio', `\n line-height: var(--n-label-line-height);\n outline: none;\n position: relative;\n user-select: none;\n -webkit-user-select: none;\n display: inline-flex;\n align-items: flex-start;\n flex-wrap: nowrap;\n font-size: var(--n-font-size);\n word-break: break-word;\n`, [cM('checked', [cE('dot', `\n background-color: var(--n-color-active);\n `)]), cE('dot-wrapper', `\n position: relative;\n flex-shrink: 0;\n flex-grow: 0;\n width: var(--n-radio-size);\n `), cB('radio-input', `\n position: absolute;\n border: 0;\n border-radius: inherit;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n opacity: 0;\n z-index: 1;\n cursor: pointer;\n `), cE('dot', `\n position: absolute;\n top: 50%;\n left: 0;\n transform: translateY(-50%);\n height: var(--n-radio-size);\n width: var(--n-radio-size);\n background: var(--n-color);\n box-shadow: var(--n-box-shadow);\n border-radius: 50%;\n transition:\n background-color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n `, [c('&::before', `\n content: \"\";\n opacity: 0;\n position: absolute;\n left: 4px;\n top: 4px;\n height: calc(100% - 8px);\n width: calc(100% - 8px);\n border-radius: 50%;\n transform: scale(.8);\n background: var(--n-dot-color-active);\n transition: \n opacity .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n transform .3s var(--n-bezier);\n `), cM('checked', {\n  boxShadow: 'var(--n-box-shadow-active)'\n}, [c('&::before', `\n opacity: 1;\n transform: scale(1);\n `)])]), cE('label', `\n color: var(--n-text-color);\n padding: var(--n-label-padding);\n font-weight: var(--n-label-font-weight);\n display: inline-block;\n transition: color .3s var(--n-bezier);\n `), cNotM('disabled', `\n cursor: pointer;\n `, [c('&:hover', [cE('dot', {\n  boxShadow: 'var(--n-box-shadow-hover)'\n})]), cM('focus', [c('&:not(:active)', [cE('dot', {\n  boxShadow: 'var(--n-box-shadow-focus)'\n})])])]), cM('disabled', `\n cursor: not-allowed;\n `, [cE('dot', {\n  boxShadow: 'var(--n-box-shadow-disabled)',\n  backgroundColor: 'var(--n-color-disabled)'\n}, [c('&::before', {\n  backgroundColor: 'var(--n-dot-color-disabled)'\n}), cM('checked', `\n opacity: 1;\n `)]), cE('label', {\n  color: 'var(--n-text-color-disabled)'\n}), cB('radio-input', `\n cursor: not-allowed;\n `)])]);","import { h, defineComponent, computed } from 'vue';\nimport { useRtl } from '../../_mixins/use-rtl';\nimport { useConfig, useTheme, useThemeClass } from '../../_mixins';\nimport { createKey, resolveWrappedSlot } from '../../_utils';\nimport { radioLight } from '../styles';\nimport { setup, radioProps } from './use-radio';\nimport style from './styles/radio.cssr';\nexport { radioProps };\nexport default defineComponent({\n    name: 'Radio',\n    props: Object.assign(Object.assign({}, useTheme.props), radioProps),\n    setup(props) {\n        const radio = setup(props);\n        const themeRef = useTheme('Radio', '-radio', style, radioLight, props, radio.mergedClsPrefix);\n        const cssVarsRef = computed(() => {\n            const { mergedSize: { value: size } } = radio;\n            const { common: { cubicBezierEaseInOut }, self: { boxShadow, boxShadowActive, boxShadowDisabled, boxShadowFocus, boxShadowHover, color, colorDisabled, colorActive, textColor, textColorDisabled, dotColorActive, dotColorDisabled, labelPadding, labelLineHeight, labelFontWeight, [createKey('fontSize', size)]: fontSize, [createKey('radioSize', size)]: radioSize } } = themeRef.value;\n            return {\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-label-line-height': labelLineHeight,\n                '--n-label-font-weight': labelFontWeight,\n                '--n-box-shadow': boxShadow,\n                '--n-box-shadow-active': boxShadowActive,\n                '--n-box-shadow-disabled': boxShadowDisabled,\n                '--n-box-shadow-focus': boxShadowFocus,\n                '--n-box-shadow-hover': boxShadowHover,\n                '--n-color': color,\n                '--n-color-active': colorActive,\n                '--n-color-disabled': colorDisabled,\n                '--n-dot-color-active': dotColorActive,\n                '--n-dot-color-disabled': dotColorDisabled,\n                '--n-font-size': fontSize,\n                '--n-radio-size': radioSize,\n                '--n-text-color': textColor,\n                '--n-text-color-disabled': textColorDisabled,\n                '--n-label-padding': labelPadding\n            };\n        });\n        const { inlineThemeDisabled, mergedClsPrefixRef, mergedRtlRef } = useConfig(props);\n        const rtlEnabledRef = useRtl('Radio', mergedRtlRef, mergedClsPrefixRef);\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('radio', computed(() => radio.mergedSize.value[0]), cssVarsRef, props)\n            : undefined;\n        return Object.assign(radio, {\n            rtlEnabled: rtlEnabledRef,\n            cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n            themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n            onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n        });\n    },\n    render() {\n        const { $slots, mergedClsPrefix, onRender, label } = this;\n        onRender === null || onRender === void 0 ? void 0 : onRender();\n        return (h(\"label\", { class: [\n                `${mergedClsPrefix}-radio`,\n                this.themeClass,\n                {\n                    [`${mergedClsPrefix}-radio--rtl`]: this.rtlEnabled,\n                    [`${mergedClsPrefix}-radio--disabled`]: this.mergedDisabled,\n                    [`${mergedClsPrefix}-radio--checked`]: this.renderSafeChecked,\n                    [`${mergedClsPrefix}-radio--focus`]: this.focus\n                }\n            ], style: this.cssVars },\n            h(\"input\", { ref: \"inputRef\", type: \"radio\", class: `${mergedClsPrefix}-radio-input`, value: this.value, name: this.mergedName, checked: this.renderSafeChecked, disabled: this.mergedDisabled, onChange: this.handleRadioInputChange, onFocus: this.handleRadioInputFocus, onBlur: this.handleRadioInputBlur }),\n            h(\"div\", { class: `${mergedClsPrefix}-radio__dot-wrapper` },\n                \"\\u00A0\",\n                h(\"div\", { class: [\n                        `${mergedClsPrefix}-radio__dot`,\n                        this.renderSafeChecked && `${mergedClsPrefix}-radio__dot--checked`\n                    ] })),\n            resolveWrappedSlot($slots.default, (children) => {\n                if (!children && !label)\n                    return null;\n                return (h(\"div\", { ref: \"labelRef\", class: `${mergedClsPrefix}-radio__label` }, children || label));\n            })));\n    }\n});\n","import { cB, cE, cM, c, cNotM } from '../../../_utils/cssr';\n// vars:\n// --n-bezier\n// --n-button-border-color\n// --n-button-border-color-active\n// --n-height\n// --n-opacity-disabled\n// --n-font-size\nexport default cB('radio-group', `\n display: inline-block;\n font-size: var(--n-font-size);\n`, [cE('splitor', `\n display: inline-block;\n vertical-align: bottom;\n width: 1px;\n transition:\n background-color .3s var(--n-bezier),\n opacity .3s var(--n-bezier);\n background: var(--n-button-border-color);\n `, [cM('checked', {\n  backgroundColor: 'var(--n-button-border-color-active)'\n}), cM('disabled', {\n  opacity: 'var(--n-opacity-disabled)'\n})]), cM('button-group', `\n white-space: nowrap;\n height: var(--n-height);\n line-height: var(--n-height);\n `, [cB('radio-button', {\n  height: 'var(--n-height)',\n  lineHeight: 'var(--n-height)'\n}), cE('splitor', {\n  height: 'var(--n-height)'\n})]), cB('radio-button', `\n vertical-align: bottom;\n outline: none;\n position: relative;\n user-select: none;\n -webkit-user-select: none;\n display: inline-block;\n box-sizing: border-box;\n padding-left: 14px;\n padding-right: 14px;\n white-space: nowrap;\n transition:\n background-color .3s var(--n-bezier),\n opacity .3s var(--n-bezier),\n border-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n color: var(--n-button-text-color);\n border-top: 1px solid var(--n-button-border-color);\n border-bottom: 1px solid var(--n-button-border-color);\n `, [cB('radio-input', `\n pointer-events: none;\n position: absolute;\n border: 0;\n border-radius: inherit;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n opacity: 0;\n z-index: 1;\n `), cE('state-border', `\n z-index: 1;\n pointer-events: none;\n position: absolute;\n box-shadow: var(--n-button-box-shadow);\n transition: box-shadow .3s var(--n-bezier);\n left: -1px;\n bottom: -1px;\n right: -1px;\n top: -1px;\n `), c('&:first-child', `\n border-top-left-radius: var(--n-button-border-radius);\n border-bottom-left-radius: var(--n-button-border-radius);\n border-left: 1px solid var(--n-button-border-color);\n `, [cE('state-border', `\n border-top-left-radius: var(--n-button-border-radius);\n border-bottom-left-radius: var(--n-button-border-radius);\n `)]), c('&:last-child', `\n border-top-right-radius: var(--n-button-border-radius);\n border-bottom-right-radius: var(--n-button-border-radius);\n border-right: 1px solid var(--n-button-border-color);\n `, [cE('state-border', `\n border-top-right-radius: var(--n-button-border-radius);\n border-bottom-right-radius: var(--n-button-border-radius);\n `)]), cNotM('disabled', `\n cursor: pointer;\n `, [c('&:hover', [cE('state-border', `\n transition: box-shadow .3s var(--n-bezier);\n box-shadow: var(--n-button-box-shadow-hover);\n `), cNotM('checked', {\n  color: 'var(--n-button-text-color-hover)'\n})]), cM('focus', [c('&:not(:active)', [cE('state-border', {\n  boxShadow: 'var(--n-button-box-shadow-focus)'\n})])])]), cM('checked', `\n background: var(--n-button-color-active);\n color: var(--n-button-text-color-active);\n border-color: var(--n-button-border-color-active);\n `), cM('disabled', `\n cursor: not-allowed;\n opacity: var(--n-opacity-disabled);\n `)])]);","import { h, defineComponent, computed, provide, ref, toRef } from 'vue';\nimport { useMergedState } from 'vooks';\nimport { useTheme, useFormItem, useConfig, useThemeClass } from '../../_mixins';\nimport { getSlot, warn, createKey, call, flatten } from '../../_utils';\nimport { radioLight } from '../styles';\nimport { radioGroupInjectionKey } from './use-radio';\nimport style from './styles/radio-group.cssr';\nimport { useRtl } from '../../_mixins/use-rtl';\nfunction mapSlot(defaultSlot, value, clsPrefix) {\n    var _a;\n    const children = [];\n    let isButtonGroup = false;\n    for (let i = 0; i < defaultSlot.length; ++i) {\n        const wrappedInstance = defaultSlot[i];\n        const name = (_a = wrappedInstance.type) === null || _a === void 0 ? void 0 : _a.name;\n        if (name === 'RadioButton') {\n            isButtonGroup = true;\n        }\n        if (process.env.NODE_ENV !== 'production' && isButtonGroup && name !== 'RadioButton') {\n            warn('radio-group', '`n-radio-group` in button mode only takes `n-radio-button` as children.');\n            continue;\n        }\n        const instanceProps = wrappedInstance.props;\n        if (name !== 'RadioButton') {\n            children.push(wrappedInstance);\n            continue;\n        }\n        if (i === 0) {\n            children.push(wrappedInstance);\n        }\n        else {\n            const lastInstanceProps = children[children.length - 1]\n                .props;\n            const lastInstanceChecked = value === lastInstanceProps.value;\n            const lastInstanceDisabled = lastInstanceProps.disabled;\n            const currentInstanceChecked = value === instanceProps.value;\n            const currentInstanceDisabled = instanceProps.disabled;\n            /**\n             * Priority of button splitor:\n             * !disabled  checked >\n             *  disabled  checked >\n             * !disabled !checked >\n             *  disabled !checked\n             */\n            const lastInstancePriority = (lastInstanceChecked ? 2 : 0) + (!lastInstanceDisabled ? 1 : 0);\n            const currentInstancePriority = (currentInstanceChecked ? 2 : 0) + (!currentInstanceDisabled ? 1 : 0);\n            const lastInstanceClass = {\n                [`${clsPrefix}-radio-group__splitor--disabled`]: lastInstanceDisabled,\n                [`${clsPrefix}-radio-group__splitor--checked`]: lastInstanceChecked\n            };\n            const currentInstanceClass = {\n                [`${clsPrefix}-radio-group__splitor--disabled`]: currentInstanceDisabled,\n                [`${clsPrefix}-radio-group__splitor--checked`]: currentInstanceChecked\n            };\n            const splitorClass = lastInstancePriority < currentInstancePriority\n                ? currentInstanceClass\n                : lastInstanceClass;\n            children.push(h(\"div\", { class: [`${clsPrefix}-radio-group__splitor`, splitorClass] }), wrappedInstance);\n        }\n    }\n    return {\n        children,\n        isButtonGroup\n    };\n}\nexport const radioGroupProps = Object.assign(Object.assign({}, useTheme.props), { name: String, value: [String, Number, Boolean], defaultValue: {\n        type: [String, Number, Boolean],\n        default: null\n    }, size: String, disabled: {\n        type: Boolean,\n        default: undefined\n    }, 'onUpdate:value': [Function, Array], onUpdateValue: [Function, Array] });\nexport default defineComponent({\n    name: 'RadioGroup',\n    props: radioGroupProps,\n    setup(props) {\n        const selfElRef = ref(null);\n        const { mergedSizeRef, mergedDisabledRef, nTriggerFormChange, nTriggerFormInput, nTriggerFormBlur, nTriggerFormFocus } = useFormItem(props);\n        const { mergedClsPrefixRef, inlineThemeDisabled, mergedRtlRef } = useConfig(props);\n        const themeRef = useTheme('Radio', '-radio-group', style, radioLight, props, mergedClsPrefixRef);\n        const uncontrolledValueRef = ref(props.defaultValue);\n        const controlledValueRef = toRef(props, 'value');\n        const mergedValueRef = useMergedState(controlledValueRef, uncontrolledValueRef);\n        function doUpdateValue(value) {\n            const { onUpdateValue, 'onUpdate:value': _onUpdateValue } = props;\n            if (onUpdateValue) {\n                call(onUpdateValue, value);\n            }\n            if (_onUpdateValue) {\n                call(_onUpdateValue, value);\n            }\n            uncontrolledValueRef.value = value;\n            nTriggerFormChange();\n            nTriggerFormInput();\n        }\n        function handleFocusin(e) {\n            const { value: selfEl } = selfElRef;\n            if (!selfEl)\n                return;\n            if (selfEl.contains(e.relatedTarget))\n                return;\n            nTriggerFormFocus();\n        }\n        function handleFocusout(e) {\n            const { value: selfEl } = selfElRef;\n            if (!selfEl)\n                return;\n            if (selfEl.contains(e.relatedTarget))\n                return;\n            nTriggerFormBlur();\n        }\n        provide(radioGroupInjectionKey, {\n            mergedClsPrefixRef,\n            nameRef: toRef(props, 'name'),\n            valueRef: mergedValueRef,\n            disabledRef: mergedDisabledRef,\n            mergedSizeRef,\n            doUpdateValue\n        });\n        const rtlEnabledRef = useRtl('Radio', mergedRtlRef, mergedClsPrefixRef);\n        const cssVarsRef = computed(() => {\n            const { value: size } = mergedSizeRef;\n            const { common: { cubicBezierEaseInOut }, self: { buttonBorderColor, buttonBorderColorActive, buttonBorderRadius, buttonBoxShadow, buttonBoxShadowFocus, buttonBoxShadowHover, buttonColorActive, buttonTextColor, buttonTextColorActive, buttonTextColorHover, opacityDisabled, [createKey('buttonHeight', size)]: height, [createKey('fontSize', size)]: fontSize } } = themeRef.value;\n            return {\n                '--n-font-size': fontSize,\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-button-border-color': buttonBorderColor,\n                '--n-button-border-color-active': buttonBorderColorActive,\n                '--n-button-border-radius': buttonBorderRadius,\n                '--n-button-box-shadow': buttonBoxShadow,\n                '--n-button-box-shadow-focus': buttonBoxShadowFocus,\n                '--n-button-box-shadow-hover': buttonBoxShadowHover,\n                '--n-button-color-active': buttonColorActive,\n                '--n-button-text-color': buttonTextColor,\n                '--n-button-text-color-hover': buttonTextColorHover,\n                '--n-button-text-color-active': buttonTextColorActive,\n                '--n-height': height,\n                '--n-opacity-disabled': opacityDisabled\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('radio-group', computed(() => mergedSizeRef.value[0]), cssVarsRef, props)\n            : undefined;\n        return {\n            selfElRef,\n            rtlEnabled: rtlEnabledRef,\n            mergedClsPrefix: mergedClsPrefixRef,\n            mergedValue: mergedValueRef,\n            handleFocusout,\n            handleFocusin,\n            cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n            themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n            onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n        };\n    },\n    render() {\n        var _a;\n        const { mergedValue, mergedClsPrefix, handleFocusin, handleFocusout } = this;\n        const { children, isButtonGroup } = mapSlot(flatten(getSlot(this)), mergedValue, mergedClsPrefix);\n        (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n        return (h(\"div\", { onFocusin: handleFocusin, onFocusout: handleFocusout, ref: \"selfElRef\", class: [\n                `${mergedClsPrefix}-radio-group`,\n                this.rtlEnabled && `${mergedClsPrefix}-radio-group--rtl`,\n                this.themeClass,\n                isButtonGroup && `${mergedClsPrefix}-radio-group--button-group`\n            ], style: this.cssVars }, children));\n    }\n});\n","import commonVars from './_common';\nconst self = () => {\n    return commonVars;\n};\nconst spaceLight = {\n    name: 'Space',\n    self\n};\nexport default spaceLight;\n","import { isBrowser } from '../../_utils';\nlet supportFlexGap;\nexport const ensureSupportFlexGap = () => {\n    if (!isBrowser)\n        return true;\n    if (supportFlexGap === undefined) {\n        // create flex container with row-gap set\n        const flex = document.createElement('div');\n        flex.style.display = 'flex';\n        flex.style.flexDirection = 'column';\n        flex.style.rowGap = '1px';\n        // create two, elements inside it\n        flex.appendChild(document.createElement('div'));\n        flex.appendChild(document.createElement('div'));\n        // append to the DOM (needed to obtain scrollHeight)\n        document.body.appendChild(flex);\n        const isSupported = flex.scrollHeight === 1; // flex container should be 1px high from the row-gap\n        document.body.removeChild(flex);\n        return (supportFlexGap = isSupported);\n    }\n    return supportFlexGap;\n};\n","import { h, defineComponent, computed } from 'vue';\nimport { depx, getGap } from 'seemly';\nimport { createKey, flatten, getSlot } from '../../_utils';\nimport { useConfig, useTheme } from '../../_mixins';\nimport { spaceLight } from '../styles';\nimport { useRtl } from '../../_mixins/use-rtl';\nimport { ensureSupportFlexGap } from './utils';\nexport const spaceProps = Object.assign(Object.assign({}, useTheme.props), { align: String, justify: {\n        type: String,\n        default: 'start'\n    }, inline: Boolean, vertical: Boolean, size: {\n        type: [String, Number, Array],\n        default: 'medium'\n    }, wrapItem: {\n        type: Boolean,\n        default: true\n    }, itemStyle: [String, Object], wrap: {\n        type: Boolean,\n        default: true\n    }, \n    // internal\n    internalUseGap: {\n        type: Boolean,\n        default: undefined\n    } });\nexport default defineComponent({\n    name: 'Space',\n    props: spaceProps,\n    setup(props) {\n        const { mergedClsPrefixRef, mergedRtlRef } = useConfig(props);\n        const themeRef = useTheme('Space', '-space', undefined, spaceLight, props, mergedClsPrefixRef);\n        const rtlEnabledRef = useRtl('Space', mergedRtlRef, mergedClsPrefixRef);\n        return {\n            useGap: ensureSupportFlexGap(),\n            rtlEnabled: rtlEnabledRef,\n            mergedClsPrefix: mergedClsPrefixRef,\n            margin: computed(() => {\n                const { size } = props;\n                if (Array.isArray(size)) {\n                    return {\n                        horizontal: size[0],\n                        vertical: size[1]\n                    };\n                }\n                if (typeof size === 'number') {\n                    return {\n                        horizontal: size,\n                        vertical: size\n                    };\n                }\n                const { self: { [createKey('gap', size)]: gap } } = themeRef.value;\n                const { row, col } = getGap(gap);\n                return {\n                    horizontal: depx(col),\n                    vertical: depx(row)\n                };\n            })\n        };\n    },\n    render() {\n        const { vertical, align, inline, justify, itemStyle, margin, wrap, mergedClsPrefix, rtlEnabled, useGap, wrapItem, internalUseGap } = this;\n        const children = flatten(getSlot(this));\n        if (!children.length)\n            return null;\n        const horizontalMargin = `${margin.horizontal}px`;\n        const semiHorizontalMargin = `${margin.horizontal / 2}px`;\n        const verticalMargin = `${margin.vertical}px`;\n        const semiVerticalMargin = `${margin.vertical / 2}px`;\n        const lastIndex = children.length - 1;\n        const isJustifySpace = justify.startsWith('space-');\n        return (h(\"div\", { role: \"none\", class: [\n                `${mergedClsPrefix}-space`,\n                rtlEnabled && `${mergedClsPrefix}-space--rtl`\n            ], style: {\n                display: inline ? 'inline-flex' : 'flex',\n                flexDirection: vertical ? 'column' : 'row',\n                justifyContent: ['start', 'end'].includes(justify)\n                    ? 'flex-' + justify\n                    : justify,\n                flexWrap: !wrap || vertical ? 'nowrap' : 'wrap',\n                marginTop: useGap || vertical ? '' : `-${semiVerticalMargin}`,\n                marginBottom: useGap || vertical ? '' : `-${semiVerticalMargin}`,\n                alignItems: align,\n                gap: useGap ? `${margin.vertical}px ${margin.horizontal}px` : ''\n            } }, !wrapItem && (useGap || internalUseGap)\n            ? children\n            : children.map((child, index) => (h(\"div\", { role: \"none\", style: [\n                    itemStyle,\n                    {\n                        maxWidth: '100%'\n                    },\n                    useGap\n                        ? ''\n                        : vertical\n                            ? {\n                                marginBottom: index !== lastIndex ? verticalMargin : ''\n                            }\n                            : rtlEnabled\n                                ? {\n                                    marginLeft: isJustifySpace\n                                        ? justify === 'space-between' && index === lastIndex\n                                            ? ''\n                                            : semiHorizontalMargin\n                                        : index !== lastIndex\n                                            ? horizontalMargin\n                                            : '',\n                                    marginRight: isJustifySpace\n                                        ? justify === 'space-between' && index === 0\n                                            ? ''\n                                            : semiHorizontalMargin\n                                        : '',\n                                    paddingTop: semiVerticalMargin,\n                                    paddingBottom: semiVerticalMargin\n                                }\n                                : {\n                                    marginRight: isJustifySpace\n                                        ? justify === 'space-between' && index === lastIndex\n                                            ? ''\n                                            : semiHorizontalMargin\n                                        : index !== lastIndex\n                                            ? horizontalMargin\n                                            : '',\n                                    marginLeft: isJustifySpace\n                                        ? justify === 'space-between' && index === 0\n                                            ? ''\n                                            : semiHorizontalMargin\n                                        : '',\n                                    paddingTop: semiVerticalMargin,\n                                    paddingBottom: semiVerticalMargin\n                                }\n                ] }, child)))));\n    }\n});\n","//右键菜单配置表\nexport const rightMenusConfig = {\n  ATTRIBUTES: 1, //属性\n  REAL_NAME: 2, //重命名\n  DELETE: 3, //删除\n  FLY_TO: 4 //飞到\n}\n\n// 地图数据类型\nexport enum MapSourceType {\n  IMAGE_SERVICE = 'IMAGE_SERVICE',\n  TERRAIN_SERVICE = 'TERRAIN_SERVICE',\n  TILE_SET = 'TILE_SET',\n  GLTF_MODEL = 'GLTF_MODEL',\n  FEATURE = 'FEATURE',\n  SPECIAL_SUBJECT = 'SPECIAL_SUBJECT'\n}\n\nexport type MapSourceTypeEnum = keyof typeof MapSourceType\n\n// 影像服务类型\nexport enum ImagerProviderType {\n  arcGisMapServer = 'arcGisMapServer',\n  bingMap = 'bingMap',\n  tileMapServer = 'tileMapServer',\n  mapBox = 'mapBox',\n  singleTile = 'singleTile',\n  urlTemplate = 'urlTemplate',\n  webMapService = 'webMapService',\n  webMapTileService = 'webMapTileService'\n}\n\n// 地形服务类型\nexport enum TerrainType {\n  ellipsoidTerrain = 'EllipsoidTerrain',\n  cesiumTerrain = 'CesiumTerrain',\n  worldTerrain = 'WorldTerrain'\n}\n","import {\n  NColorPicker,\n  NFormItem,\n  NInput,\n  NInputNumber,\n  NRadio,\n  NRadioGroup,\n  NSelect,\n  NSpace,\n  SelectGroupOption,\n  SelectOption\n} from 'naive-ui'\nimport type { Ref } from 'vue'\n\nimport { ImagerProviderType, TerrainType } from '@/common/map-scene-config'\n\nconst imageryTypeOptions = [\n  { label: 'arcGisMapServer', value: ImagerProviderType.arcGisMapServer },\n  { label: 'bingMap', value: ImagerProviderType.bingMap },\n  { label: 'tileMapServer', value: ImagerProviderType.tileMapServer },\n  { label: 'mapBox', value: ImagerProviderType.mapBox },\n  { label: 'singleTile', value: ImagerProviderType.singleTile },\n  { label: 'urlTemplate', value: ImagerProviderType.urlTemplate },\n  { label: 'webMapService', value: ImagerProviderType.webMapService },\n  { label: 'webMapTileService', value: ImagerProviderType.webMapTileService }\n]\n\nconst terrainTypeOptions = [\n  { label: '无地形', value: TerrainType.ellipsoidTerrain },\n  { label: '自定义地形', value: TerrainType.cesiumTerrain },\n  { label: 'Cesium自带地形', value: TerrainType.worldTerrain }\n]\n\nexport const useFormRender = ({\n  formModel,\n  specialLabelOptions\n}: {\n  formModel: Ref<any>\n  specialLabelOptions: Ref<Array<SelectOption | SelectGroupOption>>\n}) => {\n  // 渲染影像服务的表单项\n  const renderImageryForm = () => (\n    <NFormItem label='影像类型' path='imageryType'>\n      <NSelect\n        v-model:value={formModel.value.imageryType}\n        options={imageryTypeOptions}\n        placeholder='请选择影像类型'\n      />\n    </NFormItem>\n  )\n\n  // 渲染地形服务的表单项\n  const renderTerrainForm = () => (\n    <NFormItem label='地形类型' path='terrainType'>\n      <NSelect\n        v-model:value={formModel.value.terrainType}\n        options={terrainTypeOptions}\n        placeholder='请选择地形类型'\n      />\n    </NFormItem>\n  )\n\n  // 渲染矢量要素的表单项\n  const renderFeatureForm = () => (\n    <>\n      <NFormItem label='marker大小' path='markerSize'>\n        <NInputNumber\n          v-model:value={formModel.value.feature.markerSize}\n          placeholder='请输入marker大小'\n          style={{ width: '120px' }}\n        />\n      </NFormItem>\n      <NFormItem label='marker颜色' path='markerColor'>\n        <NColorPicker v-model:value={formModel.value.feature.markerColor} />\n      </NFormItem>\n      <NFormItem label='边框颜色' path='stroke'>\n        <NColorPicker v-model:value={formModel.value.feature.stroke} />\n      </NFormItem>\n      <NFormItem label='边框宽度' path='strokeWidth'>\n        <NInputNumber\n          v-model:value={formModel.value.feature.strokeWidth}\n          placeholder='请输入边框宽度'\n          style={{ width: '120px' }}\n        />\n      </NFormItem>\n      <NFormItem label='填充颜色' path='fill'>\n        <NColorPicker v-model:value={formModel.value.feature.fill} />\n      </NFormItem>\n      <NFormItem label='是否贴地' path='clampToGround'>\n        <NRadioGroup v-model:value={formModel.value.feature.clampToGround}>\n          <NSpace>\n            <NRadio label='是' value={true} />\n            <NRadio label='否' value={false} />\n          </NSpace>\n        </NRadioGroup>\n      </NFormItem>\n    </>\n  )\n\n  // 渲染专题图层的表单项\n  const renderSpecialForm = () => (\n    <>\n      <NFormItem label='图标在线地址' path='icon'>\n        <NInput\n          v-model:value={formModel.value.special.icon}\n          placeholder='输入图标在线地址'\n        />\n      </NFormItem>\n      <NFormItem label='标签字段' path='label'>\n        <NSelect\n          v-model:value={formModel.value.special.label}\n          placeholder='请选择标签字段'\n          options={specialLabelOptions.value}\n        />\n      </NFormItem>\n      <NFormItem label='图标大小' path='specialSize'>\n        <NInputNumber\n          v-model:value={formModel.value.special.size}\n          placeholder='请输入图标大小'\n          style={{ width: '120px' }}\n        />\n      </NFormItem>\n    </>\n  )\n\n  return {\n    renderImageryForm,\n    renderTerrainForm,\n    renderFeatureForm,\n    renderSpecialForm\n  }\n}\n"],"names":["hsl2hsv","h","s","l","v","Math","min","hsv2hsl","m","hsv2rgb","f","n","k","max","rgb2hsv","r","g","b","c","rgb2hsl","abs","hsl2rgb","a","getSlot","instance","slotName","fallback","slot","$slots","getTitleAttribute","value","String","mergeEventHandlers","handlers","filteredHandlers","filter","handler","length","e","forEach","eventSet","WeakSet","eventEffectNotPerformed","event","has","lowBit","FinweckTree","constructor","this","ft","Array","i","add","get","sum","Error","ret","getBound","threshold","floor","sumM","maybeTouch","wheelScale","ensureWheelScale","window","devicePixelRatio","styles","maxHeight","height","overflow","minWidth","scrollbarWidth","width","display","VVirtualList","defineComponent","name","inheritAttrs","props","showScrollbar","type","Boolean","default","items","itemSize","Number","required","itemResizable","itemsStyle","Object","visibleItemsTag","visibleItemsProps","ignoreItemResize","onScroll","Function","onWheel","onResize","defaultScrollKey","defaultScrollIndex","keyField","paddingTop","paddingBottom","setup","ssrAdapter","useSsrAdapter","mount","id","head","anchorMetaName","cssrAnchorMetaName","ssr","onMounted","scrollTo","index","key","isDeactivated","activateStateInitialized","onActivated","top","scrollTopRef","left","scrollLeft","onDeactivated","keyIndexMapRef","computed","map","Map","item","set","listElRef","ref","listHeightRef","keyToHeightOffset","finweckTreeRef","heightOffset","finweckTreeUpdateTrigger","startIndexRef","useMemo","depx","viewportItemsRef","listHeight","startIndex","endIndex","ceil","viewportItems","push","options","y","scrollToPosition","position","behavior","debounce","scrollToIndex","toIndex","MAX_SAFE_INTEGER","anchorIndex","anchorTimerId","targetTop","clearTimeout","setTimeout","scrollTop","offsetHeight","mayUseWheel","matchMedia","matches","wheelCatched","syncViewport","listEl","isHideByVShow","el","cursor","style","parentElement","listStyle","keyToIndex","pxfy","boxSizing","minHeight","visibleItemsStyle","transform","itemsElRef","handleListResize","entry","target","contentRect","handleListScroll","_a","call","handleListWheel","deltaX","deltaY","scrollHeight","preventDefault","beforeNextFrameOnce","handleItemResize","_b","_c","previousHeight","borderBoxSize","blockSize","delete","delta","previousHeightSum","scrollBy","render","VResizeObserver","mergeProps","$attrs","class","assign","itemVNode","empty","hiddenAttr","VOverflow","getCounter","getTail","updateCounter","onUpdateOverflow","slots","selfRef","counterRef","deriveCounter","self","counter","hasAttribute","removeAttribute","children","containerWidth","offsetWidth","childWidths","tail","childWidthSum","len","child","setAttribute","childWidth","j","restCount","textContent","counterWidth","maxWidth","sync","nextTick","renderSlot","useOnResize","elRef","resizeObserverManager","registerHandler","onBeforeUnmount","unregisterHandler","FinishedIcon","xmlns","viewBox","fill","d","EmptyIcon","FocusDetector","onFocus","onBlur","tabindex","style$8","cB","cE","NEmpty","useTheme","description","showDescription","showIcon","size","renderIcon","mergedClsPrefixRef","inlineThemeDisabled","useConfig","themeRef","emptyLight","localeRef","useLocale","NConfigProvider","inject","configProviderInjectionKey","mergedDescriptionRef","mergedComponentPropsRef","Empty","mergedRenderIconRef","cssVarsRef","common","cubicBezierEaseInOut","createKey","iconSize","fontSize","textColor","iconColor","extraTextColor","themeClassHandle","useThemeClass","hash","mergedClsPrefix","mergedRenderIcon","localizedDescription","cssVars","themeClass","onRender","icon","NBaseIcon","clsPrefix","extra","NSelectOption","tmNode","valueRef","pendingTmNodeRef","multipleRef","valueSetRef","renderLabelRef","renderOptionRef","labelFieldRef","valueFieldRef","showCheckmarkRef","nodePropsRef","handleOptionClick","handleOptionMouseEnter","internalSelectionMenuInjectionKey","isPendingRef","pendingTmNode","multiple","isGrouped","parent","rawNode","showCheckmark","nodeProps","isPending","isSelected","optionValue","valueSet","labelField","renderLabel","renderOption","handleMouseMove","disabled","handleMouseEnter","handleClick","checkmark","show","Transition","CheckmarkIcon","renderCheckMark","attrs","node","onClick","onMouseenter","onMousemove","option","selected","NSelectGroupHeader","style$7","cM","cNotM","fadeInScaleUpTransition","enterScale","NInternalSelectMenu","scrollable","treeMate","autoPending","virtualScroll","valueField","loading","focusable","onMousedown","onKeyup","onKeydown","onTabOut","onMouseleave","resetMenuOnOptionsChange","onToggle","internalSelectMenuLight","toRef","virtualListRef","scrollbarRef","flattenedNodesRef","getFlattenedNodes","fIndexGetterRef","createIndexGetter","pendingNodeRef","clearPendingNodeIfInvalid","pendingNode","getNode","initPendingNodeWatchStopHandle","watch","defaultPendingNode","getFirstAvailableNode","setPendingTmNode","scrollToPendingNode","immediate","itemSizeRef","paddingRef","getPadding","isArray","Set","emptyRef","tmNodes","doScroll","fIndex","elSize","provide","doToggle","internalSelectionMenuBodyInjectionKey","borderRadius","color","groupHeaderTextColor","actionDividerColor","optionTextColorPressed","optionTextColor","optionTextColorDisabled","optionTextColorActive","optionOpacityDisabled","optionCheckColor","actionTextColor","optionColorPending","optionColorActive","loadingColor","loadingSize","optionColorActivePending","optionHeight","optionPadding","exposedProps","next","getNext","loop","prev","getPrev","getPendingTmNode","mergedTheme","padding","flattenedNodes","virtualListContainer","virtualListContent","handleFocusin","contains","handleFocusout","relatedTarget","handleKeyUp","happensIn","handleKeyDown","handleMouseDown","handleVirtualListResize","handleVirtualListScroll","onFocusin","onFocusout","NInternalLoading","strokeWidth","resolveSlot","theme","peers","themeOverrides","peerOverrides","NScrollbar","Scrollbar","container","content","VirtualList","bottom","isGroup","ignored","resolveWrappedSlot","action","NFocusDetector","tagLight$1","commonLight","vars","textColor2","primaryColorHover","primaryColorPressed","primaryColor","infoColor","successColor","warningColor","errorColor","baseColor","borderColor","opacityDisabled","tagColor","closeIconColor","closeIconColorHover","closeIconColorPressed","borderRadiusSmall","fontSizeMini","fontSizeTiny","fontSizeSmall","fontSizeMedium","heightMini","heightTiny","heightSmall","heightMedium","closeColorHover","closeColorPressed","buttonColor2Hover","buttonColor2Pressed","fontWeightStrong","commonVariables","closeBorderRadius","heightLarge","fontSizeLarge","textColorCheckable","textColorHoverCheckable","textColorPressedCheckable","textColorChecked","colorCheckable","colorHoverCheckable","colorPressedCheckable","colorChecked","colorCheckedHover","colorCheckedPressed","border","colorBordered","borderPrimary","changeColor","alpha","textColorPrimary","colorPrimary","colorBorderedPrimary","closeIconColorPrimary","closeIconColorHoverPrimary","closeIconColorPressedPrimary","closeColorHoverPrimary","closeColorPressedPrimary","borderInfo","textColorInfo","colorInfo","colorBorderedInfo","closeIconColorInfo","closeIconColorHoverInfo","closeIconColorPressedInfo","closeColorHoverInfo","closeColorPressedInfo","borderSuccess","textColorSuccess","colorSuccess","colorBorderedSuccess","closeIconColorSuccess","closeIconColorHoverSuccess","closeIconColorPressedSuccess","closeColorHoverSuccess","closeColorPressedSuccess","borderWarning","textColorWarning","colorWarning","colorBorderedWarning","closeIconColorWarning","closeIconColorHoverWarning","closeIconColorPressedWarning","closeColorHoverWarning","closeColorPressedWarning","borderError","textColorError","colorError","colorBorderedError","closeIconColorError","closeIconColorHoverError","closeIconColorPressedError","closeColorHoverError","closeColorPressedError","commonProps","round","closable","style$6","tagProps","bordered","checked","checkable","strong","triggerClickOnClose","onClose","onUpdateChecked","internalCloseFocusable","internalCloseIsButtonTag","onCheckedChange","tagInjectionKey","createInjectionKey","NTag","watchEffect","warnOnce","contentRef","mergedBorderedRef","mergedRtlRef","tagLight","roundRef","tagPublicMethods","setTextContent","rtlEnabledRef","useRtl","closeMargin","closeMarginRtl","closeSize","closeIconSize","typedColor","typeTextColor","color2Class","rtlEnabled","mergedBordered","_onUpdateChecked","handleCloseClick","stopPropagation","avatarNode","avatar","iconNode","NBaseClose","isButtonTag","absolute","style$5","status","NInternalSelection","active","pattern","placeholder","selectedOption","selectedOptions","filterable","clearable","autofocus","showArrow","inputProps","focused","renderTag","onDeleteOption","maxTagCount","onClear","onPatternInput","onPatternFocus","onPatternBlur","ignoreComposition","patternInputMirrorRef","patternInputRef","multipleElRef","singleElRef","patternInputWrapperRef","counterWrapperRef","overflowRef","inputTagElRef","showTagsPopoverRef","patternInputFocusedRef","hoverRef","internalSelectionLight","mergedClearableRef","filterablePlaceholderRef","handleClose","labelRef","selectedRef","syncMirrorWidth","patternInputMirrorEl","patternInputEl","doPatternInput","handleDeleteOption","doDeleteOption","inputTagEl","isComposingRef","cachedInputEvent","enterTimerId","clearEnterTimer","patternInputWrapperEl","tabIndex","placeholderColor","paddingSingle","paddingMultiple","caretColor","colorDisabled","textColorDisabled","placeholderColorDisabled","colorActive","boxShadowFocus","boxShadowActive","boxShadowHover","borderFocus","borderHover","borderActive","arrowColor","arrowColorDisabled","colorActiveWarning","boxShadowFocusWarning","boxShadowActiveWarning","boxShadowHoverWarning","borderFocusWarning","borderHoverWarning","borderActiveWarning","colorActiveError","boxShadowFocusError","boxShadowActiveError","boxShadowHoverError","borderFocusError","borderHoverError","borderActiveError","clearColor","clearColorHover","clearColorPressed","clearSize","arrowSize","mergedClearable","patternInputFocused","filterablePlaceholder","label","showTagsPanel","isComposing","doFocus","handleClear","doClear","handleMouseLeave","handlePatternKeyDown","handlePatternInputInput","inputText","handlePatternInputBlur","handlePatternInputFocus","handleMouseEnterCounter","handleMouseLeaveCounter","doBlur","handleCompositionEnd","handleCompositionStart","onPopoverUpdateShow","focus","focusInput","blur","multipleEl","singleEl","blurInput","count","maxTagCountResponsive","maxTagCountNumeric","useMaxTagCount","suffix","Wrapper","Suffix","showClear","arrow","body","createTag","createOriginalTagNodes","slice","input","onInput","onCompositionstart","onCompositionend","renderCounter","rest","tags","concat","renderPopover","popoverProps","trigger","overlap","placement","onUpdateShow","Popover","popoverTrigger","Fragment","NPopover","hasInput","showPlaceholder","showSelectedLabel","readonly","title","getIsGroup","getIgnored","patternMatched","toString","toLowerCase","indexOf","trim","err","style$4","NInputGroup","useStyle","getModeFromValue","test","includes","convert","rgb","hex","toHexaString","rgba","hsl","toHslaString","hsv","toHsvaString","toRgbaString","hsla","hsva","convertColor","mode","originalMode","HANDLE_SIZE","RADIUS","HueSlider","hue","onUpdateHue","onComplete","railRef","railEl","getBoundingClientRect","newHue","clientX","handleMouseUp","off","document","on","boxShadow","backgroundImage","right","backgroundColor","AlphaSlider","onUpdateAlpha","newAlpha","railBackgroundImage","Pallete","displayedHue","displayedSv","onUpdateSV","palleteRef","palleteEl","newV","clientY","newS","normalizedNewS","normalizedNewV","handleColor","colorPickerInjectionKey","inputThemeOverrides","paddingSmall","ColorInputUnit","showAlpha","onUpdateValue","inputValueRef","getInputString","inputValue","handleInputChange","unit","valid","trimmedValue","normalizeHexaUnit","parseInt","normalizeHueUnit","normalizeSlvUnit","normalizeAlphaUnit","normalizeRgbUnit","handleInputUpdateValue","NInput","Input","builtinThemeOverrides","onChange","ColorInput","modes","valueArr","onUpdateMode","handleUnitUpdateValue","toHexString","nextValueArr","from","toHsvString","toRgbString","toHslString","toUpperCase","hexValue","unitValue","split","ColorPickerTrigger","colorPickerSlots","normalizeColor","ColorPickerSwatches","swatches","onUpdateColor","normalizeOutput","parsed","modeProp","swatchColorMode","ctx","createElement","getContext","fillStyle","getHexFromName","warn","handleSwatchSelect","parsedSwatchesRef","legalValue","handleSwatchKeyDown","swatch","background","ColorPreview","validator","handleChange","style$3","NColorPicker","defaultShow","defaultValue","to","useAdjustedTo","propTo","showPreview","actions","internalActions","onConfirm","upcomingValue","formItem","useFormItem","mergedSizeRef","mergedDisabledRef","namespaceRef","colorPickerLight","uncontrolledShowRef","mergedShowRef","useMergedState","doUpdateShow","_onUpdateShow","uncontrolledValueRef","deriveDefaultValue","mergedValueRef","undoStackRef","valueIndexRef","valueModeRef","displayedModeRef","handleUpdateDisplayedMode","displayedMode","currentModeIndex","findIndex","_h","hsvaRef","mergedValue","rgbaRef","hslaRef","mergedValueArrRef","displayedHueRef","displayedAlphaRef","displayedSvRef","handleUpdateSv","hsvaArr","doUpdateValue","handleUpdateHue","handleUpdateAlpha","updateSource","nTriggerFormChange","nTriggerFormInput","_onUpdateValue","handleComplete","pushStack","undoStack","valueIndex","splice","undo","redo","handleConfirm","undoableRef","redoableRef","mergedSize","panelFontSize","dividerColor","namespace","mergedShow","mergedDisabled","isMounted","useIsMounted","adjustedTo","handleTriggerClick","handleClickOutside","getPreciseEventTarget","renderPanel","onDragstart","NButton","Button","confirm","clear","VBinder","VTarget","VFollower","containerClass","teleportDisabled","tdkey","appear","withDirectives","clickoutside","capture","style$2","originalTransition","NSelect","clearFilterAfterSelect","keyboard","menuProps","remote","widthMode","tag","onCreate","fallbackOption","consistentMenuWidth","childrenField","showOnFocus","onSearch","displayDirective","selectLight","controlledValueRef","focusedRef","patternRef","treeMateRef","getKey","getChildren","createTmOptions","createTreeMate","filteredOptionsRef","valOptMapRef","valOptMap","selectGroupOption","createValOptMap","localOptionsRef","triggerRef","followerRef","menuRef","localizedPlaceholderRef","compitableOptionsRef","useCompitable","emptyArray","createdOptionsRef","beingCreatedOptionsRef","memoValOptMapRef","wrappedFallbackOptionRef","resolvedFilterRef","localOptions","originalOpts","traverse","filteredOptions","filterOptions","getMergedOptions","values","memoValOptMap","wrappedFallbackOption","selectedOptionsRef","selectedOptionRef","mergedStatusRef","nTriggerFormBlur","updateMemorizedOptions","openMenu","closeMenu","handleMenuAfterLeave","activeWithoutMenuOpenRef","handleToggleByTmNode","handleToggleByOption","beingCreatedOptions","beingCreatedOption","createdOptions","changedValue","createClearedMultipleSelectValue","createdOptionIndex","getCreatedOptionIndex","createdOption","handleKeydown","_d","_e","some","focusSelection","focusSelectionInput","exposedMethods","menuBoxShadow","mergedStatus","uncontrolledShow","uncontrolledValue","localizedPlaceholder","activeWithoutMenuOpen","onTriggerInputFocus","onTriggerInputBlur","handleTriggerOrMenuResize","syncPosition","handleMenuFocus","handleMenuBlur","$el","handleMenuTabOut","handleToggle","handlePatternInput","doSearch","optionBeingCreated","handleTriggerBlur","handleTriggerFocus","nTriggerFormFocus","handleMenuClickOutside","handleMenuScroll","handleMenuKeydown","handleMenuMousedown","InternalSelection","onAfterLeave","InternalSelectMenu","vShow","radioLight$1","inputColorDisabled","lineHeight","labelLineHeight","buttonHeightSmall","buttonHeightMedium","buttonHeightLarge","boxShadowDisabled","dotColorActive","dotColorDisabled","buttonBorderColor","buttonBorderColorActive","buttonBorderColorHover","buttonColor","buttonColorActive","buttonTextColor","buttonTextColorActive","buttonTextColorHover","buttonBoxShadowFocus","buttonBoxShadowHover","buttonBoxShadow","buttonBorderRadius","radioProps","defaultChecked","checkedValue","radioGroupInjectionKey","NFormItem","NRadioGroup","disabledRef","inputRef","uncontrolledCheckedRef","controlledCheckedRef","mergedCheckedRef","renderSafeCheckedRef","mergedNameRef","nameRef","focusRef","toggle","mergedName","uncontrolledChecked","renderSafeChecked","handleRadioInputChange","handleRadioInputBlur","handleRadioInputFocus","style$1","NRadio","radio","radioLight","labelPadding","labelFontWeight","radioSize","opacity","selfElRef","selfEl","isButtonGroup","defaultSlot","wrappedInstance","instanceProps","lastInstanceProps","lastInstanceChecked","lastInstanceDisabled","currentInstanceChecked","currentInstanceDisabled","splitorClass","mapSlot","flatten","spaceLight$1","commonVars","supportFlexGap","ensureSupportFlexGap","isBrowser","flex","flexDirection","rowGap","appendChild","isSupported","removeChild","NSpace","align","justify","inline","vertical","wrapItem","itemStyle","wrap","internalUseGap","spaceLight","useGap","margin","horizontal","gap","row","col","getGap","horizontalMargin","semiHorizontalMargin","verticalMargin","semiVerticalMargin","lastIndex","isJustifySpace","startsWith","role","justifyContent","flexWrap","marginTop","marginBottom","alignItems","marginLeft","marginRight","MapSourceType","ImagerProviderType","TerrainType","imageryTypeOptions","terrainTypeOptions","useFormRender","specialLabelOptions","_createVNode","path","formModel","imageryType","terrainType","feature","markerSize","markerColor","stroke","clampToGround","renderSpecialForm","special"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50]}