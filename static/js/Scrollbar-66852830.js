import{d as e,k as n,as as t,w as o,aD as r,aE as l,bj as i,a0 as a,bn as s,t as u,f as c,b2 as d,g as v,M as f,O as h,u as b,n as p,Q as w,m,z as g,y,o as x,p as S,h as $,F as R,b7 as z,T as P,a4 as B}from"./index-eab422c6.js";import{V as M}from"./VResizeObserver-d8881905.js";function T(e){return e.composedPath()[0]||null}const k=e({render(){var e,n;return null===(n=(e=this.$slots).default)||void 0===n?void 0:n.call(e)}}),W=/^(\d|\.)+$/,C=/(\d|\.)+/;function E(e,{c:n=1,offset:t=0,attachPx:o=!0}={}){if("number"==typeof e){const o=(e+t)*n;return 0===o?"0":`${o}px`}if("string"==typeof e){if(W.test(e)){const r=(Number(e)+t)*n;return o?0===r?"0":`${r}px`:`${r}`}{const o=C.exec(e);return o?e.replace(C,String((Number(o[0])+t)*n)):e}}return e}function j(e){const r=n(!!e.value);if(r.value)return t(r);const l=o(e,(e=>{e&&(r.value=!0,l())}));return t(r)}function D(e){return e.composedPath()[0]}const O={mousemoveoutside:new WeakMap,clickoutside:new WeakMap};function L(e,n,t){const o=O[e];let r=o.get(n);void 0===r&&o.set(n,r=new WeakMap);let l=r.get(t);return void 0===l&&r.set(t,l=function(e,n,t){if("mousemoveoutside"===e){const e=e=>{n.contains(D(e))||t(e)};return{mousemove:e,touchstart:e}}if("clickoutside"===e){let e=!1;const o=t=>{e=!n.contains(D(t))},r=o=>{e&&(n.contains(D(o))||t(o))};return{mousedown:o,mouseup:r,touchstart:o,touchend:r}}return{}}(e,n,t)),l}const{on:H,off:X}=function(){if("undefined"==typeof window)return{on:()=>{},off:()=>{}};const e=new WeakMap,n=new WeakMap;function t(){e.set(this,!0)}function o(){e.set(this,!0),n.set(this,!0)}function r(e,n,t){const o=e[n];return e[n]=function(){return t.apply(e,arguments),o.apply(e,arguments)},e}function l(e,n){e[n]=Event.prototype[n]}const i=new WeakMap,a=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function s(){var e;return null!==(e=i.get(this))&&void 0!==e?e:null}function u(e,n){void 0!==a&&Object.defineProperty(e,"currentTarget",{configurable:!0,enumerable:!0,get:null!=n?n:a.get})}const c={bubble:{},capture:{}},d={},v=function(){const a=function(a){const{type:d,eventPhase:v,bubbles:f}=a,h=D(a);if(2===v)return;const b=1===v?"capture":"bubble";let p=h;const w=[];for(;null===p&&(p=window),w.push(p),p!==window;)p=p.parentNode||null;const m=c.capture[d],g=c.bubble[d];if(r(a,"stopPropagation",t),r(a,"stopImmediatePropagation",o),u(a,s),"capture"===b){if(void 0===m)return;for(let t=w.length-1;t>=0&&!e.has(a);--t){const e=w[t],o=m.get(e);if(void 0!==o){i.set(a,e);for(const e of o){if(n.has(a))break;e(a)}}if(0===t&&!f&&void 0!==g){const t=g.get(e);if(void 0!==t)for(const e of t){if(n.has(a))break;e(a)}}}}else if("bubble"===b){if(void 0===g)return;for(let t=0;t<w.length&&!e.has(a);++t){const e=w[t],o=g.get(e);if(void 0!==o){i.set(a,e);for(const e of o){if(n.has(a))break;e(a)}}}}l(a,"stopPropagation"),l(a,"stopImmediatePropagation"),u(a)};return a.displayName="evtdUnifiedHandler",a}(),f=function(){const e=function(e){const{type:n,eventPhase:t}=e;if(2!==t)return;const o=d[n];void 0!==o&&o.forEach((n=>n(e)))};return e.displayName="evtdUnifiedWindowEventHandler",e}();function h(e,n){const t=c[e];return void 0===t[n]&&(t[n]=new Map,window.addEventListener(n,v,"capture"===e)),t[n]}function b(e,n){let t=e.get(n);return void 0===t&&e.set(n,t=new Set),t}function p(e,n,t,o){const r=function(e,n,t,o){if("mousemoveoutside"===e||"clickoutside"===e){const r=L(e,n,t);return Object.keys(r).forEach((e=>{X(e,document,r[e],o)})),!0}return!1}(e,n,t,o);if(r)return;const l=!0===o||"object"==typeof o&&!0===o.capture,i=l?"capture":"bubble",a=h(i,e),s=b(a,n);if(n===window){if(!function(e,n,t,o){const r=c[n][t];if(void 0!==r){const n=r.get(e);if(void 0!==n&&n.has(o))return!0}return!1}(n,l?"bubble":"capture",e,t)&&function(e,n){const t=d[e];return!(void 0===t||!t.has(n))}(e,t)){const n=d[e];n.delete(t),0===n.size&&(window.removeEventListener(e,f),d[e]=void 0)}}s.has(t)&&s.delete(t),0===s.size&&a.delete(n),0===a.size&&(window.removeEventListener(e,v,"capture"===i),c[i][e]=void 0)}return{on:function(e,n,t,o){let r;r="object"==typeof o&&!0===o.once?l=>{p(e,n,r,o),t(l)}:t;if(function(e,n,t,o){if("mousemoveoutside"===e||"clickoutside"===e){const r=L(e,n,t);return Object.keys(r).forEach((e=>{H(e,document,r[e],o)})),!0}return!1}(e,n,r,o))return;const l=b(h(!0===o||"object"==typeof o&&!0===o.capture?"capture":"bubble",e),n);if(l.has(r)||l.add(r),n===window){const n=function(e){return void 0===d[e]&&(d[e]=new Set,window.addEventListener(e,f)),d[e]}(e);n.has(r)||n.add(r)}},off:p}}(),N="undefined"!=typeof window&&(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream;function Y(e){const n={isDeactivated:!1};let t=!1;return r((()=>{n.isDeactivated=!1,t?e():t=!0})),l((()=>{n.isDeactivated=!0,t||(t=!0)})),n}var I=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,F=/^\w*$/;function U(e,n){if(i(e))return!1;var t=typeof e;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=e&&!a(e))||(F.test(e)||!I.test(e)||null!=n&&e in Object(n))}var _="Expected a function";function A(e,n){if("function"!=typeof e||null!=n&&"function"!=typeof n)throw new TypeError(_);var t=function(){var o=arguments,r=n?n.apply(this,o):o[0],l=t.cache;if(l.has(r))return l.get(r);var i=e.apply(this,o);return t.cache=l.set(r,i)||l,i};return t.cache=new(A.Cache||s),t}A.Cache=s;var V,G,Q,q=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,J=/\\(\\)?/g,K=(V=function(e){var n=[];return 46===e.charCodeAt(0)&&n.push(""),e.replace(q,(function(e,t,o,r){n.push(o?r.replace(J,"$1"):t||e)})),n},G=A(V,(function(e){return 500===Q.size&&Q.clear(),e})),Q=G.cache,G);const Z=K;function ee(e,n){return i(e)?e:U(e,n)?[e]:Z(u(e))}var ne=1/0;function te(e){if("string"==typeof e||a(e))return e;var n=e+"";return"0"==n&&1/e==-ne?"-0":n}function oe(e,n){for(var t=0,o=(n=ee(n,e)).length;null!=e&&t<o;)e=e[te(n[t++])];return t&&t==o?e:void 0}function re(e,n,t){var o=null==e?void 0:oe(e,n);return void 0===o?t:o}const{cubicBezierEaseInOut:le}=d;function ie({name:e="fade-in",enterDuration:n="0.2s",leaveDuration:t="0.2s",enterCubicBezier:o=le,leaveCubicBezier:r=le}={}){return[c(`&.${e}-transition-enter-active`,{transition:`all ${n} ${o}!important`}),c(`&.${e}-transition-leave-active`,{transition:`all ${t} ${r}!important`}),c(`&.${e}-transition-enter-from, &.${e}-transition-leave-to`,{opacity:0}),c(`&.${e}-transition-leave-from, &.${e}-transition-enter-to`,{opacity:1})]}const ae=v("scrollbar","\n overflow: hidden;\n position: relative;\n z-index: auto;\n height: 100%;\n width: 100%;\n",[c(">",[v("scrollbar-container","\n width: 100%;\n overflow: scroll;\n height: 100%;\n max-height: inherit;\n scrollbar-width: none;\n ",[c("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb","\n width: 0;\n height: 0;\n display: none;\n "),c(">",[v("scrollbar-content","\n box-sizing: border-box;\n min-width: 100%;\n ")])])]),c(">, +",[v("scrollbar-rail","\n position: absolute;\n pointer-events: none;\n user-select: none;\n -webkit-user-select: none;\n ",[f("horizontal","\n left: 2px;\n right: 2px;\n bottom: 4px;\n height: var(--n-scrollbar-height);\n ",[c(">",[h("scrollbar","\n height: var(--n-scrollbar-height);\n border-radius: var(--n-scrollbar-border-radius);\n right: 0;\n ")])]),f("vertical","\n right: 4px;\n top: 2px;\n bottom: 2px;\n width: var(--n-scrollbar-width);\n ",[c(">",[h("scrollbar","\n width: var(--n-scrollbar-width);\n border-radius: var(--n-scrollbar-border-radius);\n bottom: 0;\n ")])]),f("disabled",[c(">",[h("scrollbar",{pointerEvents:"none"})])]),c(">",[h("scrollbar","\n position: absolute;\n cursor: pointer;\n pointer-events: all;\n background-color: var(--n-scrollbar-color);\n transition: background-color .2s var(--n-scrollbar-bezier);\n ",[ie(),c("&:hover",{backgroundColor:"var(--n-scrollbar-color-hover)"})])])])])]),se=e({name:"Scrollbar",props:Object.assign(Object.assign({},b.props),{size:{type:Number,default:5},duration:{type:Number,default:0},scrollable:{type:Boolean,default:!0},xScrollable:Boolean,trigger:{type:String,default:"hover"},useUnifiedContainer:Boolean,triggerDisplayManually:Boolean,container:Function,content:Function,containerClass:String,containerStyle:[String,Object],contentClass:String,contentStyle:[String,Object],horizontalRailStyle:[String,Object],verticalRailStyle:[String,Object],onScroll:Function,onWheel:Function,onResize:Function,internalOnUpdateScrollLeft:Function,internalHoistYRail:Boolean}),inheritAttrs:!1,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:o,mergedRtlRef:r}=p(e),l=w("Scrollbar",r,t),i=n(null),a=n(null),s=n(null),u=n(null),c=n(null),d=n(null),v=n(null),f=n(null),h=n(null),$=n(null),R=n(null),P=n(0),B=n(0),M=n(!1),k=n(!1);let W,C,E=!1,j=!1,D=0,O=0,L=0,I=0;const F=N,U=m((()=>{const{value:n}=f,{value:t}=d,{value:o}=$;return null===n||null===t||null===o?0:Math.min(n,o*n/t+1.5*e.size)})),_=m((()=>`${U.value}px`)),A=m((()=>{const{value:n}=h,{value:t}=v,{value:o}=R;return null===n||null===t||null===o?0:o*n/t+1.5*e.size})),V=m((()=>`${A.value}px`)),G=m((()=>{const{value:e}=f,{value:n}=P,{value:t}=d,{value:o}=$;if(null===e||null===t||null===o)return 0;{const r=t-e;return r?n/r*(o-U.value):0}})),Q=m((()=>`${G.value}px`)),q=m((()=>{const{value:e}=h,{value:n}=B,{value:t}=v,{value:o}=R;if(null===e||null===t||null===o)return 0;{const r=t-e;return r?n/r*(o-A.value):0}})),J=m((()=>`${q.value}px`)),K=m((()=>{const{value:e}=f,{value:n}=d;return null!==e&&null!==n&&n>e})),Z=m((()=>{const{value:e}=h,{value:n}=v;return null!==e&&null!==n&&n>e})),ee=m((()=>{const{trigger:n}=e;return"none"===n||M.value})),ne=m((()=>{const{trigger:n}=e;return"none"===n||k.value})),te=m((()=>{const{container:n}=e;return n?n():a.value})),oe=m((()=>{const{content:n}=e;return n?n():s.value})),re=Y((()=>{e.container||le({top:P.value,left:B.value})})),le=(n,t)=>{if(!e.scrollable)return;if("number"==typeof n)return void ie(null!=t?t:0,n,0,!1,"auto");const{left:o,top:r,index:l,elSize:i,position:a,behavior:s,el:u,debounce:c=!0}=n;void 0===o&&void 0===r||ie(null!=o?o:0,null!=r?r:0,0,!1,s),void 0!==u?ie(0,u.offsetTop,u.offsetHeight,c,s):void 0!==l&&void 0!==i?ie(0,l*i,i,c,s):"bottom"===a?ie(0,Number.MAX_SAFE_INTEGER,0,!1,s):"top"===a&&ie(0,0,0,!1,s)};function ie(e,n,t,o,r){const{value:l}=te;if(l){if(o){const{scrollTop:o,offsetHeight:i}=l;if(n>o)return void(n+t<=o+i||l.scrollTo({left:e,top:n+t-i,behavior:r}))}l.scrollTo({left:e,top:n,behavior:r})}}function se(){!function(){void 0!==C&&window.clearTimeout(C);C=window.setTimeout((()=>{k.value=!1}),e.duration)}(),function(){void 0!==W&&window.clearTimeout(W);W=window.setTimeout((()=>{M.value=!1}),e.duration)}()}function ue(){const{value:e}=te;e&&(P.value=e.scrollTop,B.value=e.scrollLeft*((null==l?void 0:l.value)?-1:1))}function ce(){const{value:e}=te;e&&(P.value=e.scrollTop,B.value=e.scrollLeft*((null==l?void 0:l.value)?-1:1),f.value=e.offsetHeight,h.value=e.offsetWidth,d.value=e.scrollHeight,v.value=e.scrollWidth);const{value:n}=c,{value:t}=u;n&&(R.value=n.offsetWidth),t&&($.value=t.offsetHeight)}function de(){e.scrollable&&(e.useUnifiedContainer?ce():(!function(){const{value:e}=oe;e&&(d.value=e.offsetHeight,v.value=e.offsetWidth);const{value:n}=te;n&&(f.value=n.offsetHeight,h.value=n.offsetWidth);const{value:t}=c,{value:o}=u;t&&(R.value=t.offsetWidth),o&&($.value=o.offsetHeight)}(),ue()))}function ve(e){var n;return!(null===(n=i.value)||void 0===n?void 0:n.contains(T(e)))}function fe(n){if(!j)return;void 0!==W&&window.clearTimeout(W),void 0!==C&&window.clearTimeout(C);const{value:t}=h,{value:o}=v,{value:r}=A;if(null===t||null===o)return;const i=(null==l?void 0:l.value)?window.innerWidth-n.clientX-L:n.clientX-L,a=o-t;let s=O+i*(o-t)/(t-r);s=Math.min(a,s),s=Math.max(s,0);const{value:u}=te;if(u){u.scrollLeft=s*((null==l?void 0:l.value)?-1:1);const{internalOnUpdateScrollLeft:n}=e;n&&n(s)}}function he(e){e.preventDefault(),e.stopPropagation(),X("mousemove",window,fe,!0),X("mouseup",window,he,!0),j=!1,de(),ve(e)&&se()}function be(e){if(!E)return;void 0!==W&&window.clearTimeout(W),void 0!==C&&window.clearTimeout(C);const{value:n}=f,{value:t}=d,{value:o}=U;if(null===n||null===t)return;const r=e.clientY-I,l=t-n;let i=D+r*(t-n)/(n-o);i=Math.min(l,i),i=Math.max(i,0);const{value:a}=te;a&&(a.scrollTop=i)}function pe(e){e.preventDefault(),e.stopPropagation(),X("mousemove",window,be,!0),X("mouseup",window,pe,!0),E=!1,de(),ve(e)&&se()}g((()=>{const{value:e}=Z,{value:n}=K,{value:o}=t,{value:r}=c,{value:l}=u;r&&(e?r.classList.remove(`${o}-scrollbar-rail--disabled`):r.classList.add(`${o}-scrollbar-rail--disabled`)),l&&(n?l.classList.remove(`${o}-scrollbar-rail--disabled`):l.classList.add(`${o}-scrollbar-rail--disabled`))})),y((()=>{e.container||de()})),x((()=>{void 0!==W&&window.clearTimeout(W),void 0!==C&&window.clearTimeout(C),X("mousemove",window,be,!0),X("mouseup",window,pe,!0)}));const we=b("Scrollbar","-scrollbar",ae,z,e,t),me=m((()=>{const{common:{cubicBezierEaseInOut:e,scrollbarBorderRadius:n,scrollbarHeight:t,scrollbarWidth:o},self:{color:r,colorHover:l}}=we.value;return{"--n-scrollbar-bezier":e,"--n-scrollbar-color":r,"--n-scrollbar-color-hover":l,"--n-scrollbar-border-radius":n,"--n-scrollbar-width":o,"--n-scrollbar-height":t}})),ge=o?S("scrollbar",void 0,me,e):void 0,ye={scrollTo:le,scrollBy:(n,t)=>{if(!e.scrollable)return;const{value:o}=te;o&&("object"==typeof n?o.scrollBy(n):o.scrollBy(n,t||0))},sync:de,syncUnifiedContainer:ce,handleMouseEnterWrapper:function(){!function(){void 0!==W&&window.clearTimeout(W);M.value=!0}(),function(){void 0!==C&&window.clearTimeout(C);k.value=!0}(),de()},handleMouseLeaveWrapper:function(){se()}};return Object.assign(Object.assign({},ye),{mergedClsPrefix:t,rtlEnabled:l,containerScrollTop:P,wrapperRef:i,containerRef:a,contentRef:s,yRailRef:u,xRailRef:c,needYBar:K,needXBar:Z,yBarSizePx:_,xBarSizePx:V,yBarTopPx:Q,xBarLeftPx:J,isShowXBar:ee,isShowYBar:ne,isIos:F,handleScroll:function(n){const{onScroll:t}=e;t&&t(n),ue()},handleContentResize:()=>{re.isDeactivated||de()},handleContainerResize:n=>{if(re.isDeactivated)return;const{onResize:t}=e;t&&t(n),de()},handleYScrollMouseDown:function(e){e.preventDefault(),e.stopPropagation(),E=!0,H("mousemove",window,be,!0),H("mouseup",window,pe,!0),D=P.value,I=e.clientY},handleXScrollMouseDown:function(e){e.preventDefault(),e.stopPropagation(),j=!0,H("mousemove",window,fe,!0),H("mouseup",window,he,!0),O=B.value,L=(null==l?void 0:l.value)?window.innerWidth-e.clientX:e.clientX},cssVars:o?void 0:me,themeClass:null==ge?void 0:ge.themeClass,onRender:null==ge?void 0:ge.onRender})},render(){var e;const{$slots:n,mergedClsPrefix:t,triggerDisplayManually:o,rtlEnabled:r,internalHoistYRail:l}=this;if(!this.scrollable)return null===(e=n.default)||void 0===e?void 0:e.call(n);const i="none"===this.trigger,a=()=>$("div",{ref:"yRailRef",class:[`${t}-scrollbar-rail`,`${t}-scrollbar-rail--vertical`],"data-scrollbar-rail":!0,style:this.verticalRailStyle,"aria-hidden":!0},$(i?k:P,i?null:{name:"fade-in-transition"},{default:()=>this.needYBar&&this.isShowYBar&&!this.isIos?$("div",{class:`${t}-scrollbar-rail__scrollbar`,style:{height:this.yBarSizePx,top:this.yBarTopPx},onMousedown:this.handleYScrollMouseDown}):null})),s=()=>{var e,s;return null===(e=this.onRender)||void 0===e||e.call(this),$("div",B(this.$attrs,{role:"none",ref:"wrapperRef",class:[`${t}-scrollbar`,this.themeClass,r&&`${t}-scrollbar--rtl`],style:this.cssVars,onMouseenter:o?void 0:this.handleMouseEnterWrapper,onMouseleave:o?void 0:this.handleMouseLeaveWrapper}),[this.container?null===(s=n.default)||void 0===s?void 0:s.call(n):$("div",{role:"none",ref:"containerRef",class:[`${t}-scrollbar-container`,this.containerClass],style:this.containerStyle,onScroll:this.handleScroll,onWheel:this.onWheel},$(M,{onResize:this.handleContentResize},{default:()=>$("div",{ref:"contentRef",role:"none",style:[{width:this.xScrollable?"fit-content":null},this.contentStyle],class:[`${t}-scrollbar-content`,this.contentClass]},n)})),l?null:a(),this.xScrollable&&$("div",{ref:"xRailRef",class:[`${t}-scrollbar-rail`,`${t}-scrollbar-rail--horizontal`],style:this.horizontalRailStyle,"data-scrollbar-rail":!0,"aria-hidden":!0},$(i?k:P,i?null:{name:"fade-in-transition"},{default:()=>this.needXBar&&this.isShowXBar&&!this.isIos?$("div",{class:`${t}-scrollbar-rail__scrollbar`,style:{width:this.xBarSizePx,right:r?this.xBarLeftPx:void 0,left:r?void 0:this.xBarLeftPx},onMousedown:this.handleXScrollMouseDown}):null}))])},u=this.container?s():$(M,{onResize:this.handleContainerResize},{default:s});return l?$(R,null,u,a()):u}}),ue=se,ce=se;export{ue as N,k as W,ce as X,H as a,E as b,re as c,Y as d,ee as e,ie as f,T as g,oe as h,U as i,X as o,te as t,j as u};
//# sourceMappingURL=Scrollbar-66852830.js.map
