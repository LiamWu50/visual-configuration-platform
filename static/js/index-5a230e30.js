import{u as t}from"./index-d151ccd9.js";import{C as e,d as i,k as o,B as n,a1 as r}from"./index-cf562e4f.js";import{C as s}from"./index-e5622c65.js";import{u as a}from"./use-cesium-source-loader-bec83f6b.js";import{u as l}from"./index-423f86c3.js";function c(){const i=t(),{editorScale:o}=e(i);return{transByCurScale:t=>100*t/o.value,transAbsByCurScale:t=>100*Math.abs(t)/o.value}}function u(t){return(t+360)%360}function h(t){return 100*t+"%"}const p=["fontSize","width","height","top","left","borderWidth","letterSpacing","borderRadius"];function d(t){return{top:t.top,left:t.left,right:t.left+t.width,bottom:t.top+t.height}}function f(t,e=[]){const i={};return Object.keys(t).forEach((o=>{e.includes(o)||t[o]&&(i[o]=t[o],p.includes(o)&&(i[o]+="px"))})),i}function g(t){const e={};for(const[i,o]of Object.entries(t))o&&(e[i]=`${o}px`);return e}function y(t){const e=t.top+t.height,i=t.left+t.width;return{left:t.left,top:t.top,right:i,bottom:e}}function m(t,e,i){const{transByCurScale:o}=c(),n=document.getElementById(`primitive${t.id}`).getBoundingClientRect(),r=o(n.left-e.left+n.width/2),s=o(n.top-e.top+n.height/2);t.style.width=parseFloat(t.groupStyle.width)/100*i.width,t.style.height=parseFloat(t.groupStyle.height)/100*i.height,t.style.left=r-t.style.width/2,t.style.top=s-t.style.height/2,t.groupStyle={}}function S(t){var e;const i=t.style;null==(e=t.childPrimitives)||e.forEach((t=>{if(!Object.keys(t.groupStyle).length){const e={...t.style};t.groupStyle=f(e),t.groupStyle.left=h((e.left-i.left)/i.width),t.groupStyle.top=h((e.top-i.top)/i.height),t.groupStyle.width=h(e.width/i.width),t.groupStyle.height=h(e.height/i.height)}}))}const w="_container_pcchd_38",v=i({name:"scene",setup(){const t=o(),e=o(),i=l(),{loadCesiumSource:n}=a(e);return{sceneType:t,setEditorScene:async o=>{t.value=o.type,await r(),"map"===o.type&&(e.value=s.initViewer("mapScene"),n(o.dataSource),i.saveCanvasScene({type:"map",scene:o.dataSource}))}}},render(){return n("div",{class:w},["map"===this.sceneType?n("div",{id:"mapScene"},null):n("div",{id:"threeScene"},null)])}});export{v as S,S as a,f as b,d as c,m as d,g as e,y as g,u as m,c as u};
//# sourceMappingURL=index-5a230e30.js.map
