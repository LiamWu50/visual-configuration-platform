{"version":3,"file":"base-D7a2BoYW.js","sources":["../../../src/primitives/attrs/base.tsx"],"sourcesContent":["import { CaretForwardOutline } from '@vicons/ionicons5'\nimport { debounce } from 'lodash'\n\nimport { useEditorStore } from '@/store/editor'\n\nexport default defineComponent({\n  name: 'BaseAttrs',\n  setup(props, { slots }) {\n    const editorStore = useEditorStore()\n    const { curPrimitive } = storeToRefs(editorStore)\n    const curStyleAttrs = computed(() => curPrimitive.value?.style)\n\n    const baseAttrsSource = [\n      {\n        label: 'X',\n        type: 'left'\n      },\n      {\n        label: 'Y',\n        type: 'top'\n      },\n      {\n        label: 'W',\n        type: 'width'\n      },\n      {\n        label: 'H',\n        type: 'height'\n      }\n    ]\n\n    // 动态修改primitive样式\n    const handleChangStyle = debounce((key: string, val: any) => {\n      const locationKeys = ['top', 'left', 'width', 'height']\n      if (locationKeys.includes(key)) {\n        curPrimitive.value?.updateStyleByKey(key, val)\n      }\n    }, 300)\n\n    return () => (\n      <NCollapse\n        defaultExpandedNames='baseAttrs'\n        v-slots={{\n          arrow: () => (\n            <NIcon size={12}>\n              <CaretForwardOutline />\n            </NIcon>\n          )\n        }}\n      >\n        <NCollapseItem\n          title='基础样式'\n          name='baseAttrs'\n          v-slots={{\n            default: () => (\n              <NForm size='small' showLabel={false}>\n                <NGrid xGap={12} cols={2}>\n                  {baseAttrsSource.map((item) => (\n                    <NGi>\n                      <NFormItem>\n                        <NInputNumber\n                          v-model:value={curStyleAttrs.value![item.type]}\n                          onUpdateValue={(e) => handleChangStyle(item.type, e)}\n                          max={9999}\n                          min={-9999}\n                          showButton={false}\n                          precision={0}\n                          clearable={true}\n                          placeholder={`请输入${item.label}`}\n                          v-slots={{\n                            prefix: () => item.label\n                          }}\n                        />\n                      </NFormItem>\n                    </NGi>\n                  ))}\n                </NGrid>\n              </NForm>\n            )\n          }}\n        ></NCollapseItem>\n        {slots.default?.()}\n      </NCollapse>\n    )\n  }\n})\n"],"names":["defineComponent","name","setup","props","slots","editorStore","useEditorStore","curPrimitive","storeToRefs","curStyleAttrs","computed","value","style","baseAttrsSource","label","type","handleChangStyle","debounce","key","val","includes","updateStyleByKey","_createVNode","_resolveComponent","defaultExpandedNames","default","title","_slot","size","showLabel","xGap","cols","s","map","item","$event","onUpdateValue","e","max","min","showButton","precision","clearable","placeholder","prefix","_isVNode","Object","prototype","toString","call","_a","arrow","CaretForwardOutline"],"mappings":"8aAKA,MAAeA,EAAgBA,EAAA,CAC7BC,KAAM,YACNC,KAAAA,CAAMC,GAAOC,MAAEA,IACb,MAAMC,EAAcC,KACdC,aAAEA,GAAiBC,EAAYH,GAC/BI,EAAgBC,GAAS,WAAMH,OAAAA,OAAAA,EAAAA,EAAaI,YAAOC,EAAAA,EAAAA,KAAAA,IAEnDC,EAAkB,CACtB,CACEC,MAAO,IACPC,KAAM,QAER,CACED,MAAO,IACPC,KAAM,OAER,CACED,MAAO,IACPC,KAAM,SAER,CACED,MAAO,IACPC,KAAM,WAKJC,EAAmBC,EAAAA,UAAS,CAACC,EAAaC,WACzB,CAAC,MAAO,OAAQ,QAAS,UAC7BC,SAASF,KACxBX,OAAaI,EAAAA,EAAAA,QAAOU,EAAAA,iBAAiBH,EAAKC,GAC5C,GACC,KAEI,MAAA,IAAAG,EAAAC,EAAA,CAAAC,qBAAA,aAAA,CAAAC,QAAAA,WAAAH,MAAAA,CAAAA,EAAAC,EAAA,CAAAG,MAAA,OAAAzB,KAAA,aAcQ,CACPwB,QAASA,KAAAE,IAAAA,EAAA,OAAAL,EAAAC,EAAA,CAAAK,KAAA,QAAAC,WACwB,GAAK,CAAAJ,QAAAA,KAAAH,OAAAA,EAAAC,EAAA,CAAAO,KACrB,GAAEC,KAAQ,IArDQC,EAqDPL,EACrBd,EAAgBoB,KAASX,GAAAA,EAAAC,EAAA,KAAA,CAAAE,QAAAA,IAAAH,CAAAA,EAAAC,EAAA,KAAA,CAAAE,QAAAA,IAAAH,CAAAA,EAAAC,EAAA,CAAAZ,MAIHF,EAAcE,MAAOuB,EAAKnB,MAAK,iBAA/BN,GAAAA,EAAcE,MAAOuB,EAAKnB,MAAKoB,EAAAC,cAC9BC,GAAMrB,EAAiBkB,EAAKnB,KAAMsB,GAAEC,IAC/C,KAAIC,KACJ,KAAKC,YACE,EAAKC,UACN,EAACC,WACD,EAAIC,YACD,MAAKT,EAAKpB,SACf,CACP8B,OAAQA,IAAMV,EAAKpB,gBAnEA,mBAAAkB,GAAAa,oBAAAC,OAAAC,UAAAC,SAAAC,KAAAjB,KAAAa,EAAAb,GAwE3BL,EAAA,CAAAF,QAAAA,IAAA,CAAAE,OAxE2B,IAAAK,CAwE3B,GAAA,IAMX5B,OAAAA,EAAMqB,EAAAA,cAAW,EAAAyB,EAAAD,KAAA7C,GAAA,EAtChB+C,MAAOA,IAAA7B,EAAAC,EAAA,CAAAK,KACQ,IAAE,CAAAH,QAAAA,IAAAH,CAAAA,EAAA8B,EAAA,KAAA,UAwCzB"}