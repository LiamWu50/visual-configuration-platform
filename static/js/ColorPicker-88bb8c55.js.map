{"version":3,"file":"ColorPicker-88bb8c55.js","sources":["../../../node_modules/seemly/es/color/convert.js","../../../node_modules/naive-ui/es/input/src/styles/input-group.cssr.js","../../../node_modules/naive-ui/es/input/src/InputGroup.js","../../../node_modules/naive-ui/es/color-picker/src/utils.js","../../../node_modules/naive-ui/es/color-picker/src/HueSlider.js","../../../node_modules/naive-ui/es/color-picker/src/AlphaSlider.js","../../../node_modules/naive-ui/es/color-picker/src/Pallete.js","../../../node_modules/naive-ui/es/color-picker/src/context.js","../../../node_modules/naive-ui/es/color-picker/src/ColorInputUnit.js","../../../node_modules/naive-ui/es/color-picker/src/ColorInput.js","../../../node_modules/naive-ui/es/color-picker/src/ColorPickerTrigger.js","../../../node_modules/naive-ui/es/color-picker/src/ColorPickerSwatches.js","../../../node_modules/naive-ui/es/color-picker/src/ColorPreview.js","../../../node_modules/naive-ui/es/color-picker/src/styles/index.cssr.js","../../../node_modules/naive-ui/es/color-picker/src/ColorPicker.js"],"sourcesContent":["// All the algorithms credit to https://stackoverflow.com/questions/36721830/convert-hsl-to-rgb-and-hex/54014428#54014428\n// original author: Kamil KieÅ‚czewski\n/**\n * @param h 360\n * @param s 100\n * @param l 100\n * @returns [h, s, v] 360, 100, 100\n */\nexport function hsl2hsv(h, s, l) {\n    s /= 100;\n    l /= 100;\n    const v = s * Math.min(l, 1 - l) + l;\n    return [h, v ? (2 - (2 * l) / v) * 100 : 0, v * 100];\n}\n/**\n * @param h 360\n * @param s 100\n * @param v 100\n * @returns [h, s, l] 360, 100, 100\n */\nexport function hsv2hsl(h, s, v) {\n    s /= 100;\n    v /= 100;\n    const l = v - (v * s) / 2;\n    const m = Math.min(l, 1 - l);\n    return [h, m ? ((v - l) / m) * 100 : 0, l * 100];\n}\n/**\n * @param h 360\n * @param s 100\n * @param v 100\n * @returns [r, g, b] 255, 255, 255\n */\nexport function hsv2rgb(h, s, v) {\n    s /= 100;\n    v /= 100;\n    let f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);\n    return [f(5) * 255, f(3) * 255, f(1) * 255];\n}\n/**\n * @param r 255\n * @param g 255\n * @param b 255\n * @returns [360, 100, 100]\n */\nexport function rgb2hsv(r, g, b) {\n    r /= 255;\n    g /= 255;\n    b /= 255;\n    let v = Math.max(r, g, b), c = v - Math.min(r, g, b);\n    let h = c && (v == r ? (g - b) / c : v == g ? 2 + (b - r) / c : 4 + (r - g) / c);\n    return [60 * (h < 0 ? h + 6 : h), v && (c / v) * 100, v * 100];\n}\n/**\n * @param r 255\n * @param g 255\n * @param b 255\n * @returns [360, 100, 100]\n */\nexport function rgb2hsl(r, g, b) {\n    r /= 255;\n    g /= 255;\n    b /= 255;\n    let v = Math.max(r, g, b), c = v - Math.min(r, g, b), f = 1 - Math.abs(v + v - c - 1);\n    let h = c && (v == r ? (g - b) / c : v == g ? 2 + (b - r) / c : 4 + (r - g) / c);\n    return [60 * (h < 0 ? h + 6 : h), f ? (c / f) * 100 : 0, (v + v - c) * 50];\n}\n/**\n * @param h 360\n * @param s 100\n * @param l 100\n * @returns [255, 255, 255]\n */\nexport function hsl2rgb(h, s, l) {\n    s /= 100;\n    l /= 100;\n    let a = s * Math.min(l, 1 - l);\n    let f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n    return [f(0) * 255, f(8) * 255, f(4) * 255];\n}\n","import { c, cB, cE } from '../../../_utils/cssr';\nexport default cB('input-group', `\n display: inline-flex;\n width: 100%;\n flex-wrap: nowrap;\n vertical-align: bottom;\n`, [c('>', [cB('input', [c('&:not(:last-child)', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `), c('&:not(:first-child)', `\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n margin-left: -1px!important;\n `)]), cB('button', [c('&:not(:last-child)', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `, [cE('state-border, border', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `)]), c('&:not(:first-child)', `\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n `, [cE('state-border, border', `\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n `)])]), c('*', [c('&:not(:last-child)', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `, [c('>', [cB('input', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `), cB('base-selection', [cB('base-selection-label', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `), cB('base-selection-tags', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `), cE('box-shadow, border, state-border', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `)])])]), c('&:not(:first-child)', `\n margin-left: -1px!important;\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n `, [c('>', [cB('input', `\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n `), cB('base-selection', [cB('base-selection-label', `\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n `), cB('base-selection-tags', `\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n `), cE('box-shadow, border, state-border', `\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n `)])])])])])]);","import { h, defineComponent } from 'vue';\nimport { useConfig, useStyle } from '../../_mixins';\nimport style from './styles/input-group.cssr';\nexport const inputGroupProps = {};\nexport default defineComponent({\n    name: 'InputGroup',\n    props: inputGroupProps,\n    setup(props) {\n        const { mergedClsPrefixRef } = useConfig(props);\n        useStyle('-input-group', style, mergedClsPrefixRef);\n        return {\n            mergedClsPrefix: mergedClsPrefixRef\n        };\n    },\n    render() {\n        const { mergedClsPrefix } = this;\n        return h(\"div\", { class: `${mergedClsPrefix}-input-group` }, this.$slots);\n    }\n});\n","import { hsl2hsv, hsl2rgb, hsla, hsv2hsl, hsv2rgb, hsva, rgb2hsl, rgb2hsv, rgba, toHexaString, toHslaString, toHsvaString, toRgbaString } from 'seemly';\nimport { warn } from '../../_utils';\nexport function deriveDefaultValue(modes, showAlpha) {\n    const mode = modes[0];\n    switch (mode) {\n        case 'hex':\n            return showAlpha ? '#000000FF' : '#000000';\n        case 'rgb':\n            return showAlpha ? 'rgba(0, 0, 0, 1)' : 'rgb(0, 0, 0)';\n        case 'hsl':\n            return showAlpha ? 'hsla(0, 0%, 0%, 1)' : 'hsl(0, 0%, 0%)';\n        case 'hsv':\n            return showAlpha ? 'hsva(0, 0%, 0%, 1)' : 'hsv(0, 0%, 0%)';\n    }\n    if (process.env.NODE_ENV !== 'production')\n        warn('color-picker', 'props.modes is invalid.');\n    // in case of invalid modes\n    return '#000000';\n}\nexport function getModeFromValue(color) {\n    if (color === null)\n        return null;\n    if (/^ *#/.test(color))\n        return 'hex';\n    if (color.includes('rgb'))\n        return 'rgb';\n    if (color.includes('hsl'))\n        return 'hsl';\n    if (color.includes('hsv'))\n        return 'hsv';\n    return null;\n}\nexport function floor(color) {\n    return color.map((channel) => Math.floor(channel));\n}\nexport function normalizeHue(hue) {\n    hue = Math.round(hue);\n    return hue >= 360 ? 359 : hue < 0 ? 0 : hue;\n}\nexport function normalizeAlpha(alpha) {\n    alpha = Math.round(alpha * 100) / 100;\n    return alpha > 1 ? 1 : alpha < 0 ? 0 : alpha;\n}\nconst convert = {\n    rgb: {\n        hex(value) {\n            return toHexaString(rgba(value));\n        },\n        hsl(value) {\n            const [r, g, b, a] = rgba(value);\n            return toHslaString([...rgb2hsl(r, g, b), a]);\n        },\n        hsv(value) {\n            const [r, g, b, a] = rgba(value);\n            return toHsvaString([...rgb2hsv(r, g, b), a]);\n        }\n    },\n    hex: {\n        rgb(value) {\n            return toRgbaString(rgba(value));\n        },\n        hsl(value) {\n            const [r, g, b, a] = rgba(value);\n            return toHslaString([...rgb2hsl(r, g, b), a]);\n        },\n        hsv(value) {\n            const [r, g, b, a] = rgba(value);\n            return toHsvaString([...rgb2hsv(r, g, b), a]);\n        }\n    },\n    hsl: {\n        hex(value) {\n            const [h, s, l, a] = hsla(value);\n            return toHexaString([...hsl2rgb(h, s, l), a]);\n        },\n        rgb(value) {\n            const [h, s, l, a] = hsla(value);\n            return toRgbaString([...hsl2rgb(h, s, l), a]);\n        },\n        hsv(value) {\n            const [h, s, l, a] = hsla(value);\n            return toHsvaString([...hsl2hsv(h, s, l), a]);\n        }\n    },\n    hsv: {\n        hex(value) {\n            const [h, s, v, a] = hsva(value);\n            return toHexaString([...hsv2rgb(h, s, v), a]);\n        },\n        rgb(value) {\n            const [h, s, v, a] = hsva(value);\n            return toRgbaString([...hsv2rgb(h, s, v), a]);\n        },\n        hsl(value) {\n            const [h, s, v, a] = hsva(value);\n            return toHslaString([...hsv2hsl(h, s, v), a]);\n        }\n    }\n};\n// implementation\nexport function convertColor(value, mode, originalMode) {\n    originalMode = originalMode || getModeFromValue(value);\n    if (!originalMode)\n        return null;\n    if (originalMode === mode)\n        return value;\n    const conversions = convert[originalMode];\n    return conversions[mode](value);\n}\n","import { defineComponent, h, ref } from 'vue';\nimport { off, on } from 'evtd';\nimport { normalizeHue } from './utils';\nconst HANDLE_SIZE = '12px';\nconst HANDLE_SIZE_NUM = 12;\nconst RADIUS = '6px';\nconst RADIUS_NUM = 6;\nconst GRADIENT = 'linear-gradient(90deg,red,#ff0 16.66%,#0f0 33.33%,#0ff 50%,#00f 66.66%,#f0f 83.33%,red)';\nexport default defineComponent({\n    name: 'HueSlider',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        hue: {\n            type: Number,\n            required: true\n        },\n        onUpdateHue: {\n            type: Function,\n            required: true\n        },\n        onComplete: Function\n    },\n    setup(props) {\n        const railRef = ref(null);\n        function handleMouseDown(e) {\n            if (!railRef.value)\n                return;\n            on('mousemove', document, handleMouseMove);\n            on('mouseup', document, handleMouseUp);\n            handleMouseMove(e);\n        }\n        function handleMouseMove(e) {\n            const { value: railEl } = railRef;\n            if (!railEl)\n                return;\n            const { width, left } = railEl.getBoundingClientRect();\n            const newHue = normalizeHue(((e.clientX - left - RADIUS_NUM) / (width - HANDLE_SIZE_NUM)) * 360);\n            props.onUpdateHue(newHue);\n        }\n        function handleMouseUp() {\n            var _a;\n            off('mousemove', document, handleMouseMove);\n            off('mouseup', document, handleMouseUp);\n            (_a = props.onComplete) === null || _a === void 0 ? void 0 : _a.call(props);\n        }\n        return {\n            railRef,\n            handleMouseDown\n        };\n    },\n    render() {\n        const { clsPrefix } = this;\n        return (h(\"div\", { class: `${clsPrefix}-color-picker-slider`, style: {\n                height: HANDLE_SIZE,\n                borderRadius: RADIUS\n            } },\n            h(\"div\", { ref: \"railRef\", style: {\n                    boxShadow: 'inset 0 0 2px 0 rgba(0, 0, 0, .24)',\n                    boxSizing: 'border-box',\n                    backgroundImage: GRADIENT,\n                    height: HANDLE_SIZE,\n                    borderRadius: RADIUS,\n                    position: 'relative'\n                }, onMousedown: this.handleMouseDown },\n                h(\"div\", { style: {\n                        position: 'absolute',\n                        left: RADIUS,\n                        right: RADIUS,\n                        top: 0,\n                        bottom: 0\n                    } },\n                    h(\"div\", { class: `${clsPrefix}-color-picker-handle`, style: {\n                            left: `calc((${this.hue}%) / 359 * 100 - ${RADIUS})`,\n                            borderRadius: RADIUS,\n                            width: HANDLE_SIZE,\n                            height: HANDLE_SIZE\n                        } },\n                        h(\"div\", { class: `${clsPrefix}-color-picker-handle__fill`, style: {\n                                backgroundColor: `hsl(${this.hue}, 100%, 50%)`,\n                                borderRadius: RADIUS,\n                                width: HANDLE_SIZE,\n                                height: HANDLE_SIZE\n                            } }))))));\n    }\n});\n","import { computed, defineComponent, h, ref } from 'vue';\nimport { off, on } from 'evtd';\nimport { toRgbaString } from 'seemly';\nimport { normalizeAlpha } from './utils';\nconst HANDLE_SIZE = '12px';\nconst HANDLE_SIZE_NUM = 12;\nconst RADIUS = '6px';\nexport default defineComponent({\n    name: 'AlphaSlider',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        rgba: {\n            type: Array,\n            default: null\n        },\n        alpha: {\n            type: Number,\n            default: 0\n        },\n        onUpdateAlpha: {\n            type: Function,\n            required: true\n        },\n        onComplete: Function\n    },\n    setup(props) {\n        const railRef = ref(null);\n        function handleMouseDown(e) {\n            if (!railRef.value || !props.rgba)\n                return;\n            on('mousemove', document, handleMouseMove);\n            on('mouseup', document, handleMouseUp);\n            handleMouseMove(e);\n        }\n        function handleMouseMove(e) {\n            const { value: railEl } = railRef;\n            if (!railEl)\n                return;\n            const { width, left } = railEl.getBoundingClientRect();\n            const newAlpha = (e.clientX - left) / (width - HANDLE_SIZE_NUM);\n            props.onUpdateAlpha(normalizeAlpha(newAlpha));\n        }\n        function handleMouseUp() {\n            var _a;\n            off('mousemove', document, handleMouseMove);\n            off('mouseup', document, handleMouseUp);\n            (_a = props.onComplete) === null || _a === void 0 ? void 0 : _a.call(props);\n        }\n        return {\n            railRef,\n            railBackgroundImage: computed(() => {\n                const { rgba } = props;\n                if (!rgba)\n                    return '';\n                return `linear-gradient(to right, rgba(${rgba[0]}, ${rgba[1]}, ${rgba[2]}, 0) 0%, rgba(${rgba[0]}, ${rgba[1]}, ${rgba[2]}, 1) 100%)`;\n            }),\n            handleMouseDown\n        };\n    },\n    render() {\n        const { clsPrefix } = this;\n        return (h(\"div\", { class: `${clsPrefix}-color-picker-slider`, ref: \"railRef\", style: {\n                height: HANDLE_SIZE,\n                borderRadius: RADIUS\n            }, onMousedown: this.handleMouseDown },\n            h(\"div\", { style: {\n                    borderRadius: RADIUS,\n                    position: 'absolute',\n                    left: 0,\n                    right: 0,\n                    top: 0,\n                    bottom: 0,\n                    overflow: 'hidden'\n                } },\n                h(\"div\", { class: `${clsPrefix}-color-picker-checkboard` }),\n                h(\"div\", { class: `${clsPrefix}-color-picker-slider__image`, style: {\n                        backgroundImage: this.railBackgroundImage\n                    } })),\n            this.rgba && (h(\"div\", { style: {\n                    position: 'absolute',\n                    left: RADIUS,\n                    right: RADIUS,\n                    top: 0,\n                    bottom: 0\n                } },\n                h(\"div\", { class: `${clsPrefix}-color-picker-handle`, style: {\n                        left: `calc(${this.alpha * 100}% - ${RADIUS})`,\n                        borderRadius: RADIUS,\n                        width: HANDLE_SIZE,\n                        height: HANDLE_SIZE\n                    } },\n                    h(\"div\", { class: `${clsPrefix}-color-picker-handle__fill`, style: {\n                            backgroundColor: toRgbaString(this.rgba),\n                            borderRadius: RADIUS,\n                            width: HANDLE_SIZE,\n                            height: HANDLE_SIZE\n                        } }))))));\n    }\n});\n","import { on, off } from 'evtd';\nimport { computed, defineComponent, h, ref } from 'vue';\nconst HANDLE_SIZE = '12px';\nconst RADIUS = '6px';\nexport default defineComponent({\n    name: 'Pallete',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        rgba: {\n            type: Array,\n            default: null\n        },\n        // 0 - 360\n        displayedHue: {\n            type: Number,\n            required: true\n        },\n        displayedSv: {\n            type: Array,\n            required: true\n        },\n        onUpdateSV: {\n            type: Function,\n            required: true\n        },\n        onComplete: Function\n    },\n    setup(props) {\n        const palleteRef = ref(null);\n        function handleMouseDown(e) {\n            if (!palleteRef.value)\n                return;\n            on('mousemove', document, handleMouseMove);\n            on('mouseup', document, handleMouseUp);\n            handleMouseMove(e);\n        }\n        function handleMouseMove(e) {\n            const { value: palleteEl } = palleteRef;\n            if (!palleteEl)\n                return;\n            const { width, height, left, bottom } = palleteEl.getBoundingClientRect();\n            const newV = (bottom - e.clientY) / height;\n            const newS = (e.clientX - left) / width;\n            const normalizedNewS = 100 * (newS > 1 ? 1 : newS < 0 ? 0 : newS);\n            const normalizedNewV = 100 * (newV > 1 ? 1 : newV < 0 ? 0 : newV);\n            props.onUpdateSV(normalizedNewS, normalizedNewV);\n        }\n        function handleMouseUp() {\n            var _a;\n            off('mousemove', document, handleMouseMove);\n            off('mouseup', document, handleMouseUp);\n            (_a = props.onComplete) === null || _a === void 0 ? void 0 : _a.call(props);\n        }\n        return {\n            palleteRef,\n            handleColor: computed(() => {\n                const { rgba } = props;\n                if (!rgba)\n                    return '';\n                return `rgb(${rgba[0]}, ${rgba[1]}, ${rgba[2]})`;\n            }),\n            handleMouseDown\n        };\n    },\n    render() {\n        const { clsPrefix } = this;\n        return (h(\"div\", { class: `${clsPrefix}-color-picker-pallete`, onMousedown: this.handleMouseDown, ref: \"palleteRef\" },\n            h(\"div\", { class: `${clsPrefix}-color-picker-pallete__layer`, style: {\n                    backgroundImage: `linear-gradient(90deg, white, hsl(${this.displayedHue}, 100%, 50%))`\n                } }),\n            h(\"div\", { class: `${clsPrefix}-color-picker-pallete__layer ${clsPrefix}-color-picker-pallete__layer--shadowed`, style: {\n                    backgroundImage: 'linear-gradient(180deg, rgba(0, 0, 0, 0%), rgba(0, 0, 0, 100%))'\n                } }),\n            this.rgba && (h(\"div\", { class: `${clsPrefix}-color-picker-handle`, style: {\n                    width: HANDLE_SIZE,\n                    height: HANDLE_SIZE,\n                    borderRadius: RADIUS,\n                    left: `calc(${this.displayedSv[0]}% - ${RADIUS})`,\n                    bottom: `calc(${this.displayedSv[1]}% - ${RADIUS})`\n                } },\n                h(\"div\", { class: `${clsPrefix}-color-picker-handle__fill`, style: {\n                        backgroundColor: this.handleColor,\n                        borderRadius: RADIUS,\n                        width: HANDLE_SIZE,\n                        height: HANDLE_SIZE\n                    } })))));\n    }\n});\n","import { createInjectionKey } from '../../_utils';\nexport const colorPickerInjectionKey = createInjectionKey('n-color-picker');\n","import { defineComponent, h, inject, ref, watchEffect } from 'vue';\nimport { NInput } from '../../input';\nimport { colorPickerInjectionKey } from './context';\n// 0 - 255\nfunction normalizeRgbUnit(value) {\n    if (/^\\d{1,3}\\.?\\d*$/.test(value.trim())) {\n        return Math.max(0, Math.min(parseInt(value), 255));\n    }\n    return false;\n}\n// 0 - 360\nfunction normalizeHueUnit(value) {\n    if (/^\\d{1,3}\\.?\\d*$/.test(value.trim())) {\n        return Math.max(0, Math.min(parseInt(value), 360));\n    }\n    return false;\n}\n// 0 - 100\nfunction normalizeSlvUnit(value) {\n    if (/^\\d{1,3}\\.?\\d*$/.test(value.trim())) {\n        return Math.max(0, Math.min(parseInt(value), 100));\n    }\n    return false;\n}\nfunction normalizeHexaUnit(value) {\n    const trimmedValue = value.trim();\n    if (/^#[0-9a-fA-F]+$/.test(trimmedValue)) {\n        return [4, 5, 7, 9].includes(trimmedValue.length);\n    }\n    return false;\n}\n// 0 - 100%\nfunction normalizeAlphaUnit(value) {\n    if (/^\\d{1,3}\\.?\\d*%$/.test(value.trim())) {\n        return Math.max(0, Math.min(parseInt(value) / 100, 100));\n    }\n    return false;\n}\nconst inputThemeOverrides = {\n    paddingSmall: '0 4px'\n};\nexport default defineComponent({\n    name: 'ColorInputUnit',\n    props: {\n        label: {\n            type: String,\n            required: true\n        },\n        value: {\n            type: [Number, String],\n            default: null\n        },\n        showAlpha: Boolean,\n        onUpdateValue: {\n            type: Function,\n            required: true\n        }\n    },\n    setup(props) {\n        const inputValueRef = ref('');\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const { themeRef } = inject(colorPickerInjectionKey, null);\n        watchEffect(() => {\n            inputValueRef.value = getInputString();\n        });\n        function getInputString() {\n            const { value } = props;\n            if (value === null)\n                return '';\n            const { label } = props;\n            if (label === 'HEX') {\n                return value;\n            }\n            if (label === 'A') {\n                return `${Math.floor(value * 100)}%`;\n            }\n            return String(Math.floor(value));\n        }\n        function handleInputUpdateValue(value) {\n            inputValueRef.value = value;\n        }\n        function handleInputChange(value) {\n            let unit;\n            let valid;\n            switch (props.label) {\n                case 'HEX':\n                    valid = normalizeHexaUnit(value);\n                    if (valid) {\n                        props.onUpdateValue(value);\n                    }\n                    inputValueRef.value = getInputString(); // to normalized new value\n                    break;\n                case 'H':\n                    unit = normalizeHueUnit(value);\n                    if (unit === false) {\n                        inputValueRef.value = getInputString();\n                    }\n                    else {\n                        props.onUpdateValue(unit);\n                    }\n                    break;\n                case 'S':\n                case 'L':\n                case 'V':\n                    unit = normalizeSlvUnit(value);\n                    if (unit === false) {\n                        inputValueRef.value = getInputString();\n                    }\n                    else {\n                        props.onUpdateValue(unit);\n                    }\n                    break;\n                case 'A':\n                    unit = normalizeAlphaUnit(value);\n                    if (unit === false) {\n                        inputValueRef.value = getInputString();\n                    }\n                    else {\n                        props.onUpdateValue(unit);\n                    }\n                    break;\n                case 'R':\n                case 'G':\n                case 'B':\n                    unit = normalizeRgbUnit(value);\n                    if (unit === false) {\n                        inputValueRef.value = getInputString();\n                    }\n                    else {\n                        props.onUpdateValue(unit);\n                    }\n                    break;\n            }\n        }\n        return {\n            mergedTheme: themeRef,\n            inputValue: inputValueRef,\n            handleInputChange,\n            handleInputUpdateValue\n        };\n    },\n    render() {\n        const { mergedTheme } = this;\n        return (h(NInput, { size: \"small\", placeholder: this.label, theme: mergedTheme.peers.Input, themeOverrides: mergedTheme.peerOverrides.Input, builtinThemeOverrides: inputThemeOverrides, value: this.inputValue, onUpdateValue: this.handleInputUpdateValue, onChange: this.handleInputChange, \n            // add more space for xxx% input\n            style: this.label === 'A' ? 'flex-grow: 1.25;' : '' }));\n    }\n});\n","import { toHsvaString, toRgbaString, toHslaString, toHexaString, toHexString, toHsvString, toRgbString, toHslString } from 'seemly';\nimport { h, defineComponent } from 'vue';\nimport { NInputGroup } from '../../input';\nimport ColorInputUnit from './ColorInputUnit';\nexport default defineComponent({\n    name: 'ColorInput',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        mode: {\n            type: String,\n            required: true\n        },\n        modes: {\n            type: Array,\n            required: true\n        },\n        showAlpha: {\n            type: Boolean,\n            required: true\n        },\n        value: {\n            // for hex to get percise value\n            type: String,\n            default: null\n        },\n        valueArr: {\n            type: Array,\n            default: null\n        },\n        onUpdateValue: {\n            type: Function,\n            required: true\n        },\n        onUpdateMode: {\n            type: Function,\n            required: true\n        }\n    },\n    setup(props) {\n        return {\n            handleUnitUpdateValue(index, value) {\n                const { showAlpha } = props;\n                if (props.mode === 'hex') {\n                    props.onUpdateValue((showAlpha ? toHexaString : toHexString)(value));\n                    return;\n                }\n                let nextValueArr;\n                if (props.valueArr === null) {\n                    nextValueArr = [0, 0, 0, 0];\n                }\n                else {\n                    nextValueArr = Array.from(props.valueArr);\n                }\n                switch (props.mode) {\n                    case 'hsv':\n                        nextValueArr[index] = value;\n                        props.onUpdateValue((showAlpha ? toHsvaString : toHsvString)(nextValueArr));\n                        break;\n                    case 'rgb':\n                        nextValueArr[index] = value;\n                        props.onUpdateValue((showAlpha ? toRgbaString : toRgbString)(nextValueArr));\n                        break;\n                    case 'hsl':\n                        nextValueArr[index] = value;\n                        props.onUpdateValue((showAlpha ? toHslaString : toHslString)(nextValueArr));\n                        break;\n                }\n            }\n        };\n    },\n    render() {\n        const { clsPrefix, modes } = this;\n        return (h(\"div\", { class: `${clsPrefix}-color-picker-input` },\n            h(\"div\", { class: `${clsPrefix}-color-picker-input__mode`, onClick: this.onUpdateMode, style: {\n                    cursor: modes.length === 1 ? '' : 'pointer'\n                } }, this.mode.toUpperCase() + (this.showAlpha ? 'A' : '')),\n            h(NInputGroup, null, {\n                default: () => {\n                    const { mode, valueArr, showAlpha } = this;\n                    if (mode === 'hex') {\n                        // hex and rgba shares the same value arr\n                        let hexValue = null;\n                        try {\n                            hexValue =\n                                valueArr === null\n                                    ? null\n                                    : (showAlpha ? toHexaString : toHexString)(valueArr);\n                        }\n                        catch (_a) { }\n                        return (h(ColorInputUnit, { label: 'HEX', showAlpha: showAlpha, value: hexValue, onUpdateValue: (unitValue) => {\n                                this.handleUnitUpdateValue(0, unitValue);\n                            } }));\n                    }\n                    return (mode + (showAlpha ? 'a' : '')).split('').map((v, i) => (h(ColorInputUnit, { label: v.toUpperCase(), value: valueArr === null ? null : valueArr[i], onUpdateValue: (unitValue) => {\n                            this.handleUnitUpdateValue(i, unitValue);\n                        } })));\n                }\n            })));\n    }\n});\n","import { toHslaString } from 'seemly';\nimport { defineComponent, h, inject } from 'vue';\nimport { colorPickerInjectionKey } from './context';\nexport default defineComponent({\n    name: 'ColorPickerTrigger',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        value: {\n            type: String,\n            default: null\n        },\n        hsla: {\n            type: Array,\n            default: null\n        },\n        disabled: Boolean,\n        onClick: Function\n    },\n    setup(props) {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const { colorPickerSlots, renderLabelRef } = inject(colorPickerInjectionKey, null);\n        return () => {\n            const { hsla, value, clsPrefix, onClick, disabled } = props;\n            const renderLabel = colorPickerSlots.label || renderLabelRef.value;\n            return (h(\"div\", { class: [\n                    `${clsPrefix}-color-picker-trigger`,\n                    disabled && `${clsPrefix}-color-picker-trigger--disabled`\n                ], onClick: disabled ? undefined : onClick },\n                h(\"div\", { class: `${clsPrefix}-color-picker-trigger__fill` },\n                    h(\"div\", { class: `${clsPrefix}-color-picker-checkboard` }),\n                    h(\"div\", { style: {\n                            position: 'absolute',\n                            left: 0,\n                            right: 0,\n                            top: 0,\n                            bottom: 0,\n                            backgroundColor: hsla ? toHslaString(hsla) : ''\n                        } }),\n                    value && hsla ? (h(\"div\", { class: `${clsPrefix}-color-picker-trigger__value`, style: {\n                            color: hsla[2] > 50 || hsla[3] < 0.5 ? 'black' : 'white'\n                        } }, renderLabel ? renderLabel(value) : value)) : null)));\n        };\n    }\n});\n","import { defineComponent, h, computed } from 'vue';\nimport { hsv2rgb, hsva, toRgbaString } from 'seemly';\nimport { convertColor, getModeFromValue } from './utils';\nimport { warn } from '../../_utils';\n// Try to normalize the color values to ensure that they are valid CSS colors\nfunction normalizeColor(color, mode) {\n    if (mode === 'hsv') {\n        const [h, s, v, a] = hsva(color);\n        return toRgbaString([...hsv2rgb(h, s, v), a]);\n    }\n    // For the mode that is not in preset, we keep the original value.\n    // For color names, they are legal to CSS, so we donâ€™t deal with them,\n    // and only standardize them when outputting.\n    return color;\n}\nfunction getHexFromName(color) {\n    const ctx = document\n        .createElement('canvas')\n        .getContext('2d');\n    ctx.fillStyle = color;\n    return ctx.fillStyle;\n}\nexport default defineComponent({\n    name: 'ColorPickerSwatches',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        mode: {\n            type: String,\n            required: true\n        },\n        swatches: {\n            type: Array,\n            required: true\n        },\n        onUpdateColor: {\n            type: Function,\n            required: true\n        }\n    },\n    setup(props) {\n        const parsedSwatchesRef = computed(() => props.swatches.map((value) => {\n            const mode = getModeFromValue(value);\n            return {\n                value,\n                mode,\n                legalValue: normalizeColor(value, mode)\n            };\n        }));\n        function normalizeOutput(parsed) {\n            const { mode: modeProp } = props;\n            let { value, mode: swatchColorMode } = parsed;\n            // color name is converted to hex\n            if (!swatchColorMode) {\n                swatchColorMode = 'hex';\n                if (/^[a-zA-Z]+$/.test(value)) {\n                    value = getHexFromName(value);\n                }\n                else {\n                    // for invalid color, we make it black\n                    warn('color-picker', `color ${value} in swatches is invalid.`);\n                    value = '#000000';\n                }\n            }\n            if (swatchColorMode === modeProp)\n                return value;\n            // swatch value to current mode value\n            return convertColor(value, modeProp, swatchColorMode);\n        }\n        function handleSwatchSelect(parsed) {\n            props.onUpdateColor(normalizeOutput(parsed));\n        }\n        function handleSwatchKeyDown(e, parsed) {\n            if (e.key === 'Enter')\n                handleSwatchSelect(parsed);\n        }\n        return {\n            parsedSwatchesRef,\n            handleSwatchSelect,\n            handleSwatchKeyDown\n        };\n    },\n    render() {\n        const { clsPrefix } = this;\n        return (h(\"div\", { class: `${clsPrefix}-color-picker-swatches` }, this.parsedSwatchesRef.map((swatch) => (h(\"div\", { class: `${clsPrefix}-color-picker-swatch`, tabindex: 0, onClick: () => {\n                this.handleSwatchSelect(swatch);\n            }, onKeydown: (e) => {\n                this.handleSwatchKeyDown(e, swatch);\n            } },\n            h(\"div\", { class: `${clsPrefix}-color-picker-swatch__fill`, style: { background: swatch.legalValue } }))))));\n    }\n});\n","import { defineComponent, h } from 'vue';\nimport { convertColor, getModeFromValue } from './utils';\nexport default defineComponent({\n    name: 'ColorPreview',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        mode: {\n            type: String,\n            required: true\n        },\n        color: {\n            type: String,\n            default: null,\n            validator: (value) => {\n                const mode = getModeFromValue(value);\n                return Boolean(!value || (mode && mode !== 'hsv'));\n            }\n        },\n        onUpdateColor: {\n            type: Function,\n            required: true\n        }\n    },\n    setup(props) {\n        function handleChange(e) {\n            var _a;\n            // hex\n            const value = e.target.value;\n            (_a = props.onUpdateColor) === null || _a === void 0 ? void 0 : _a.call(props, convertColor(value.toUpperCase(), props.mode, 'hex'));\n            e.stopPropagation();\n        }\n        return {\n            handleChange\n        };\n    },\n    render() {\n        const { clsPrefix } = this;\n        return (h(\"div\", { class: `${clsPrefix}-color-picker-preview__preview` },\n            h(\"span\", { class: `${clsPrefix}-color-picker-preview__fill`, style: {\n                    background: this.color || '#000000'\n                } }),\n            h(\"input\", { class: `${clsPrefix}-color-picker-preview__input`, type: \"color\", value: this.color, onChange: this.handleChange })));\n    }\n});\n","import { c, cB, cE, cM } from '../../../_utils/cssr';\nimport { fadeInScaleUpTransition } from '../../../_styles/transitions/fade-in-scale-up.cssr';\n// vars:\n// --n-color\n// --n-text-color\n// --n-border-radius\n// --n-panel-font-size\n// --n-font-size\n// --n-bezier\n// --n-height\n// --n-box-shadow\n// --n-divider-color\nexport default c([cB('color-picker', `\n display: inline-block;\n box-sizing: border-box;\n height: var(--n-height);\n font-size: var(--n-font-size);\n width: 100%;\n position: relative;\n `), cB('color-picker-panel', `\n margin: 4px 0;\n width: 240px;\n font-size: var(--n-panel-font-size);\n color: var(--n-text-color);\n background-color: var(--n-color);\n transition:\n box-shadow .3s var(--n-bezier),\n color .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n border-radius: var(--n-border-radius);\n box-shadow: var(--n-box-shadow);\n `, [fadeInScaleUpTransition(), cB('input', `\n text-align: center;\n `)]), cB('color-picker-checkboard', `\n background: white; \n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n `, [c('&::after', `\n background-image: linear-gradient(45deg, #DDD 25%, #0000 25%), linear-gradient(-45deg, #DDD 25%, #0000 25%), linear-gradient(45deg, #0000 75%, #DDD 75%), linear-gradient(-45deg, #0000 75%, #DDD 75%);\n background-size: 12px 12px;\n background-position: 0 0, 0 6px, 6px -6px, -6px 0px;\n background-repeat: repeat;\n content: \"\";\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n `)]), cB('color-picker-slider', `\n margin-bottom: 8px;\n position: relative;\n box-sizing: border-box;\n `, [cE('image', `\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n `), c('&::after', `\n content: \"\";\n position: absolute;\n border-radius: inherit;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n box-shadow: inset 0 0 2px 0 rgba(0, 0, 0, .24);\n pointer-events: none;\n `)]), cB('color-picker-handle', `\n z-index: 1;\n box-shadow: 0 0 2px 0 rgba(0, 0, 0, .45);\n position: absolute;\n background-color: white;\n overflow: hidden;\n `, [cE('fill', `\n box-sizing: border-box;\n border: 2px solid white;\n `)]), cB('color-picker-pallete', `\n height: 180px;\n position: relative;\n margin-bottom: 8px;\n cursor: crosshair;\n `, [cE('layer', `\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n `, [cM('shadowed', `\n box-shadow: inset 0 0 2px 0 rgba(0, 0, 0, .24);\n `)])]), cB('color-picker-preview', `\n display: flex;\n `, [cE('sliders', `\n flex: 1 0 auto;\n `), cE('preview', `\n position: relative;\n height: 30px;\n width: 30px;\n margin: 0 0 8px 6px;\n border-radius: 50%;\n box-shadow: rgba(0, 0, 0, .15) 0px 0px 0px 1px inset;\n overflow: hidden;\n `), cE('fill', `\n display: block;\n width: 30px;\n height: 30px;\n `), cE('input', `\n position: absolute;\n top: 0;\n left: 0;\n width: 30px;\n height: 30px;\n opacity: 0;\n z-index: 1;\n `)]), cB('color-picker-input', `\n display: flex;\n align-items: center;\n `, [cB('input', `\n flex-grow: 1;\n flex-basis: 0;\n `), cE('mode', `\n width: 72px;\n text-align: center;\n `)]), cB('color-picker-control', `\n padding: 12px;\n `), cB('color-picker-action', `\n display: flex;\n margin-top: -4px;\n border-top: 1px solid var(--n-divider-color);\n padding: 8px 12px;\n justify-content: flex-end;\n `, [cB('button', 'margin-left: 8px;')]), cB('color-picker-trigger', `\n border: var(--n-border);\n height: 100%;\n box-sizing: border-box;\n border-radius: var(--n-border-radius);\n transition: border-color .3s var(--n-bezier);\n cursor: pointer;\n `, [cE('value', `\n white-space: nowrap;\n position: relative;\n `), cE('fill', `\n border-radius: var(--n-border-radius);\n position: absolute;\n display: flex;\n align-items: center;\n justify-content: center;\n left: 4px;\n right: 4px;\n top: 4px;\n bottom: 4px;\n `), cM('disabled', 'cursor: not-allowed'), cB('color-picker-checkboard', `\n border-radius: var(--n-border-radius);\n `, [c('&::after', `\n --n-block-size: calc((var(--n-height) - 8px) / 3);\n background-size: calc(var(--n-block-size) * 2) calc(var(--n-block-size) * 2);\n background-position: 0 0, 0 var(--n-block-size), var(--n-block-size) calc(-1 * var(--n-block-size)), calc(-1 * var(--n-block-size)) 0px; \n `)])]), cB('color-picker-swatches', `\n display: grid;\n grid-gap: 8px;\n flex-wrap: wrap;\n position: relative;\n grid-template-columns: repeat(auto-fill, 18px);\n margin-top: 10px;\n `, [cB('color-picker-swatch', `\n width: 18px;\n height: 18px;\n background-image: linear-gradient(45deg, #DDD 25%, #0000 25%), linear-gradient(-45deg, #DDD 25%, #0000 25%), linear-gradient(45deg, #0000 75%, #DDD 75%), linear-gradient(-45deg, #0000 75%, #DDD 75%);\n background-size: 8px 8px;\n background-position: 0px 0, 0px 4px, 4px -4px, -4px 0px;\n background-repeat: repeat;\n `, [cE('fill', `\n position: relative;\n width: 100%;\n height: 100%;\n border-radius: 3px;\n box-shadow: rgba(0, 0, 0, .15) 0px 0px 0px 1px inset;\n cursor: pointer;\n `), c('&:focus', `\n outline: none;\n `, [cE('fill', [c('&::after', `\n position: absolute;\n top: 0;\n right: 0;\n bottom: 0;\n left: 0;\n background: inherit;\n filter: blur(2px);\n content: \"\";\n `)])])])])]);","import { h, defineComponent, ref, computed, toRef, watchEffect, withDirectives, Transition, provide, watch, nextTick } from 'vue';\nimport { hsv2rgb, rgb2hsv, rgba, hsva, hsla, hsl2hsv, hsv2hsl, rgb2hsl, hsl2rgb, toRgbaString, toHsvaString, toHslaString, toHexaString, toHsvString, toRgbString, toHexString, toHslString, getPreciseEventTarget } from 'seemly';\nimport { useIsMounted, useMergedState } from 'vooks';\nimport { VBinder, VFollower, VTarget } from 'vueuc';\nimport { clickoutside } from 'vdirs';\nimport { colorPickerLight } from '../styles';\nimport { useFormItem, useConfig, useTheme, useLocale, useThemeClass } from '../../_mixins';\nimport { call, createKey, useAdjustedTo } from '../../_utils';\nimport { NButton } from '../../button';\nimport HueSlider from './HueSlider';\nimport AlphaSlider from './AlphaSlider';\nimport Pallete from './Pallete';\nimport ColorInput from './ColorInput';\nimport ColorPickerTrigger from './ColorPickerTrigger';\nimport { deriveDefaultValue, getModeFromValue } from './utils';\nimport ColorPickerSwatches from './ColorPickerSwatches';\nimport ColorPreview from './ColorPreview';\nimport { colorPickerInjectionKey } from './context';\nimport style from './styles/index.cssr';\nexport const colorPickerProps = Object.assign(Object.assign({}, useTheme.props), { value: String, show: {\n        type: Boolean,\n        default: undefined\n    }, defaultShow: Boolean, defaultValue: String, modes: {\n        type: Array,\n        // no hsva by default since browser doesn't support it\n        default: () => ['rgb', 'hex', 'hsl']\n    }, placement: {\n        type: String,\n        default: 'bottom-start'\n    }, to: useAdjustedTo.propTo, showAlpha: {\n        type: Boolean,\n        default: true\n    }, showPreview: Boolean, swatches: Array, disabled: {\n        type: Boolean,\n        default: undefined\n    }, actions: {\n        type: Array,\n        default: null\n    }, internalActions: Array, size: String, renderLabel: Function, onComplete: Function, onConfirm: Function, 'onUpdate:show': [Function, Array], onUpdateShow: [Function, Array], 'onUpdate:value': [Function, Array], onUpdateValue: [Function, Array] });\nexport default defineComponent({\n    name: 'ColorPicker',\n    props: colorPickerProps,\n    setup(props, { slots }) {\n        const selfRef = ref(null);\n        let upcomingValue = null;\n        const formItem = useFormItem(props);\n        const { mergedSizeRef, mergedDisabledRef } = formItem;\n        const { localeRef } = useLocale('global');\n        const { mergedClsPrefixRef, namespaceRef, inlineThemeDisabled } = useConfig(props);\n        const themeRef = useTheme('ColorPicker', '-color-picker', style, colorPickerLight, props, mergedClsPrefixRef);\n        provide(colorPickerInjectionKey, {\n            themeRef,\n            renderLabelRef: toRef(props, 'renderLabel'),\n            colorPickerSlots: slots\n        });\n        const uncontrolledShowRef = ref(props.defaultShow);\n        const mergedShowRef = useMergedState(toRef(props, 'show'), uncontrolledShowRef);\n        function doUpdateShow(value) {\n            const { onUpdateShow, 'onUpdate:show': _onUpdateShow } = props;\n            if (onUpdateShow)\n                call(onUpdateShow, value);\n            if (_onUpdateShow)\n                call(_onUpdateShow, value);\n            uncontrolledShowRef.value = value;\n        }\n        const { defaultValue } = props;\n        const uncontrolledValueRef = ref(defaultValue === undefined\n            ? deriveDefaultValue(props.modes, props.showAlpha)\n            : defaultValue);\n        const mergedValueRef = useMergedState(toRef(props, 'value'), uncontrolledValueRef);\n        const undoStackRef = ref([mergedValueRef.value]);\n        const valueIndexRef = ref(0);\n        const valueModeRef = computed(() => getModeFromValue(mergedValueRef.value));\n        const { modes } = props;\n        const displayedModeRef = ref(getModeFromValue(mergedValueRef.value) || modes[0] || 'rgb');\n        function handleUpdateDisplayedMode() {\n            const { modes } = props;\n            const { value: displayedMode } = displayedModeRef;\n            const currentModeIndex = modes.findIndex((mode) => mode === displayedMode);\n            if (~currentModeIndex) {\n                displayedModeRef.value = modes[(currentModeIndex + 1) % modes.length];\n            }\n            else {\n                displayedModeRef.value = 'rgb';\n            }\n        }\n        let _h, // avoid conflict with render function's h\n        s, l, v, r, g, b, a;\n        const hsvaRef = computed(() => {\n            const { value: mergedValue } = mergedValueRef;\n            if (!mergedValue)\n                return null;\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            switch (valueModeRef.value) {\n                case 'hsv':\n                    return hsva(mergedValue);\n                case 'hsl':\n                    ;\n                    [_h, s, l, a] = hsla(mergedValue);\n                    return [...hsl2hsv(_h, s, l), a];\n                case 'rgb':\n                case 'hex':\n                    ;\n                    [r, g, b, a] = rgba(mergedValue);\n                    return [...rgb2hsv(r, g, b), a];\n            }\n        });\n        const rgbaRef = computed(() => {\n            const { value: mergedValue } = mergedValueRef;\n            if (!mergedValue)\n                return null;\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            switch (valueModeRef.value) {\n                case 'rgb':\n                case 'hex':\n                    return rgba(mergedValue);\n                case 'hsv':\n                    ;\n                    [_h, s, v, a] = hsva(mergedValue);\n                    return [...hsv2rgb(_h, s, v), a];\n                case 'hsl':\n                    ;\n                    [_h, s, l, a] = hsla(mergedValue);\n                    return [...hsl2rgb(_h, s, l), a];\n            }\n        });\n        const hslaRef = computed(() => {\n            const { value: mergedValue } = mergedValueRef;\n            if (!mergedValue)\n                return null;\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            switch (valueModeRef.value) {\n                case 'hsl':\n                    return hsla(mergedValue);\n                case 'hsv':\n                    ;\n                    [_h, s, v, a] = hsva(mergedValue);\n                    return [...hsv2hsl(_h, s, v), a];\n                case 'rgb':\n                case 'hex':\n                    ;\n                    [r, g, b, a] = rgba(mergedValue);\n                    return [...rgb2hsl(r, g, b), a];\n            }\n        });\n        const mergedValueArrRef = computed(() => {\n            switch (displayedModeRef.value) {\n                case 'rgb':\n                case 'hex':\n                    return rgbaRef.value;\n                case 'hsv':\n                    return hsvaRef.value;\n                case 'hsl':\n                    return hslaRef.value;\n            }\n        });\n        const displayedHueRef = ref(0);\n        const displayedAlphaRef = ref(1);\n        const displayedSvRef = ref([0, 0]);\n        function handleUpdateSv(s, v) {\n            const { value: hsvaArr } = hsvaRef;\n            const hue = displayedHueRef.value;\n            const alpha = hsvaArr ? hsvaArr[3] : 1;\n            displayedSvRef.value = [s, v];\n            const { showAlpha } = props;\n            switch (displayedModeRef.value) {\n                case 'hsv':\n                    doUpdateValue((showAlpha ? toHsvaString : toHsvString)([hue, s, v, alpha]), 'cursor');\n                    break;\n                case 'hsl':\n                    doUpdateValue((showAlpha ? toHslaString : toHslString)([\n                        ...hsv2hsl(hue, s, v),\n                        alpha\n                    ]), 'cursor');\n                    break;\n                case 'rgb':\n                    doUpdateValue((showAlpha ? toRgbaString : toRgbString)([\n                        ...hsv2rgb(hue, s, v),\n                        alpha\n                    ]), 'cursor');\n                    break;\n                case 'hex':\n                    doUpdateValue((showAlpha ? toHexaString : toHexString)([\n                        ...hsv2rgb(hue, s, v),\n                        alpha\n                    ]), 'cursor');\n                    break;\n            }\n        }\n        function handleUpdateHue(hue) {\n            displayedHueRef.value = hue;\n            const { value: hsvaArr } = hsvaRef;\n            if (!hsvaArr) {\n                return;\n            }\n            const [, s, v, a] = hsvaArr;\n            const { showAlpha } = props;\n            switch (displayedModeRef.value) {\n                case 'hsv':\n                    doUpdateValue((showAlpha ? toHsvaString : toHsvString)([hue, s, v, a]), 'cursor');\n                    break;\n                case 'rgb':\n                    doUpdateValue((showAlpha ? toRgbaString : toRgbString)([\n                        ...hsv2rgb(hue, s, v),\n                        a\n                    ]), 'cursor');\n                    break;\n                case 'hex':\n                    doUpdateValue((showAlpha ? toHexaString : toHexString)([\n                        ...hsv2rgb(hue, s, v),\n                        a\n                    ]), 'cursor');\n                    break;\n                case 'hsl':\n                    doUpdateValue((showAlpha ? toHslaString : toHslString)([\n                        ...hsv2hsl(hue, s, v),\n                        a\n                    ]), 'cursor');\n                    break;\n            }\n        }\n        function handleUpdateAlpha(alpha) {\n            switch (displayedModeRef.value) {\n                case 'hsv':\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    ;\n                    [_h, s, v] = hsvaRef.value;\n                    doUpdateValue(toHsvaString([_h, s, v, alpha]), 'cursor');\n                    break;\n                case 'rgb':\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    ;\n                    [r, g, b] = rgbaRef.value;\n                    doUpdateValue(toRgbaString([r, g, b, alpha]), 'cursor');\n                    break;\n                case 'hex':\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    ;\n                    [r, g, b] = rgbaRef.value;\n                    doUpdateValue(toHexaString([r, g, b, alpha]), 'cursor');\n                    break;\n                case 'hsl':\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    ;\n                    [_h, s, l] = hslaRef.value;\n                    doUpdateValue(toHslaString([_h, s, l, alpha]), 'cursor');\n                    break;\n            }\n            displayedAlphaRef.value = alpha;\n        }\n        function doUpdateValue(value, updateSource) {\n            if (updateSource === 'cursor') {\n                upcomingValue = value;\n            }\n            else {\n                upcomingValue = null;\n            }\n            const { nTriggerFormChange, nTriggerFormInput } = formItem;\n            const { onUpdateValue, 'onUpdate:value': _onUpdateValue } = props;\n            if (onUpdateValue)\n                call(onUpdateValue, value);\n            if (_onUpdateValue)\n                call(_onUpdateValue, value);\n            nTriggerFormChange();\n            nTriggerFormInput();\n            uncontrolledValueRef.value = value;\n        }\n        function handleInputUpdateValue(value) {\n            doUpdateValue(value, 'input');\n            void nextTick(handleComplete);\n        }\n        function handleComplete(pushStack = true) {\n            const { value } = mergedValueRef;\n            // no value & only hue changes will complete with no value\n            if (value) {\n                const { nTriggerFormChange, nTriggerFormInput } = formItem;\n                const { onComplete } = props;\n                if (onComplete) {\n                    ;\n                    onComplete(value);\n                }\n                const { value: undoStack } = undoStackRef;\n                const { value: valueIndex } = valueIndexRef;\n                if (pushStack) {\n                    undoStack.splice(valueIndex + 1, undoStack.length, value);\n                    valueIndexRef.value = valueIndex + 1;\n                }\n                nTriggerFormChange();\n                nTriggerFormInput();\n            }\n        }\n        function undo() {\n            const { value: valueIndex } = valueIndexRef;\n            if (valueIndex - 1 < 0)\n                return;\n            doUpdateValue(undoStackRef.value[valueIndex - 1], 'input');\n            handleComplete(false);\n            valueIndexRef.value = valueIndex - 1;\n        }\n        function redo() {\n            const { value: valueIndex } = valueIndexRef;\n            if (valueIndex < 0 || valueIndex + 1 >= undoStackRef.value.length)\n                return;\n            doUpdateValue(undoStackRef.value[valueIndex + 1], 'input');\n            handleComplete(false);\n            valueIndexRef.value = valueIndex + 1;\n        }\n        function handleClear() {\n            doUpdateValue(null, 'input');\n            doUpdateShow(false);\n        }\n        function handleConfirm() {\n            const { value } = mergedValueRef;\n            const { onConfirm } = props;\n            if (onConfirm) {\n                ;\n                onConfirm(value);\n            }\n            doUpdateShow(false);\n        }\n        const undoableRef = computed(() => valueIndexRef.value >= 1);\n        const redoableRef = computed(() => {\n            const { value: undoStack } = undoStackRef;\n            return undoStack.length > 1 && valueIndexRef.value < undoStack.length - 1;\n        });\n        watch(mergedShowRef, (value) => {\n            if (!value) {\n                undoStackRef.value = [mergedValueRef.value];\n                valueIndexRef.value = 0;\n            }\n        });\n        watchEffect(() => {\n            if (upcomingValue && upcomingValue === mergedValueRef.value) {\n                // let it works in uncontrolled mode\n            }\n            else {\n                const { value } = hsvaRef;\n                if (value) {\n                    displayedHueRef.value = value[0];\n                    displayedAlphaRef.value = value[3];\n                    displayedSvRef.value = [value[1], value[2]];\n                }\n            }\n            upcomingValue = null;\n        });\n        const cssVarsRef = computed(() => {\n            const { value: mergedSize } = mergedSizeRef;\n            const { common: { cubicBezierEaseInOut }, self: { textColor, color, panelFontSize, boxShadow, border, borderRadius, dividerColor, [createKey('height', mergedSize)]: height, [createKey('fontSize', mergedSize)]: fontSize } } = themeRef.value;\n            return {\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-text-color': textColor,\n                '--n-color': color,\n                '--n-panel-font-size': panelFontSize,\n                '--n-font-size': fontSize,\n                '--n-box-shadow': boxShadow,\n                '--n-border': border,\n                '--n-border-radius': borderRadius,\n                '--n-height': height,\n                '--n-divider-color': dividerColor\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('color-picker', computed(() => {\n                return mergedSizeRef.value[0];\n            }), cssVarsRef, props)\n            : undefined;\n        function renderPanel() {\n            var _a;\n            const { value: rgba } = rgbaRef;\n            const { value: displayedHue } = displayedHueRef;\n            const { internalActions, modes, actions } = props;\n            const { value: mergedTheme } = themeRef;\n            const { value: mergedClsPrefix } = mergedClsPrefixRef;\n            return (h(\"div\", { class: [\n                    `${mergedClsPrefix}-color-picker-panel`,\n                    themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass.value\n                ], onDragstart: (e) => {\n                    e.preventDefault();\n                }, style: inlineThemeDisabled\n                    ? undefined\n                    : cssVarsRef.value },\n                h(\"div\", { class: `${mergedClsPrefix}-color-picker-control` },\n                    h(Pallete, { clsPrefix: mergedClsPrefix, rgba: rgba, displayedHue: displayedHue, displayedSv: displayedSvRef.value, onUpdateSV: handleUpdateSv, onComplete: handleComplete }),\n                    h(\"div\", { class: `${mergedClsPrefix}-color-picker-preview` },\n                        h(\"div\", { class: `${mergedClsPrefix}-color-picker-preview__sliders` },\n                            h(HueSlider, { clsPrefix: mergedClsPrefix, hue: displayedHue, onUpdateHue: handleUpdateHue, onComplete: handleComplete }),\n                            props.showAlpha ? (h(AlphaSlider, { clsPrefix: mergedClsPrefix, rgba: rgba, alpha: displayedAlphaRef.value, onUpdateAlpha: handleUpdateAlpha, onComplete: handleComplete })) : null),\n                        props.showPreview ? (h(ColorPreview, { clsPrefix: mergedClsPrefix, mode: displayedModeRef.value, color: rgbaRef.value && toHexString(rgbaRef.value), onUpdateColor: (color) => {\n                                doUpdateValue(color, 'input');\n                            } })) : null),\n                    h(ColorInput, { clsPrefix: mergedClsPrefix, showAlpha: props.showAlpha, mode: displayedModeRef.value, modes: modes, onUpdateMode: handleUpdateDisplayedMode, value: mergedValueRef.value, valueArr: mergedValueArrRef.value, onUpdateValue: handleInputUpdateValue }),\n                    ((_a = props.swatches) === null || _a === void 0 ? void 0 : _a.length) && (h(ColorPickerSwatches, { clsPrefix: mergedClsPrefix, mode: displayedModeRef.value, swatches: props.swatches, onUpdateColor: (color) => {\n                            doUpdateValue(color, 'input');\n                        } }))),\n                (actions === null || actions === void 0 ? void 0 : actions.length) ? (h(\"div\", { class: `${mergedClsPrefix}-color-picker-action` },\n                    actions.includes('confirm') && (h(NButton, { size: \"small\", onClick: handleConfirm, theme: mergedTheme.peers.Button, themeOverrides: mergedTheme.peerOverrides.Button }, { default: () => localeRef.value.confirm })),\n                    actions.includes('clear') && (h(NButton, { size: \"small\", onClick: handleClear, disabled: !mergedValueRef.value, theme: mergedTheme.peers.Button, themeOverrides: mergedTheme.peerOverrides.Button }, { default: () => localeRef.value.clear })))) : null,\n                slots.action ? (h(\"div\", { class: `${mergedClsPrefix}-color-picker-action` }, { default: slots.action })) : internalActions ? (h(\"div\", { class: `${mergedClsPrefix}-color-picker-action` },\n                    internalActions.includes('undo') && (h(NButton, { size: \"small\", onClick: undo, disabled: !undoableRef.value, theme: mergedTheme.peers.Button, themeOverrides: mergedTheme.peerOverrides.Button }, { default: () => localeRef.value.undo })),\n                    internalActions.includes('redo') && (h(NButton, { size: \"small\", onClick: redo, disabled: !redoableRef.value, theme: mergedTheme.peers.Button, themeOverrides: mergedTheme.peerOverrides.Button }, { default: () => localeRef.value.redo })))) : null));\n        }\n        return {\n            mergedClsPrefix: mergedClsPrefixRef,\n            namespace: namespaceRef,\n            selfRef,\n            hsla: hslaRef,\n            rgba: rgbaRef,\n            mergedShow: mergedShowRef,\n            mergedDisabled: mergedDisabledRef,\n            isMounted: useIsMounted(),\n            adjustedTo: useAdjustedTo(props),\n            mergedValue: mergedValueRef,\n            handleTriggerClick() {\n                doUpdateShow(true);\n            },\n            handleClickOutside(e) {\n                var _a;\n                if ((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(getPreciseEventTarget(e))) {\n                    return;\n                }\n                doUpdateShow(false);\n            },\n            renderPanel,\n            cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n            themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n            onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n        };\n    },\n    render() {\n        const { $slots, mergedClsPrefix, onRender } = this;\n        onRender === null || onRender === void 0 ? void 0 : onRender();\n        return (h(\"div\", { class: [this.themeClass, `${mergedClsPrefix}-color-picker`], ref: \"selfRef\", style: this.cssVars },\n            h(VBinder, null, {\n                default: () => [\n                    h(VTarget, null, {\n                        default: () => (h(ColorPickerTrigger, { clsPrefix: mergedClsPrefix, value: this.mergedValue, hsla: this.hsla, disabled: this.mergedDisabled, onClick: this.handleTriggerClick }, {\n                            label: $slots.label\n                        }))\n                    }),\n                    h(VFollower, { placement: this.placement, show: this.mergedShow, containerClass: this.namespace, teleportDisabled: this.adjustedTo === useAdjustedTo.tdkey, to: this.adjustedTo }, {\n                        default: () => (h(Transition, { name: \"fade-in-scale-up-transition\", appear: this.isMounted }, {\n                            default: () => this.mergedShow\n                                ? withDirectives(this.renderPanel(), [\n                                    [\n                                        clickoutside,\n                                        this.handleClickOutside,\n                                        undefined,\n                                        { capture: true }\n                                    ]\n                                ])\n                                : null\n                        }))\n                    })\n                ]\n            })));\n    }\n});\n"],"names":["hsl2hsv","h","s","l","v","Math","min","hsv2hsl","m","hsv2rgb","f","n","k","max","rgb2hsv","r","g","b","c","rgb2hsl","abs","hsl2rgb","a","style$1","cB","cE","NInputGroup","defineComponent","name","props","setup","mergedClsPrefixRef","useConfig","useStyle","style","mergedClsPrefix","render","this","class","$slots","getModeFromValue","color","test","includes","convert","rgb","hex","value","toHexaString","rgba","hsl","toHslaString","hsv","toHsvaString","toRgbaString","hsla","hsva","convertColor","mode","originalMode","HANDLE_SIZE","RADIUS","HueSlider","clsPrefix","type","String","required","hue","Number","onUpdateHue","Function","onComplete","railRef","ref","handleMouseMove","e","railEl","width","left","getBoundingClientRect","newHue","clientX","round","handleMouseUp","_a","off","document","call","handleMouseDown","on","height","borderRadius","boxShadow","boxSizing","backgroundImage","position","onMousedown","right","top","bottom","backgroundColor","AlphaSlider","Array","default","alpha","onUpdateAlpha","newAlpha","railBackgroundImage","computed","overflow","Pallete","displayedHue","displayedSv","onUpdateSV","palleteRef","palleteEl","newV","clientY","newS","normalizedNewS","normalizedNewV","handleColor","colorPickerInjectionKey","createInjectionKey","inputThemeOverrides","paddingSmall","ColorInputUnit","label","showAlpha","Boolean","onUpdateValue","inputValueRef","themeRef","inject","getInputString","floor","watchEffect","mergedTheme","inputValue","handleInputChange","unit","valid","trimmedValue","trim","length","normalizeHexaUnit","parseInt","normalizeHueUnit","normalizeSlvUnit","normalizeAlphaUnit","normalizeRgbUnit","handleInputUpdateValue","NInput","size","placeholder","theme","peers","Input","themeOverrides","peerOverrides","builtinThemeOverrides","onChange","ColorInput","modes","valueArr","onUpdateMode","handleUnitUpdateValue","index","toHexString","nextValueArr","from","toHsvString","toRgbString","toHslString","onClick","cursor","toUpperCase","hexValue","unitValue","split","map","i","ColorPickerTrigger","disabled","colorPickerSlots","renderLabelRef","renderLabel","normalizeColor","ColorPickerSwatches","swatches","onUpdateColor","normalizeOutput","parsed","modeProp","swatchColorMode","ctx","createElement","getContext","fillStyle","getHexFromName","warn","handleSwatchSelect","parsedSwatchesRef","legalValue","handleSwatchKeyDown","key","swatch","tabindex","onKeydown","background","ColorPreview","validator","handleChange","target","stopPropagation","fadeInScaleUpTransition","cM","__unplugin_components_17","Object","assign","useTheme","show","defaultShow","defaultValue","placement","to","useAdjustedTo","propTo","showPreview","actions","internalActions","onConfirm","onUpdateShow","slots","selfRef","upcomingValue","formItem","useFormItem","mergedSizeRef","mergedDisabledRef","localeRef","useLocale","namespaceRef","inlineThemeDisabled","colorPickerLight","provide","toRef","uncontrolledShowRef","mergedShowRef","useMergedState","doUpdateShow","_onUpdateShow","uncontrolledValueRef","deriveDefaultValue","mergedValueRef","undoStackRef","valueIndexRef","valueModeRef","displayedModeRef","handleUpdateDisplayedMode","displayedMode","currentModeIndex","findIndex","_h","hsvaRef","mergedValue","rgbaRef","hslaRef","mergedValueArrRef","displayedHueRef","displayedAlphaRef","displayedSvRef","handleUpdateSv","hsvaArr","doUpdateValue","handleUpdateHue","handleUpdateAlpha","updateSource","nTriggerFormChange","nTriggerFormInput","_onUpdateValue","nextTick","handleComplete","pushStack","undoStack","valueIndex","splice","undo","redo","handleClear","handleConfirm","undoableRef","redoableRef","watch","cssVarsRef","mergedSize","common","cubicBezierEaseInOut","self","textColor","panelFontSize","border","dividerColor","createKey","fontSize","themeClassHandle","useThemeClass","namespace","mergedShow","mergedDisabled","isMounted","useIsMounted","adjustedTo","handleTriggerClick","handleClickOutside","contains","getPreciseEventTarget","renderPanel","themeClass","onDragstart","preventDefault","NButton","Button","confirm","clear","action","cssVars","onRender","VBinder","VTarget","VFollower","containerClass","teleportDisabled","tdkey","Transition","appear","withDirectives","clickoutside","capture"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]}