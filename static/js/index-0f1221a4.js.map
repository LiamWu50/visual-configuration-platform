{"version":3,"file":"index-0f1221a4.js","sources":["../../../src/views/preview/chart/index.tsx"],"sourcesContent":["import { PrimitiveStyle } from '@/primitives/types'\nimport { usePreviewStore } from '@/store/preview'\nimport { getBoundBoxStyle, getStyle } from '@/utils/primitive'\n\nimport styles from './index.module.scss'\n\nconst Chart = defineComponent({\n  name: 'chart',\n  setup() {\n    const previewStore = usePreviewStore()\n    const { chartForPreview } = storeToRefs(previewStore)\n\n    const styleFilterAttrs = ['width', 'height', 'top', 'left']\n\n    const canvasStyle = chartForPreview.value?.canvasStyle\n    const containerStyle = {\n      width: `${canvasStyle?.width}px`,\n      height: `${canvasStyle?.height}px`\n    }\n\n    // 获取每个组件的样式\n    const getPrimitiveStyle = (style: PrimitiveStyle) =>\n      getStyle(style, styleFilterAttrs)\n\n    return {\n      getBoundBoxStyle,\n      containerStyle,\n      primitives: chartForPreview.value?.primitives,\n      getPrimitiveStyle\n    }\n  },\n  render() {\n    return (\n      <div class={styles.container} style={this.containerStyle}>\n        {this.primitives?.map((p) => (\n          <div class={styles.content} style={this.getBoundBoxStyle(p.style)}>\n            {h(resolveComponent(p.cName), {\n              id: `primitive${p.id}`,\n              class: styles.primitive,\n              style: this.getPrimitiveStyle(p.style),\n              dataSource: p\n            })}\n          </div>\n        ))}\n      </div>\n    )\n  }\n})\nexport default Chart\n"],"names":["Chart","defineComponent","name","setup","previewStore","usePreviewStore","chartForPreview","storeToRefs","canvasStyle","_a","value","containerStyle","width","height","primitives","getPrimitiveStyle","render","_createVNode","style","this","getBoundBoxStyle","p","id","dataSource"],"mappings":"2OAMAA,EAAAC,EAAA,CACEC,KAAAA,QACAC,KAAAA,WACE,MAAAC,EAAAC,qBACQC,GAAgBC,EAAAH,qCAIxBI,EAAA,OAAAC,EAAAH,EAAAI,YAAA,EAAAD,EAAAD,YACAG,EAAA,CACEC,MAAAA,GAAAA,MAAAA,OAAAA,EAAAA,EAAAA,UACAC,OAAAA,GAAAA,MAAAA,OAAAA,EAAAA,EAAAA,uDAUAC,WAAAA,OAAAA,EAAAA,EAAAA,YAAAA,EAAAA,EAAAA,WACAC,8BAGJC,MAAAA,SACE,OAAAC,EAAA,MAAA,SAC8BC,MAAAC,KAAAR,6EAEEO,MAAAC,KAAAC,iBAAAC,EAAAH,uBAEtBI,GAAAA,YAAAA,EAAAA,mDAGAC,WAAAA,SAMZ"}