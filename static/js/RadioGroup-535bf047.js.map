{"version":3,"file":"RadioGroup-535bf047.js","sources":["../../../node_modules/seemly/es/color/convert.js","../../../node_modules/naive-ui/es/_utils/naive/attribute.js","../../../node_modules/naive-ui/es/_utils/vue/merge-handlers.js","../../../node_modules/naive-ui/es/_utils/event/index.js","../../../node_modules/vueuc/es/shared/finweck-tree.js","../../../node_modules/vueuc/es/virtual-list/src/config.js","../../../node_modules/vueuc/es/virtual-list/src/VirtualList.js","../../../node_modules/vueuc/es/overflow/src/index.js","../../../node_modules/naive-ui/es/_utils/composable/use-resize.js","../../../node_modules/naive-ui/es/_internal/icons/Checkmark.js","../../../node_modules/naive-ui/es/_internal/icons/Empty.js","../../../node_modules/naive-ui/es/_internal/focus-detector/src/FocusDetector.js","../../../node_modules/naive-ui/es/empty/src/styles/index.cssr.js","../../../node_modules/naive-ui/es/empty/src/Empty.js","../../../node_modules/naive-ui/es/_internal/select-menu/src/SelectOption.js","../../../node_modules/naive-ui/es/_internal/select-menu/src/SelectGroupHeader.js","../../../node_modules/naive-ui/es/_internal/select-menu/src/styles/index.cssr.js","../../../node_modules/naive-ui/es/_internal/select-menu/src/SelectMenu.js","../../../node_modules/naive-ui/es/tag/styles/light.js","../../../node_modules/naive-ui/es/tag/src/common-props.js","../../../node_modules/naive-ui/es/tag/src/styles/index.cssr.js","../../../node_modules/naive-ui/es/tag/src/Tag.js","../../../node_modules/naive-ui/es/_internal/selection/src/styles/index.cssr.js","../../../node_modules/naive-ui/es/_internal/selection/src/Selection.js","../../../node_modules/naive-ui/es/select/src/utils.js","../../../node_modules/naive-ui/es/input/src/styles/input-group.cssr.js","../../../node_modules/naive-ui/es/input/src/InputGroup.js","../../../node_modules/naive-ui/es/color-picker/src/utils.js","../../../node_modules/naive-ui/es/color-picker/src/HueSlider.js","../../../node_modules/naive-ui/es/color-picker/src/AlphaSlider.js","../../../node_modules/naive-ui/es/color-picker/src/Pallete.js","../../../node_modules/naive-ui/es/color-picker/src/context.js","../../../node_modules/naive-ui/es/color-picker/src/ColorInputUnit.js","../../../node_modules/naive-ui/es/color-picker/src/ColorInput.js","../../../node_modules/naive-ui/es/color-picker/src/ColorPickerTrigger.js","../../../node_modules/naive-ui/es/color-picker/src/ColorPickerSwatches.js","../../../node_modules/naive-ui/es/color-picker/src/ColorPreview.js","../../../node_modules/naive-ui/es/color-picker/src/styles/index.cssr.js","../../../node_modules/naive-ui/es/color-picker/src/ColorPicker.js","../../../node_modules/naive-ui/es/select/src/styles/index.cssr.js","../../../node_modules/naive-ui/es/select/src/Select.js","../../../node_modules/naive-ui/es/radio/styles/light.js","../../../node_modules/naive-ui/es/radio/src/use-radio.js","../../../node_modules/naive-ui/es/radio/src/styles/radio-group.cssr.js","../../../node_modules/naive-ui/es/radio/src/RadioGroup.js"],"sourcesContent":["// All the algorithms credit to https://stackoverflow.com/questions/36721830/convert-hsl-to-rgb-and-hex/54014428#54014428\n// original author: Kamil KieÅ‚czewski\n/**\n * @param h 360\n * @param s 100\n * @param l 100\n * @returns [h, s, v] 360, 100, 100\n */\nexport function hsl2hsv(h, s, l) {\n    s /= 100;\n    l /= 100;\n    const v = s * Math.min(l, 1 - l) + l;\n    return [h, v ? (2 - (2 * l) / v) * 100 : 0, v * 100];\n}\n/**\n * @param h 360\n * @param s 100\n * @param v 100\n * @returns [h, s, l] 360, 100, 100\n */\nexport function hsv2hsl(h, s, v) {\n    s /= 100;\n    v /= 100;\n    const l = v - (v * s) / 2;\n    const m = Math.min(l, 1 - l);\n    return [h, m ? ((v - l) / m) * 100 : 0, l * 100];\n}\n/**\n * @param h 360\n * @param s 100\n * @param v 100\n * @returns [r, g, b] 255, 255, 255\n */\nexport function hsv2rgb(h, s, v) {\n    s /= 100;\n    v /= 100;\n    let f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);\n    return [f(5) * 255, f(3) * 255, f(1) * 255];\n}\n/**\n * @param r 255\n * @param g 255\n * @param b 255\n * @returns [360, 100, 100]\n */\nexport function rgb2hsv(r, g, b) {\n    r /= 255;\n    g /= 255;\n    b /= 255;\n    let v = Math.max(r, g, b), c = v - Math.min(r, g, b);\n    let h = c && (v == r ? (g - b) / c : v == g ? 2 + (b - r) / c : 4 + (r - g) / c);\n    return [60 * (h < 0 ? h + 6 : h), v && (c / v) * 100, v * 100];\n}\n/**\n * @param r 255\n * @param g 255\n * @param b 255\n * @returns [360, 100, 100]\n */\nexport function rgb2hsl(r, g, b) {\n    r /= 255;\n    g /= 255;\n    b /= 255;\n    let v = Math.max(r, g, b), c = v - Math.min(r, g, b), f = 1 - Math.abs(v + v - c - 1);\n    let h = c && (v == r ? (g - b) / c : v == g ? 2 + (b - r) / c : 4 + (r - g) / c);\n    return [60 * (h < 0 ? h + 6 : h), f ? (c / f) * 100 : 0, (v + v - c) * 50];\n}\n/**\n * @param h 360\n * @param s 100\n * @param l 100\n * @returns [255, 255, 255]\n */\nexport function hsl2rgb(h, s, l) {\n    s /= 100;\n    l /= 100;\n    let a = s * Math.min(l, 1 - l);\n    let f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n    return [f(0) * 255, f(8) * 255, f(4) * 255];\n}\n","export function getTitleAttribute(value) {\n    switch (typeof value) {\n        case 'string':\n            // The empty string should also be reset to undefined.\n            return value || undefined;\n        case 'number':\n            return String(value);\n        default:\n            return undefined;\n    }\n}\n","export function mergeEventHandlers(handlers) {\n    const filteredHandlers = handlers.filter((handler) => handler !== undefined);\n    if (filteredHandlers.length === 0)\n        return undefined;\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    if (filteredHandlers.length === 1)\n        return filteredHandlers[0];\n    return (e) => {\n        handlers.forEach((handler) => {\n            if (handler) {\n                handler(e);\n            }\n        });\n    };\n}\n","const eventSet = new WeakSet();\nexport function markEventEffectPerformed(event) {\n    eventSet.add(event);\n}\nexport function eventEffectNotPerformed(event) {\n    return !eventSet.has(event);\n}\n","function lowBit(n) {\n    return n & -n;\n}\nexport class FinweckTree {\n    /**\n     * @param l length of the array\n     * @param min min value of the array\n     */\n    constructor(l, min) {\n        this.l = l;\n        this.min = min;\n        const ft = new Array(l + 1);\n        for (let i = 0; i < l + 1; ++i) {\n            ft[i] = 0;\n        }\n        this.ft = ft;\n    }\n    /**\n     * Add arr[i] by n, start from 0\n     * @param i the index of the element to be added\n     * @param n the value to be added\n     */\n    add(i, n) {\n        if (n === 0)\n            return;\n        const { l, ft } = this;\n        i += 1;\n        while (i <= l) {\n            ft[i] += n;\n            i += lowBit(i);\n        }\n    }\n    /**\n     * Get the value of index i\n     * @param i index\n     * @returns value of the index\n     */\n    get(i) {\n        return this.sum(i + 1) - this.sum(i);\n    }\n    /**\n     * Get the sum of first i elements\n     * @param i count of head elements to be added\n     * @returns the sum of first i elements\n     */\n    sum(i) {\n        if (i === undefined)\n            i = this.l;\n        if (i <= 0)\n            return 0;\n        const { ft, min, l } = this;\n        if (i > l)\n            throw new Error('[FinweckTree.sum]: `i` is larger than length.');\n        let ret = i * min;\n        while (i > 0) {\n            ret += ft[i];\n            i -= lowBit(i);\n        }\n        return ret;\n    }\n    /**\n     * Get the largest count of head elements whose sum are <= threshold\n     * @param threshold\n     * @returns the largest count of head elements whose sum are <= threshold\n     */\n    getBound(threshold) {\n        let l = 0;\n        let r = this.l;\n        while (r > l) {\n            const m = Math.floor((l + r) / 2);\n            const sumM = this.sum(m);\n            if (sumM > threshold) {\n                r = m;\n                continue;\n            }\n            else if (sumM < threshold) {\n                if (l === m) {\n                    if (this.sum(l + 1) <= threshold)\n                        return l + 1;\n                    return m;\n                }\n                l = m;\n            }\n            else {\n                return m;\n            }\n        }\n        return l;\n    }\n}\n","let maybeTouch;\nexport function ensureMaybeTouch() {\n    if (maybeTouch === undefined) {\n        if ('matchMedia' in window) {\n            maybeTouch = window.matchMedia('(pointer:coarse)').matches;\n        }\n        else {\n            maybeTouch = false;\n        }\n    }\n    return maybeTouch;\n}\nlet wheelScale;\nexport function ensureWheelScale() {\n    if (wheelScale === undefined) {\n        wheelScale = 'chrome' in window\n            ? window.devicePixelRatio\n            : 1;\n    }\n    return wheelScale;\n}\n","/* eslint-disable no-void */\n/* eslint-disable @typescript-eslint/restrict-plus-operands */\nimport { mergeProps, computed, defineComponent, ref, onMounted, h, onActivated, onDeactivated } from 'vue';\nimport { beforeNextFrameOnce, depx, pxfy } from 'seemly';\nimport { useMemo } from 'vooks';\nimport { useSsrAdapter } from '@css-render/vue3-ssr';\nimport VResizeObserver from '../../resize-observer/src/VResizeObserver';\nimport { c, cssrAnchorMetaName, FinweckTree } from '../../shared';\nimport { ensureMaybeTouch, ensureWheelScale } from './config';\nconst styles = c('.v-vl', {\n    maxHeight: 'inherit',\n    height: '100%',\n    overflow: 'auto',\n    minWidth: '1px' // a zero width container won't be scrollable\n}, [\n    c('&:not(.v-vl--show-scrollbar)', {\n        scrollbarWidth: 'none'\n    }, [\n        c('&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb', {\n            width: 0,\n            height: 0,\n            display: 'none'\n        })\n    ])\n]);\nexport default defineComponent({\n    name: 'VirtualList',\n    inheritAttrs: false,\n    props: {\n        showScrollbar: {\n            type: Boolean,\n            default: true\n        },\n        items: {\n            type: Array,\n            default: () => []\n        },\n        // it is suppose to be the min height\n        itemSize: {\n            type: Number,\n            required: true\n        },\n        itemResizable: Boolean,\n        itemsStyle: [String, Object],\n        visibleItemsTag: {\n            type: [String, Object],\n            default: 'div'\n        },\n        visibleItemsProps: Object,\n        ignoreItemResize: Boolean,\n        onScroll: Function,\n        onWheel: Function,\n        onResize: Function,\n        defaultScrollKey: [Number, String],\n        defaultScrollIndex: Number,\n        keyField: {\n            type: String,\n            default: 'key'\n        },\n        // Whether it is a good API?\n        // ResizeObserver + footer & header is not enough.\n        // Too complex for simple case\n        paddingTop: {\n            type: [Number, String],\n            default: 0\n        },\n        paddingBottom: {\n            type: [Number, String],\n            default: 0\n        }\n    },\n    setup(props) {\n        const ssrAdapter = useSsrAdapter();\n        styles.mount({\n            id: 'vueuc/virtual-list',\n            head: true,\n            anchorMetaName: cssrAnchorMetaName,\n            ssr: ssrAdapter\n        });\n        onMounted(() => {\n            const { defaultScrollIndex, defaultScrollKey } = props;\n            if (defaultScrollIndex !== undefined && defaultScrollIndex !== null) {\n                scrollTo({ index: defaultScrollIndex });\n            }\n            else if (defaultScrollKey !== undefined && defaultScrollKey !== null) {\n                scrollTo({ key: defaultScrollKey });\n            }\n        });\n        let isDeactivated = false;\n        let activateStateInitialized = false;\n        onActivated(() => {\n            isDeactivated = false;\n            if (!activateStateInitialized) {\n                activateStateInitialized = true;\n                return;\n            }\n            // remount\n            scrollTo({ top: scrollTopRef.value, left: scrollLeft });\n        });\n        onDeactivated(() => {\n            isDeactivated = true;\n            if (!activateStateInitialized) {\n                activateStateInitialized = true;\n            }\n        });\n        const keyIndexMapRef = computed(() => {\n            const map = new Map();\n            const { keyField } = props;\n            props.items.forEach((item, index) => {\n                map.set(item[keyField], index);\n            });\n            return map;\n        });\n        const listElRef = ref(null);\n        const listHeightRef = ref(undefined);\n        const keyToHeightOffset = new Map();\n        const finweckTreeRef = computed(() => {\n            const { items, itemSize, keyField } = props;\n            const ft = new FinweckTree(items.length, itemSize);\n            items.forEach((item, index) => {\n                const key = item[keyField];\n                const heightOffset = keyToHeightOffset.get(key);\n                if (heightOffset !== undefined) {\n                    ft.add(index, heightOffset);\n                }\n            });\n            return ft;\n        });\n        const finweckTreeUpdateTrigger = ref(0);\n        let scrollLeft = 0;\n        const scrollTopRef = ref(0);\n        const startIndexRef = useMemo(() => {\n            return Math.max(finweckTreeRef.value.getBound(scrollTopRef.value - depx(props.paddingTop)) - 1, 0);\n        });\n        const viewportItemsRef = computed(() => {\n            const { value: listHeight } = listHeightRef;\n            if (listHeight === undefined)\n                return [];\n            const { items, itemSize } = props;\n            const startIndex = startIndexRef.value;\n            const endIndex = Math.min(startIndex + Math.ceil(listHeight / itemSize + 1), items.length - 1);\n            const viewportItems = [];\n            for (let i = startIndex; i <= endIndex; ++i) {\n                viewportItems.push(items[i]);\n            }\n            return viewportItems;\n        });\n        const scrollTo = (options, y) => {\n            if (typeof options === 'number') {\n                scrollToPosition(options, y, 'auto');\n                return;\n            }\n            const { left, top, index, key, position, behavior, debounce = true } = options;\n            if (left !== undefined || top !== undefined) {\n                scrollToPosition(left, top, behavior);\n            }\n            else if (index !== undefined) {\n                scrollToIndex(index, behavior, debounce);\n            }\n            else if (key !== undefined) {\n                const toIndex = keyIndexMapRef.value.get(key);\n                if (toIndex !== undefined)\n                    scrollToIndex(toIndex, behavior, debounce);\n            }\n            else if (position === 'bottom') {\n                scrollToPosition(0, Number.MAX_SAFE_INTEGER, behavior);\n            }\n            else if (position === 'top') {\n                scrollToPosition(0, 0, behavior);\n            }\n        };\n        let anchorIndex;\n        let anchorTimerId = null;\n        function scrollToIndex(index, behavior, debounce) {\n            const { value: ft } = finweckTreeRef;\n            const targetTop = ft.sum(index) + depx(props.paddingTop);\n            if (!debounce) {\n                listElRef.value.scrollTo({\n                    left: 0,\n                    top: targetTop,\n                    behavior\n                });\n            }\n            else {\n                anchorIndex = index;\n                if (anchorTimerId !== null) {\n                    window.clearTimeout(anchorTimerId);\n                }\n                anchorTimerId = window.setTimeout(() => {\n                    anchorIndex = undefined;\n                    anchorTimerId = null;\n                }, 16); // use 0 ms may be ealier than resize callback...\n                const { scrollTop, offsetHeight } = listElRef.value;\n                if (targetTop > scrollTop) {\n                    const itemSize = ft.get(index);\n                    if (targetTop + itemSize <= scrollTop + offsetHeight) {\n                        // do nothing\n                    }\n                    else {\n                        listElRef.value.scrollTo({\n                            left: 0,\n                            top: targetTop + itemSize - offsetHeight,\n                            behavior\n                        });\n                    }\n                }\n                else {\n                    listElRef.value.scrollTo({\n                        left: 0,\n                        top: targetTop,\n                        behavior\n                    });\n                }\n            }\n        }\n        function scrollToPosition(left, top, behavior) {\n            listElRef.value.scrollTo({\n                left,\n                top,\n                behavior\n            });\n        }\n        function handleItemResize(key, entry) {\n            var _a, _b, _c;\n            if (isDeactivated)\n                return;\n            if (props.ignoreItemResize)\n                return;\n            if (isHideByVShow(entry.target))\n                return;\n            const { value: ft } = finweckTreeRef;\n            const index = keyIndexMapRef.value.get(key);\n            const previousHeight = ft.get(index);\n            const height = (_c = (_b = (_a = entry.borderBoxSize) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.blockSize) !== null && _c !== void 0 ? _c : entry.contentRect.height;\n            if (height === previousHeight)\n                return;\n            // height offset based on itemSize\n            // used when rebuild the finweck tree\n            const offset = height - props.itemSize;\n            if (offset === 0) {\n                keyToHeightOffset.delete(key);\n            }\n            else {\n                keyToHeightOffset.set(key, height - props.itemSize);\n            }\n            // delta height based on finweck tree data\n            const delta = height - previousHeight;\n            if (delta === 0)\n                return;\n            ft.add(index, delta);\n            const listEl = listElRef.value;\n            if (listEl != null) {\n                if (anchorIndex === undefined) {\n                    const previousHeightSum = ft.sum(index);\n                    if (listEl.scrollTop > previousHeightSum) {\n                        listEl.scrollBy(0, delta);\n                    }\n                }\n                else {\n                    if (index < anchorIndex) {\n                        listEl.scrollBy(0, delta);\n                    }\n                    else if (index === anchorIndex) {\n                        const previousHeightSum = ft.sum(index);\n                        if (height + previousHeightSum >\n                            // Note, listEl shouldn't have border, nor offsetHeight won't be\n                            // correct\n                            listEl.scrollTop + listEl.offsetHeight) {\n                            listEl.scrollBy(0, delta);\n                        }\n                    }\n                }\n                syncViewport();\n            }\n            finweckTreeUpdateTrigger.value++;\n        }\n        const mayUseWheel = !ensureMaybeTouch();\n        let wheelCatched = false;\n        function handleListScroll(e) {\n            var _a;\n            (_a = props.onScroll) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            if (!mayUseWheel || !wheelCatched) {\n                syncViewport();\n            }\n        }\n        function handleListWheel(e) {\n            var _a;\n            (_a = props.onWheel) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            if (mayUseWheel) {\n                const listEl = listElRef.value;\n                if (listEl != null) {\n                    if (e.deltaX === 0) {\n                        if (listEl.scrollTop === 0 && e.deltaY <= 0) {\n                            return;\n                        }\n                        if (listEl.scrollTop + listEl.offsetHeight >= listEl.scrollHeight &&\n                            e.deltaY >= 0) {\n                            return;\n                        }\n                    }\n                    e.preventDefault();\n                    listEl.scrollTop += e.deltaY / ensureWheelScale();\n                    listEl.scrollLeft += e.deltaX / ensureWheelScale();\n                    syncViewport();\n                    wheelCatched = true;\n                    beforeNextFrameOnce(() => {\n                        wheelCatched = false;\n                    });\n                }\n            }\n        }\n        function handleListResize(entry) {\n            if (isDeactivated)\n                return;\n            // List is HTMLElement\n            if (isHideByVShow(entry.target))\n                return;\n            // If height is same, return\n            if (entry.contentRect.height === listHeightRef.value)\n                return;\n            listHeightRef.value = entry.contentRect.height;\n            const { onResize } = props;\n            if (onResize !== undefined)\n                onResize(entry);\n        }\n        function syncViewport() {\n            const { value: listEl } = listElRef;\n            // sometime ref el can be null\n            // https://github.com/TuSimple/naive-ui/issues/811\n            if (listEl == null)\n                return;\n            scrollTopRef.value = listEl.scrollTop;\n            scrollLeft = listEl.scrollLeft;\n        }\n        function isHideByVShow(el) {\n            let cursor = el;\n            while (cursor !== null) {\n                if (cursor.style.display === 'none')\n                    return true;\n                cursor = cursor.parentElement;\n            }\n            return false;\n        }\n        return {\n            listHeight: listHeightRef,\n            listStyle: {\n                overflow: 'auto'\n            },\n            keyToIndex: keyIndexMapRef,\n            itemsStyle: computed(() => {\n                const { itemResizable } = props;\n                const height = pxfy(finweckTreeRef.value.sum());\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                finweckTreeUpdateTrigger.value;\n                return [\n                    props.itemsStyle,\n                    {\n                        boxSizing: 'content-box',\n                        height: itemResizable ? '' : height,\n                        minHeight: itemResizable ? height : '',\n                        paddingTop: pxfy(props.paddingTop),\n                        paddingBottom: pxfy(props.paddingBottom)\n                    }\n                ];\n            }),\n            visibleItemsStyle: computed(() => {\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                finweckTreeUpdateTrigger.value;\n                return {\n                    transform: `translateY(${pxfy(finweckTreeRef.value.sum(startIndexRef.value))})`\n                };\n            }),\n            viewportItems: viewportItemsRef,\n            listElRef,\n            itemsElRef: ref(null),\n            scrollTo,\n            handleListResize,\n            handleListScroll,\n            handleListWheel,\n            handleItemResize\n        };\n    },\n    render() {\n        const { itemResizable, keyField, keyToIndex, visibleItemsTag } = this;\n        return h(VResizeObserver, {\n            onResize: this.handleListResize\n        }, {\n            default: () => {\n                var _a, _b;\n                return h('div', mergeProps(this.$attrs, {\n                    class: ['v-vl', this.showScrollbar && 'v-vl--show-scrollbar'],\n                    onScroll: this.handleListScroll,\n                    onWheel: this.handleListWheel,\n                    ref: 'listElRef'\n                }), [\n                    this.items.length !== 0\n                        ? h('div', {\n                            ref: 'itemsElRef',\n                            class: 'v-vl-items',\n                            style: this.itemsStyle\n                        }, [\n                            h(visibleItemsTag, Object.assign({\n                                class: 'v-vl-visible-items',\n                                style: this.visibleItemsStyle\n                            }, this.visibleItemsProps), {\n                                default: () => this.viewportItems.map((item) => {\n                                    const key = item[keyField];\n                                    const index = keyToIndex.get(key);\n                                    const itemVNode = this.$slots.default({\n                                        item,\n                                        index\n                                    })[0];\n                                    if (itemResizable) {\n                                        return h(VResizeObserver, {\n                                            key,\n                                            onResize: (entry) => this.handleItemResize(key, entry)\n                                        }, {\n                                            default: () => itemVNode\n                                        });\n                                    }\n                                    itemVNode.key = key;\n                                    return itemVNode;\n                                })\n                            })\n                        ])\n                        : (_b = (_a = this.$slots).empty) === null || _b === void 0 ? void 0 : _b.call(_a)\n                ]);\n            }\n        });\n    }\n});\n","/* eslint-disable @typescript-eslint/strict-boolean-expressions */\nimport { defineComponent, renderSlot, h, onMounted, ref, nextTick } from 'vue';\nimport { useSsrAdapter } from '@css-render/vue3-ssr';\nimport { c, cssrAnchorMetaName } from '../../shared';\nconst hiddenAttr = 'v-hidden';\nconst style = c('[v-hidden]', {\n    display: 'none!important'\n});\nexport default defineComponent({\n    name: 'Overflow',\n    props: {\n        getCounter: Function,\n        getTail: Function,\n        updateCounter: Function,\n        onUpdateOverflow: Function\n    },\n    setup(props, { slots }) {\n        const selfRef = ref(null);\n        const counterRef = ref(null);\n        function deriveCounter() {\n            const { value: self } = selfRef;\n            const { getCounter, getTail } = props;\n            let counter;\n            if (getCounter !== undefined)\n                counter = getCounter();\n            else {\n                counter = counterRef.value;\n            }\n            if (!self || !counter)\n                return;\n            if (counter.hasAttribute(hiddenAttr)) {\n                counter.removeAttribute(hiddenAttr);\n            }\n            const { children } = self;\n            const containerWidth = self.offsetWidth;\n            const childWidths = [];\n            const tail = slots.tail ? getTail === null || getTail === void 0 ? void 0 : getTail() : null;\n            let childWidthSum = tail ? tail.offsetWidth : 0;\n            let overflow = false;\n            const len = self.children.length - (slots.tail ? 1 : 0);\n            for (let i = 0; i < len - 1; ++i) {\n                if (i < 0)\n                    continue;\n                const child = children[i];\n                if (overflow) {\n                    if (!child.hasAttribute(hiddenAttr)) {\n                        child.setAttribute(hiddenAttr, '');\n                    }\n                    continue;\n                }\n                else if (child.hasAttribute(hiddenAttr)) {\n                    child.removeAttribute(hiddenAttr);\n                }\n                const childWidth = child.offsetWidth;\n                childWidthSum += childWidth;\n                childWidths[i] = childWidth;\n                if (childWidthSum > containerWidth) {\n                    const { updateCounter } = props;\n                    for (let j = i; j >= 0; --j) {\n                        const restCount = len - 1 - j;\n                        if (updateCounter !== undefined) {\n                            updateCounter(restCount);\n                        }\n                        else {\n                            counter.textContent = `${restCount}`;\n                        }\n                        const counterWidth = counter.offsetWidth;\n                        childWidthSum -= childWidths[j];\n                        if (childWidthSum + counterWidth <= containerWidth || j === 0) {\n                            overflow = true;\n                            i = j - 1;\n                            if (tail) {\n                                // tail too long or 1st element too long\n                                // we only consider tail now\n                                if (i === -1) {\n                                    tail.style.maxWidth = `${containerWidth - counterWidth}px`;\n                                    tail.style.boxSizing = 'border-box';\n                                }\n                                else {\n                                    tail.style.maxWidth = '';\n                                }\n                            }\n                            break;\n                        }\n                    }\n                }\n            }\n            const { onUpdateOverflow } = props;\n            if (!overflow) {\n                if (onUpdateOverflow !== undefined) {\n                    onUpdateOverflow(false);\n                }\n                counter.setAttribute(hiddenAttr, '');\n            }\n            else {\n                if (onUpdateOverflow !== undefined) {\n                    onUpdateOverflow(true);\n                }\n            }\n        }\n        const ssrAdapter = useSsrAdapter();\n        style.mount({\n            id: 'vueuc/overflow',\n            head: true,\n            anchorMetaName: cssrAnchorMetaName,\n            ssr: ssrAdapter\n        });\n        onMounted(deriveCounter);\n        // besides onMounted, other case should be manually triggered, or we shoud watch items\n        return {\n            selfRef,\n            counterRef,\n            sync: deriveCounter\n        };\n    },\n    render() {\n        const { $slots } = this;\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        nextTick(this.sync);\n        // It shouldn't have border\n        return h('div', {\n            class: 'v-overflow',\n            ref: 'selfRef'\n        }, [\n            renderSlot($slots, 'default'),\n            // $slots.counter should only has 1 element\n            $slots.counter\n                ? $slots.counter()\n                : h('span', {\n                    style: {\n                        display: 'inline-block'\n                    },\n                    ref: 'counterRef'\n                }),\n            // $slots.tail should only has 1 element\n            $slots.tail ? $slots.tail() : null\n        ]);\n    }\n});\n","import { onBeforeUnmount, onMounted } from 'vue';\nimport { resizeObserverManager } from 'vueuc';\nexport function useOnResize(elRef, onResize) {\n    // it needn't be reactive since it's for internal usage\n    if (onResize) {\n        onMounted(() => {\n            const { value: el } = elRef;\n            if (el) {\n                resizeObserverManager.registerHandler(el, onResize);\n            }\n        });\n        onBeforeUnmount(() => {\n            const { value: el } = elRef;\n            if (el) {\n                resizeObserverManager.unregisterHandler(el);\n            }\n        });\n    }\n}\n","import { h, defineComponent } from 'vue';\nexport default defineComponent({\n    name: 'Checkmark',\n    render() {\n        return (h(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 16 16\" },\n            h(\"g\", { fill: \"none\" },\n                h(\"path\", { d: \"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032z\", fill: \"currentColor\" }))));\n    }\n});\n","import { h, defineComponent } from 'vue';\nexport default defineComponent({\n    name: 'Empty',\n    render() {\n        return (h(\"svg\", { viewBox: \"0 0 28 28\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n            h(\"path\", { d: \"M26 7.5C26 11.0899 23.0899 14 19.5 14C15.9101 14 13 11.0899 13 7.5C13 3.91015 15.9101 1 19.5 1C23.0899 1 26 3.91015 26 7.5ZM16.8536 4.14645C16.6583 3.95118 16.3417 3.95118 16.1464 4.14645C15.9512 4.34171 15.9512 4.65829 16.1464 4.85355L18.7929 7.5L16.1464 10.1464C15.9512 10.3417 15.9512 10.6583 16.1464 10.8536C16.3417 11.0488 16.6583 11.0488 16.8536 10.8536L19.5 8.20711L22.1464 10.8536C22.3417 11.0488 22.6583 11.0488 22.8536 10.8536C23.0488 10.6583 23.0488 10.3417 22.8536 10.1464L20.2071 7.5L22.8536 4.85355C23.0488 4.65829 23.0488 4.34171 22.8536 4.14645C22.6583 3.95118 22.3417 3.95118 22.1464 4.14645L19.5 6.79289L16.8536 4.14645Z\", fill: \"currentColor\" }),\n            h(\"path\", { d: \"M25 22.75V12.5991C24.5572 13.0765 24.053 13.4961 23.5 13.8454V16H17.5L17.3982 16.0068C17.0322 16.0565 16.75 16.3703 16.75 16.75C16.75 18.2688 15.5188 19.5 14 19.5C12.4812 19.5 11.25 18.2688 11.25 16.75L11.2432 16.6482C11.1935 16.2822 10.8797 16 10.5 16H4.5V7.25C4.5 6.2835 5.2835 5.5 6.25 5.5H12.2696C12.4146 4.97463 12.6153 4.47237 12.865 4H6.25C4.45507 4 3 5.45507 3 7.25V22.75C3 24.5449 4.45507 26 6.25 26H21.75C23.5449 26 25 24.5449 25 22.75ZM4.5 22.75V17.5H9.81597L9.85751 17.7041C10.2905 19.5919 11.9808 21 14 21L14.215 20.9947C16.2095 20.8953 17.842 19.4209 18.184 17.5H23.5V22.75C23.5 23.7165 22.7165 24.5 21.75 24.5H6.25C5.2835 24.5 4.5 23.7165 4.5 22.75Z\", fill: \"currentColor\" })));\n    }\n});\n","import { h, defineComponent } from 'vue';\nexport default defineComponent({\n    props: {\n        onFocus: Function,\n        onBlur: Function\n    },\n    setup(props) {\n        return () => (h(\"div\", { style: \"width: 0; height: 0\", tabindex: 0, onFocus: props.onFocus, onBlur: props.onBlur }));\n    }\n});\n","import { c, cB, cE } from '../../../_utils/cssr';\n// vars:\n// --n-font-size\n// --n-icon-size\n// --n-icon-color\n// --n-bezier\n// --n-text-color\n// --n-extra-text-color\nexport default cB('empty', `\n display: flex;\n flex-direction: column;\n align-items: center;\n font-size: var(--n-font-size);\n`, [cE('icon', `\n width: var(--n-icon-size);\n height: var(--n-icon-size);\n font-size: var(--n-icon-size);\n line-height: var(--n-icon-size);\n color: var(--n-icon-color);\n transition:\n color .3s var(--n-bezier);\n `, [c('+', [cE('description', `\n margin-top: 8px;\n `)])]), cE('description', `\n transition: color .3s var(--n-bezier);\n color: var(--n-text-color);\n `), cE('extra', `\n text-align: center;\n transition: color .3s var(--n-bezier);\n margin-top: 12px;\n color: var(--n-extra-text-color);\n `)]);","import { h, defineComponent, computed, inject } from 'vue';\nimport { configProviderInjectionKey } from '../../config-provider/src/context';\nimport { NBaseIcon } from '../../_internal/icon';\nimport { EmptyIcon } from '../../_internal/icons';\nimport { useConfig, useLocale, useTheme, useThemeClass } from '../../_mixins';\nimport { createKey } from '../../_utils';\nimport { emptyLight } from '../styles';\nimport style from './styles/index.cssr';\nexport const emptyProps = Object.assign(Object.assign({}, useTheme.props), { description: String, showDescription: {\n        type: Boolean,\n        default: true\n    }, showIcon: {\n        type: Boolean,\n        default: true\n    }, size: {\n        type: String,\n        default: 'medium'\n    }, renderIcon: Function });\nexport default defineComponent({\n    name: 'Empty',\n    props: emptyProps,\n    setup(props) {\n        const { mergedClsPrefixRef, inlineThemeDisabled } = useConfig(props);\n        const themeRef = useTheme('Empty', '-empty', style, emptyLight, props, mergedClsPrefixRef);\n        const { localeRef } = useLocale('Empty');\n        const NConfigProvider = inject(configProviderInjectionKey, null);\n        const mergedDescriptionRef = computed(() => {\n            var _a, _b, _c;\n            return ((_a = props.description) !== null && _a !== void 0 ? _a : (_c = (_b = NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedComponentPropsRef.value) === null || _b === void 0 ? void 0 : _b.Empty) === null || _c === void 0 ? void 0 : _c.description);\n        });\n        const mergedRenderIconRef = computed(() => {\n            var _a, _b;\n            return ((_b = (_a = NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedComponentPropsRef.value) === null || _a === void 0 ? void 0 : _a.Empty) === null || _b === void 0 ? void 0 : _b.renderIcon) ||\n                (() => h(EmptyIcon, null));\n        });\n        const cssVarsRef = computed(() => {\n            const { size } = props;\n            const { common: { cubicBezierEaseInOut }, self: { [createKey('iconSize', size)]: iconSize, [createKey('fontSize', size)]: fontSize, textColor, iconColor, extraTextColor } } = themeRef.value;\n            return {\n                '--n-icon-size': iconSize,\n                '--n-font-size': fontSize,\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-text-color': textColor,\n                '--n-icon-color': iconColor,\n                '--n-extra-text-color': extraTextColor\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('empty', computed(() => {\n                let hash = '';\n                const { size } = props;\n                hash += size[0];\n                return hash;\n            }), cssVarsRef, props)\n            : undefined;\n        return {\n            mergedClsPrefix: mergedClsPrefixRef,\n            mergedRenderIcon: mergedRenderIconRef,\n            localizedDescription: computed(() => {\n                return mergedDescriptionRef.value || localeRef.value.description;\n            }),\n            cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n            themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n            onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n        };\n    },\n    render() {\n        const { $slots, mergedClsPrefix, onRender } = this;\n        onRender === null || onRender === void 0 ? void 0 : onRender();\n        return (h(\"div\", { class: [`${mergedClsPrefix}-empty`, this.themeClass], style: this.cssVars },\n            this.showIcon ? (h(\"div\", { class: `${mergedClsPrefix}-empty__icon` }, $slots.icon ? ($slots.icon()) : (h(NBaseIcon, { clsPrefix: mergedClsPrefix }, { default: this.mergedRenderIcon })))) : null,\n            this.showDescription ? (h(\"div\", { class: `${mergedClsPrefix}-empty__description` }, $slots.default ? $slots.default() : this.localizedDescription)) : null,\n            $slots.extra ? (h(\"div\", { class: `${mergedClsPrefix}-empty__extra` }, $slots.extra())) : null));\n    }\n});\n","import { h, inject, defineComponent, Transition } from 'vue';\nimport { useMemo } from 'vooks';\nimport { render, mergeEventHandlers } from '../../../_utils';\nimport { CheckmarkIcon } from '../../icons';\nimport { NBaseIcon } from '../../icon';\nimport { internalSelectionMenuInjectionKey } from './interface';\nfunction renderCheckMark(show, clsPrefix) {\n    return (h(Transition, { name: \"fade-in-scale-up-transition\" }, {\n        default: () => show ? (h(NBaseIcon, { clsPrefix: clsPrefix, class: `${clsPrefix}-base-select-option__check` }, {\n            default: () => h(CheckmarkIcon)\n        })) : null\n    }));\n}\nexport default defineComponent({\n    name: 'NBaseSelectOption',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        tmNode: {\n            type: Object,\n            required: true\n        }\n    },\n    setup(props) {\n        const { valueRef, pendingTmNodeRef, multipleRef, valueSetRef, renderLabelRef, renderOptionRef, labelFieldRef, valueFieldRef, showCheckmarkRef, nodePropsRef, handleOptionClick, handleOptionMouseEnter\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n         } = inject(internalSelectionMenuInjectionKey);\n        const isPendingRef = useMemo(() => {\n            const { value: pendingTmNode } = pendingTmNodeRef;\n            if (!pendingTmNode)\n                return false;\n            return props.tmNode.key === pendingTmNode.key;\n        });\n        function handleClick(e) {\n            const { tmNode } = props;\n            if (tmNode.disabled)\n                return;\n            handleOptionClick(e, tmNode);\n        }\n        function handleMouseEnter(e) {\n            const { tmNode } = props;\n            if (tmNode.disabled)\n                return;\n            handleOptionMouseEnter(e, tmNode);\n        }\n        function handleMouseMove(e) {\n            const { tmNode } = props;\n            const { value: isPending } = isPendingRef;\n            if (tmNode.disabled || isPending)\n                return;\n            handleOptionMouseEnter(e, tmNode);\n        }\n        return {\n            multiple: multipleRef,\n            isGrouped: useMemo(() => {\n                const { tmNode } = props;\n                const { parent } = tmNode;\n                return parent && parent.rawNode.type === 'group';\n            }),\n            showCheckmark: showCheckmarkRef,\n            nodeProps: nodePropsRef,\n            isPending: isPendingRef,\n            isSelected: useMemo(() => {\n                const { value } = valueRef;\n                const { value: multiple } = multipleRef;\n                if (value === null)\n                    return false;\n                const optionValue = props.tmNode.rawNode[valueFieldRef.value];\n                if (multiple) {\n                    const { value: valueSet } = valueSetRef;\n                    return valueSet.has(optionValue);\n                }\n                else {\n                    return value === optionValue;\n                }\n            }),\n            labelField: labelFieldRef,\n            renderLabel: renderLabelRef,\n            renderOption: renderOptionRef,\n            handleMouseMove,\n            handleMouseEnter,\n            handleClick\n        };\n    },\n    render() {\n        const { clsPrefix, tmNode: { rawNode }, isSelected, isPending, isGrouped, showCheckmark, nodeProps, renderOption, renderLabel, handleClick, handleMouseEnter, handleMouseMove } = this;\n        const checkmark = renderCheckMark(isSelected, clsPrefix);\n        const children = renderLabel\n            ? [renderLabel(rawNode, isSelected), showCheckmark && checkmark]\n            : [\n                render(rawNode[this.labelField], rawNode, isSelected),\n                showCheckmark && checkmark\n            ];\n        const attrs = nodeProps === null || nodeProps === void 0 ? void 0 : nodeProps(rawNode);\n        const node = (h(\"div\", Object.assign({}, attrs, { class: [\n                `${clsPrefix}-base-select-option`,\n                rawNode.class,\n                attrs === null || attrs === void 0 ? void 0 : attrs.class,\n                {\n                    [`${clsPrefix}-base-select-option--disabled`]: rawNode.disabled,\n                    [`${clsPrefix}-base-select-option--selected`]: isSelected,\n                    [`${clsPrefix}-base-select-option--grouped`]: isGrouped,\n                    [`${clsPrefix}-base-select-option--pending`]: isPending,\n                    [`${clsPrefix}-base-select-option--show-checkmark`]: showCheckmark\n                }\n            ], style: [(attrs === null || attrs === void 0 ? void 0 : attrs.style) || '', rawNode.style || ''], onClick: mergeEventHandlers([handleClick, attrs === null || attrs === void 0 ? void 0 : attrs.onClick]), onMouseenter: mergeEventHandlers([\n                handleMouseEnter,\n                attrs === null || attrs === void 0 ? void 0 : attrs.onMouseenter\n            ]), onMousemove: mergeEventHandlers([handleMouseMove, attrs === null || attrs === void 0 ? void 0 : attrs.onMousemove]) }),\n            h(\"div\", { class: `${clsPrefix}-base-select-option__content` }, children)));\n        return rawNode.render\n            ? rawNode.render({ node, option: rawNode, selected: isSelected })\n            : renderOption\n                ? renderOption({ node, option: rawNode, selected: isSelected })\n                : node;\n    }\n});\n","import { h, defineComponent, inject } from 'vue';\nimport { render } from '../../../_utils';\nimport { internalSelectionMenuInjectionKey } from './interface';\nexport default defineComponent({\n    name: 'NBaseSelectGroupHeader',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        tmNode: {\n            type: Object,\n            required: true\n        }\n    },\n    setup() {\n        const { renderLabelRef, renderOptionRef, labelFieldRef, nodePropsRef\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n         } = inject(internalSelectionMenuInjectionKey);\n        return {\n            labelField: labelFieldRef,\n            nodeProps: nodePropsRef,\n            renderLabel: renderLabelRef,\n            renderOption: renderOptionRef\n        };\n    },\n    render() {\n        const { clsPrefix, renderLabel, renderOption, nodeProps, tmNode: { rawNode } } = this;\n        const attrs = nodeProps === null || nodeProps === void 0 ? void 0 : nodeProps(rawNode);\n        const children = renderLabel\n            ? renderLabel(rawNode, false)\n            : render(rawNode[this.labelField], rawNode, false);\n        const node = (h(\"div\", Object.assign({}, attrs, { class: [`${clsPrefix}-base-select-group-header`, attrs === null || attrs === void 0 ? void 0 : attrs.class] }), children));\n        return rawNode.render\n            ? rawNode.render({ node, option: rawNode })\n            : renderOption\n                ? renderOption({ node, option: rawNode, selected: false })\n                : node;\n    }\n});\n","import { c, cB, cE, cM, cNotM } from '../../../../_utils/cssr';\nimport { fadeInScaleUpTransition } from '../../../../_styles/transitions/fade-in-scale-up.cssr';\n// --n-loading-color\n// --n-loading-size\n// --n-option-padding-right\nexport default cB('base-select-menu', `\n line-height: 1.5;\n outline: none;\n z-index: 0;\n position: relative;\n border-radius: var(--n-border-radius);\n transition:\n background-color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n background-color: var(--n-color);\n`, [cB('scrollbar', `\n max-height: var(--n-height);\n `), cB('virtual-list', `\n max-height: var(--n-height);\n `), cB('base-select-option', `\n min-height: var(--n-option-height);\n font-size: var(--n-option-font-size);\n display: flex;\n align-items: center;\n `, [cE('content', `\n z-index: 1;\n white-space: nowrap;\n text-overflow: ellipsis;\n overflow: hidden;\n `)]), cB('base-select-group-header', `\n min-height: var(--n-option-height);\n font-size: .93em;\n display: flex;\n align-items: center;\n `), cB('base-select-menu-option-wrapper', `\n position: relative;\n width: 100%;\n `), cE('loading, empty', `\n display: flex;\n padding: 12px 32px;\n flex: 1;\n justify-content: center;\n `), cE('loading', `\n color: var(--n-loading-color);\n font-size: var(--n-loading-size);\n `), cE('action', `\n padding: 8px var(--n-option-padding-left);\n font-size: var(--n-option-font-size);\n transition: \n color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n border-top: 1px solid var(--n-action-divider-color);\n color: var(--n-action-text-color);\n `), cB('base-select-group-header', `\n position: relative;\n cursor: default;\n padding: var(--n-option-padding);\n color: var(--n-group-header-text-color);\n `), cB('base-select-option', `\n cursor: pointer;\n position: relative;\n padding: var(--n-option-padding);\n transition:\n color .3s var(--n-bezier),\n opacity .3s var(--n-bezier);\n box-sizing: border-box;\n color: var(--n-option-text-color);\n opacity: 1;\n `, [cM('show-checkmark', `\n padding-right: calc(var(--n-option-padding-right) + 20px);\n `), c('&::before', `\n content: \"\";\n position: absolute;\n left: 4px;\n right: 4px;\n top: 0;\n bottom: 0;\n border-radius: var(--n-border-radius);\n transition: background-color .3s var(--n-bezier);\n `), c('&:active', `\n color: var(--n-option-text-color-pressed);\n `), cM('grouped', `\n padding-left: calc(var(--n-option-padding-left) * 1.5);\n `), cM('pending', [c('&::before', `\n background-color: var(--n-option-color-pending);\n `)]), cM('selected', `\n color: var(--n-option-text-color-active);\n `, [c('&::before', `\n background-color: var(--n-option-color-active);\n `), cM('pending', [c('&::before', `\n background-color: var(--n-option-color-active-pending);\n `)])]), cM('disabled', `\n cursor: not-allowed;\n `, [cNotM('selected', `\n color: var(--n-option-text-color-disabled);\n `), cM('selected', `\n opacity: var(--n-option-opacity-disabled);\n `)]), cE('check', `\n font-size: 16px;\n position: absolute;\n right: calc(var(--n-option-padding-right) - 4px);\n top: calc(50% - 7px);\n color: var(--n-option-check-color);\n transition: color .3s var(--n-bezier);\n `, [fadeInScaleUpTransition({\n  enterScale: '0.5'\n})])])]);","import { h, ref, onMounted, computed, defineComponent, toRef, provide, nextTick, watch, onBeforeUnmount } from 'vue';\nimport { createIndexGetter } from 'treemate';\nimport { VirtualList } from 'vueuc';\nimport { depx, getPadding, happensIn } from 'seemly';\nimport { NEmpty } from '../../../empty';\nimport { NScrollbar } from '../../scrollbar';\nimport { resolveSlot, resolveWrappedSlot, useOnResize } from '../../../_utils';\nimport { createKey } from '../../../_utils/cssr';\nimport { useThemeClass, useTheme } from '../../../_mixins';\nimport NInternalLoading from '../../loading';\nimport NFocusDetector from '../../focus-detector';\nimport { internalSelectMenuLight } from '../styles';\nimport NSelectOption from './SelectOption';\nimport NSelectGroupHeader from './SelectGroupHeader';\nimport { internalSelectionMenuInjectionKey, internalSelectionMenuBodyInjectionKey } from './interface';\nimport style from './styles/index.cssr';\nexport default defineComponent({\n    name: 'InternalSelectMenu',\n    props: Object.assign(Object.assign({}, useTheme.props), { clsPrefix: {\n            type: String,\n            required: true\n        }, scrollable: {\n            type: Boolean,\n            default: true\n        }, treeMate: {\n            type: Object,\n            required: true\n        }, multiple: Boolean, size: {\n            type: String,\n            default: 'medium'\n        }, value: {\n            type: [String, Number, Array],\n            default: null\n        }, autoPending: Boolean, virtualScroll: {\n            type: Boolean,\n            default: true\n        }, \n        // show is used to toggle pending state initialization\n        show: {\n            type: Boolean,\n            default: true\n        }, labelField: {\n            type: String,\n            default: 'label'\n        }, valueField: {\n            type: String,\n            default: 'value'\n        }, loading: Boolean, focusable: Boolean, renderLabel: Function, renderOption: Function, nodeProps: Function, showCheckmark: { type: Boolean, default: true }, onMousedown: Function, onScroll: Function, onFocus: Function, onBlur: Function, onKeyup: Function, onKeydown: Function, onTabOut: Function, onMouseenter: Function, onMouseleave: Function, onResize: Function, resetMenuOnOptionsChange: {\n            type: Boolean,\n            default: true\n        }, inlineThemeDisabled: Boolean, \n        // deprecated\n        onToggle: Function }),\n    setup(props) {\n        const themeRef = useTheme('InternalSelectMenu', '-internal-select-menu', style, internalSelectMenuLight, props, toRef(props, 'clsPrefix'));\n        const selfRef = ref(null);\n        const virtualListRef = ref(null);\n        const scrollbarRef = ref(null);\n        const flattenedNodesRef = computed(() => props.treeMate.getFlattenedNodes());\n        const fIndexGetterRef = computed(() => createIndexGetter(flattenedNodesRef.value));\n        const pendingNodeRef = ref(null);\n        function initPendingNode() {\n            const { treeMate } = props;\n            let defaultPendingNode = null;\n            const { value } = props;\n            if (value === null) {\n                defaultPendingNode = treeMate.getFirstAvailableNode();\n            }\n            else {\n                if (props.multiple) {\n                    defaultPendingNode = treeMate.getNode((value || [])[(value || []).length - 1]);\n                }\n                else {\n                    defaultPendingNode = treeMate.getNode(value);\n                }\n                if (!defaultPendingNode || defaultPendingNode.disabled) {\n                    defaultPendingNode = treeMate.getFirstAvailableNode();\n                }\n            }\n            if (defaultPendingNode) {\n                setPendingTmNode(defaultPendingNode);\n            }\n            else {\n                setPendingTmNode(null);\n            }\n        }\n        function clearPendingNodeIfInvalid() {\n            const { value: pendingNode } = pendingNodeRef;\n            if (pendingNode && !props.treeMate.getNode(pendingNode.key)) {\n                pendingNodeRef.value = null;\n            }\n        }\n        let initPendingNodeWatchStopHandle;\n        watch(() => props.show, (show) => {\n            if (show) {\n                initPendingNodeWatchStopHandle = watch(() => props.treeMate, () => {\n                    if (props.resetMenuOnOptionsChange) {\n                        if (props.autoPending) {\n                            initPendingNode();\n                        }\n                        else {\n                            clearPendingNodeIfInvalid();\n                        }\n                        void nextTick(scrollToPendingNode);\n                    }\n                    else {\n                        clearPendingNodeIfInvalid();\n                    }\n                }, {\n                    immediate: true\n                });\n            }\n            else {\n                initPendingNodeWatchStopHandle === null || initPendingNodeWatchStopHandle === void 0 ? void 0 : initPendingNodeWatchStopHandle();\n            }\n        }, {\n            immediate: true\n        });\n        onBeforeUnmount(() => {\n            initPendingNodeWatchStopHandle === null || initPendingNodeWatchStopHandle === void 0 ? void 0 : initPendingNodeWatchStopHandle();\n        });\n        const itemSizeRef = computed(() => {\n            return depx(themeRef.value.self[createKey('optionHeight', props.size)]);\n        });\n        const paddingRef = computed(() => {\n            return getPadding(themeRef.value.self[createKey('padding', props.size)]);\n        });\n        const valueSetRef = computed(() => {\n            if (props.multiple && Array.isArray(props.value)) {\n                return new Set(props.value);\n            }\n            return new Set();\n        });\n        const emptyRef = computed(() => {\n            const tmNodes = flattenedNodesRef.value;\n            return tmNodes && tmNodes.length === 0;\n        });\n        function doToggle(tmNode) {\n            const { onToggle } = props;\n            if (onToggle)\n                onToggle(tmNode);\n        }\n        function doScroll(e) {\n            const { onScroll } = props;\n            if (onScroll)\n                onScroll(e);\n        }\n        // required, scroller sync need to be triggered manually\n        function handleVirtualListScroll(e) {\n            var _a;\n            (_a = scrollbarRef.value) === null || _a === void 0 ? void 0 : _a.sync();\n            doScroll(e);\n        }\n        function handleVirtualListResize() {\n            var _a;\n            (_a = scrollbarRef.value) === null || _a === void 0 ? void 0 : _a.sync();\n        }\n        function getPendingTmNode() {\n            const { value: pendingTmNode } = pendingNodeRef;\n            if (pendingTmNode)\n                return pendingTmNode;\n            return null;\n        }\n        function handleOptionMouseEnter(e, tmNode) {\n            if (tmNode.disabled)\n                return;\n            setPendingTmNode(tmNode, false);\n        }\n        function handleOptionClick(e, tmNode) {\n            if (tmNode.disabled)\n                return;\n            doToggle(tmNode);\n        }\n        // keyboard related methods\n        function handleKeyUp(e) {\n            var _a;\n            if (happensIn(e, 'action'))\n                return;\n            (_a = props.onKeyup) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        }\n        function handleKeyDown(e) {\n            var _a;\n            if (happensIn(e, 'action'))\n                return;\n            (_a = props.onKeydown) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        }\n        function handleMouseDown(e) {\n            var _a;\n            (_a = props.onMousedown) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            if (props.focusable)\n                return;\n            e.preventDefault();\n        }\n        function next() {\n            const { value: pendingTmNode } = pendingNodeRef;\n            if (pendingTmNode) {\n                setPendingTmNode(pendingTmNode.getNext({ loop: true }), true);\n            }\n        }\n        function prev() {\n            const { value: pendingTmNode } = pendingNodeRef;\n            if (pendingTmNode) {\n                setPendingTmNode(pendingTmNode.getPrev({ loop: true }), true);\n            }\n        }\n        function setPendingTmNode(tmNode, doScroll = false) {\n            pendingNodeRef.value = tmNode;\n            if (doScroll)\n                scrollToPendingNode();\n        }\n        function scrollToPendingNode() {\n            var _a, _b;\n            const tmNode = pendingNodeRef.value;\n            if (!tmNode)\n                return;\n            const fIndex = fIndexGetterRef.value(tmNode.key);\n            if (fIndex === null)\n                return;\n            if (props.virtualScroll) {\n                (_a = virtualListRef.value) === null || _a === void 0 ? void 0 : _a.scrollTo({ index: fIndex });\n            }\n            else {\n                (_b = scrollbarRef.value) === null || _b === void 0 ? void 0 : _b.scrollTo({\n                    index: fIndex,\n                    elSize: itemSizeRef.value\n                });\n            }\n        }\n        function handleFocusin(e) {\n            var _a, _b;\n            if ((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.target)) {\n                (_b = props.onFocus) === null || _b === void 0 ? void 0 : _b.call(props, e);\n            }\n        }\n        function handleFocusout(e) {\n            var _a, _b;\n            if (!((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.relatedTarget))) {\n                (_b = props.onBlur) === null || _b === void 0 ? void 0 : _b.call(props, e);\n            }\n        }\n        provide(internalSelectionMenuInjectionKey, {\n            handleOptionMouseEnter,\n            handleOptionClick,\n            valueSetRef,\n            pendingTmNodeRef: pendingNodeRef,\n            nodePropsRef: toRef(props, 'nodeProps'),\n            showCheckmarkRef: toRef(props, 'showCheckmark'),\n            multipleRef: toRef(props, 'multiple'),\n            valueRef: toRef(props, 'value'),\n            renderLabelRef: toRef(props, 'renderLabel'),\n            renderOptionRef: toRef(props, 'renderOption'),\n            labelFieldRef: toRef(props, 'labelField'),\n            valueFieldRef: toRef(props, 'valueField')\n        });\n        provide(internalSelectionMenuBodyInjectionKey, selfRef);\n        onMounted(() => {\n            const { value } = scrollbarRef;\n            if (value)\n                value.sync();\n        });\n        const cssVarsRef = computed(() => {\n            const { size } = props;\n            const { common: { cubicBezierEaseInOut }, self: { height, borderRadius, color, groupHeaderTextColor, actionDividerColor, optionTextColorPressed, optionTextColor, optionTextColorDisabled, optionTextColorActive, optionOpacityDisabled, optionCheckColor, actionTextColor, optionColorPending, optionColorActive, loadingColor, loadingSize, optionColorActivePending, [createKey('optionFontSize', size)]: fontSize, [createKey('optionHeight', size)]: optionHeight, [createKey('optionPadding', size)]: optionPadding } } = themeRef.value;\n            return {\n                '--n-height': height,\n                '--n-action-divider-color': actionDividerColor,\n                '--n-action-text-color': actionTextColor,\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-border-radius': borderRadius,\n                '--n-color': color,\n                '--n-option-font-size': fontSize,\n                '--n-group-header-text-color': groupHeaderTextColor,\n                '--n-option-check-color': optionCheckColor,\n                '--n-option-color-pending': optionColorPending,\n                '--n-option-color-active': optionColorActive,\n                '--n-option-color-active-pending': optionColorActivePending,\n                '--n-option-height': optionHeight,\n                '--n-option-opacity-disabled': optionOpacityDisabled,\n                '--n-option-text-color': optionTextColor,\n                '--n-option-text-color-active': optionTextColorActive,\n                '--n-option-text-color-disabled': optionTextColorDisabled,\n                '--n-option-text-color-pressed': optionTextColorPressed,\n                '--n-option-padding': optionPadding,\n                '--n-option-padding-left': getPadding(optionPadding, 'left'),\n                '--n-option-padding-right': getPadding(optionPadding, 'right'),\n                '--n-loading-color': loadingColor,\n                '--n-loading-size': loadingSize\n            };\n        });\n        const { inlineThemeDisabled } = props;\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('internal-select-menu', computed(() => props.size[0]), cssVarsRef, props)\n            : undefined;\n        const exposedProps = {\n            selfRef,\n            next,\n            prev,\n            getPendingTmNode\n        };\n        useOnResize(selfRef, props.onResize);\n        return Object.assign({ mergedTheme: themeRef, virtualListRef,\n            scrollbarRef, itemSize: itemSizeRef, padding: paddingRef, flattenedNodes: flattenedNodesRef, empty: emptyRef, virtualListContainer() {\n                const { value } = virtualListRef;\n                return value === null || value === void 0 ? void 0 : value.listElRef;\n            },\n            virtualListContent() {\n                const { value } = virtualListRef;\n                return value === null || value === void 0 ? void 0 : value.itemsElRef;\n            },\n            doScroll,\n            handleFocusin,\n            handleFocusout,\n            handleKeyUp,\n            handleKeyDown,\n            handleMouseDown,\n            handleVirtualListResize,\n            handleVirtualListScroll, cssVars: inlineThemeDisabled ? undefined : cssVarsRef, themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass, onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender }, exposedProps);\n    },\n    render() {\n        const { $slots, virtualScroll, clsPrefix, mergedTheme, themeClass, onRender } = this;\n        onRender === null || onRender === void 0 ? void 0 : onRender();\n        return (h(\"div\", { ref: \"selfRef\", tabindex: this.focusable ? 0 : -1, class: [\n                `${clsPrefix}-base-select-menu`,\n                themeClass,\n                this.multiple && `${clsPrefix}-base-select-menu--multiple`\n            ], style: this.cssVars, onFocusin: this.handleFocusin, onFocusout: this.handleFocusout, onKeyup: this.handleKeyUp, onKeydown: this.handleKeyDown, onMousedown: this.handleMouseDown, onMouseenter: this.onMouseenter, onMouseleave: this.onMouseleave },\n            this.loading ? (h(\"div\", { class: `${clsPrefix}-base-select-menu__loading` },\n                h(NInternalLoading, { clsPrefix: clsPrefix, strokeWidth: 20 }))) : !this.empty ? (h(NScrollbar, { ref: \"scrollbarRef\", theme: mergedTheme.peers.Scrollbar, themeOverrides: mergedTheme.peerOverrides.Scrollbar, scrollable: this.scrollable, container: virtualScroll ? this.virtualListContainer : undefined, content: virtualScroll ? this.virtualListContent : undefined, onScroll: virtualScroll ? undefined : this.doScroll }, {\n                default: () => {\n                    return virtualScroll ? (h(VirtualList, { ref: \"virtualListRef\", class: `${clsPrefix}-virtual-list`, items: this.flattenedNodes, itemSize: this.itemSize, showScrollbar: false, paddingTop: this.padding.top, paddingBottom: this.padding.bottom, onResize: this.handleVirtualListResize, onScroll: this.handleVirtualListScroll, itemResizable: true }, {\n                        default: ({ item: tmNode }) => {\n                            return tmNode.isGroup ? (h(NSelectGroupHeader, { key: tmNode.key, clsPrefix: clsPrefix, tmNode: tmNode })) : tmNode.ignored ? null : (h(NSelectOption, { clsPrefix: clsPrefix, key: tmNode.key, tmNode: tmNode }));\n                        }\n                    })) : (h(\"div\", { class: `${clsPrefix}-base-select-menu-option-wrapper`, style: {\n                            paddingTop: this.padding.top,\n                            paddingBottom: this.padding.bottom\n                        } }, this.flattenedNodes.map((tmNode) => tmNode.isGroup ? (h(NSelectGroupHeader, { key: tmNode.key, clsPrefix: clsPrefix, tmNode: tmNode })) : (h(NSelectOption, { clsPrefix: clsPrefix, key: tmNode.key, tmNode: tmNode })))));\n                }\n            })) : (h(\"div\", { class: `${clsPrefix}-base-select-menu__empty`, \"data-empty\": true }, resolveSlot($slots.empty, () => [\n                h(NEmpty, { theme: mergedTheme.peers.Empty, themeOverrides: mergedTheme.peerOverrides.Empty })\n            ]))),\n            resolveWrappedSlot($slots.action, (children) => children && [\n                h(\"div\", { class: `${clsPrefix}-base-select-menu__action`, \"data-action\": true, key: \"action\" }, children),\n                h(NFocusDetector, { onFocus: this.onTabOut, key: \"focus-detector\" })\n            ])));\n    }\n});\n","import commonVariables from './_common';\nimport { changeColor } from 'seemly';\nimport { commonLight } from '../../_styles/common';\nconst self = (vars) => {\n    const { textColor2, primaryColorHover, primaryColorPressed, primaryColor, infoColor, successColor, warningColor, errorColor, baseColor, borderColor, opacityDisabled, tagColor, closeIconColor, closeIconColorHover, closeIconColorPressed, borderRadiusSmall: borderRadius, fontSizeMini, fontSizeTiny, fontSizeSmall, fontSizeMedium, heightMini, heightTiny, heightSmall, heightMedium, closeColorHover, closeColorPressed, buttonColor2Hover, buttonColor2Pressed, fontWeightStrong } = vars;\n    return Object.assign(Object.assign({}, commonVariables), { closeBorderRadius: borderRadius, heightTiny: heightMini, heightSmall: heightTiny, heightMedium: heightSmall, heightLarge: heightMedium, borderRadius,\n        opacityDisabled, fontSizeTiny: fontSizeMini, fontSizeSmall: fontSizeTiny, fontSizeMedium: fontSizeSmall, fontSizeLarge: fontSizeMedium, fontWeightStrong, \n        // checked\n        textColorCheckable: textColor2, textColorHoverCheckable: textColor2, textColorPressedCheckable: textColor2, textColorChecked: baseColor, colorCheckable: '#0000', colorHoverCheckable: buttonColor2Hover, colorPressedCheckable: buttonColor2Pressed, colorChecked: primaryColor, colorCheckedHover: primaryColorHover, colorCheckedPressed: primaryColorPressed, \n        // default\n        border: `1px solid ${borderColor}`, textColor: textColor2, color: tagColor, colorBordered: 'rgb(250, 250, 252)', closeIconColor,\n        closeIconColorHover,\n        closeIconColorPressed,\n        closeColorHover,\n        closeColorPressed, borderPrimary: `1px solid ${changeColor(primaryColor, { alpha: 0.3 })}`, textColorPrimary: primaryColor, colorPrimary: changeColor(primaryColor, { alpha: 0.12 }), colorBorderedPrimary: changeColor(primaryColor, { alpha: 0.1 }), closeIconColorPrimary: primaryColor, closeIconColorHoverPrimary: primaryColor, closeIconColorPressedPrimary: primaryColor, closeColorHoverPrimary: changeColor(primaryColor, { alpha: 0.12 }), closeColorPressedPrimary: changeColor(primaryColor, { alpha: 0.18 }), borderInfo: `1px solid ${changeColor(infoColor, { alpha: 0.3 })}`, textColorInfo: infoColor, colorInfo: changeColor(infoColor, { alpha: 0.12 }), colorBorderedInfo: changeColor(infoColor, { alpha: 0.1 }), closeIconColorInfo: infoColor, closeIconColorHoverInfo: infoColor, closeIconColorPressedInfo: infoColor, closeColorHoverInfo: changeColor(infoColor, { alpha: 0.12 }), closeColorPressedInfo: changeColor(infoColor, { alpha: 0.18 }), borderSuccess: `1px solid ${changeColor(successColor, { alpha: 0.3 })}`, textColorSuccess: successColor, colorSuccess: changeColor(successColor, { alpha: 0.12 }), colorBorderedSuccess: changeColor(successColor, { alpha: 0.1 }), closeIconColorSuccess: successColor, closeIconColorHoverSuccess: successColor, closeIconColorPressedSuccess: successColor, closeColorHoverSuccess: changeColor(successColor, { alpha: 0.12 }), closeColorPressedSuccess: changeColor(successColor, { alpha: 0.18 }), borderWarning: `1px solid ${changeColor(warningColor, { alpha: 0.35 })}`, textColorWarning: warningColor, colorWarning: changeColor(warningColor, { alpha: 0.15 }), colorBorderedWarning: changeColor(warningColor, { alpha: 0.12 }), closeIconColorWarning: warningColor, closeIconColorHoverWarning: warningColor, closeIconColorPressedWarning: warningColor, closeColorHoverWarning: changeColor(warningColor, { alpha: 0.12 }), closeColorPressedWarning: changeColor(warningColor, { alpha: 0.18 }), borderError: `1px solid ${changeColor(errorColor, { alpha: 0.23 })}`, textColorError: errorColor, colorError: changeColor(errorColor, { alpha: 0.1 }), colorBorderedError: changeColor(errorColor, { alpha: 0.08 }), closeIconColorError: errorColor, closeIconColorHoverError: errorColor, closeIconColorPressedError: errorColor, closeColorHoverError: changeColor(errorColor, { alpha: 0.12 }), closeColorPressedError: changeColor(errorColor, { alpha: 0.18 }) });\n};\nconst tagLight = {\n    name: 'Tag',\n    common: commonLight,\n    self\n};\nexport default tagLight;\n","export default {\n    color: Object,\n    type: {\n        type: String,\n        default: 'default'\n    },\n    round: Boolean,\n    size: {\n        type: String,\n        default: 'medium'\n    },\n    closable: Boolean,\n    disabled: {\n        type: Boolean,\n        default: undefined\n    }\n};\n","import { c, cB, cE, cM, cNotM } from '../../../_utils/cssr';\n// vars:\n// --n-bezier\n// --n-border-radius\n// --n-border\n// --n-close-icon-color\n// --n-close-icon-color-hover\n// --n-close-icon-color-pressed\n// --n-close-margin\n// --n-close-size\n// --n-color\n// --n-color-checkable\n// --n-color-checked\n// --n-color-checked-hover\n// --n-color-checked-pressed\n// --n-color-hover-checkable\n// --n-color-pressed-checkable\n// --n-font-size\n// --n-height\n// --n-opacity-disabled\n// --n-padding\n// --n-text-color\n// --n-text-color-checkable\n// --n-text-color-checked\n// --n-text-color-hover-checkable\n// --n-text-color-pressed-checkable\n// --n-font-weight-strong\nexport default cB('tag', `\n white-space: nowrap;\n position: relative;\n box-sizing: border-box;\n cursor: default;\n display: inline-flex;\n align-items: center;\n flex-wrap: nowrap;\n padding: var(--n-padding);\n border-radius: var(--n-border-radius);\n color: var(--n-text-color);\n background-color: var(--n-color);\n transition: \n border-color .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n opacity .3s var(--n-bezier);\n line-height: 1;\n height: var(--n-height);\n font-size: var(--n-font-size);\n`, [cM('strong', `\n font-weight: var(--n-font-weight-strong);\n `), cE('border', `\n pointer-events: none;\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n border-radius: inherit;\n border: var(--n-border);\n transition: border-color .3s var(--n-bezier);\n `), cE('icon', `\n display: flex;\n margin: 0 4px 0 0;\n color: var(--n-text-color);\n transition: color .3s var(--n-bezier);\n font-size: var(--n-avatar-size-override);\n `), cE('avatar', `\n display: flex;\n margin: 0 6px 0 0;\n `), cE('close', `\n margin: var(--n-close-margin);\n transition:\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n `), cM('round', `\n padding: 0 calc(var(--n-height) / 3);\n border-radius: calc(var(--n-height) / 2);\n `, [cE('icon', `\n margin: 0 4px 0 calc((var(--n-height) - 8px) / -2);\n `), cE('avatar', `\n margin: 0 6px 0 calc((var(--n-height) - 8px) / -2);\n `), cM('closable', `\n padding: 0 calc(var(--n-height) / 4) 0 calc(var(--n-height) / 3);\n `)]), cM('icon, avatar', [cM('round', `\n padding: 0 calc(var(--n-height) / 3) 0 calc(var(--n-height) / 2);\n `)]), cM('disabled', `\n cursor: not-allowed !important;\n opacity: var(--n-opacity-disabled);\n `), cM('checkable', `\n cursor: pointer;\n box-shadow: none;\n color: var(--n-text-color-checkable);\n background-color: var(--n-color-checkable);\n `, [cNotM('disabled', [c('&:hover', 'background-color: var(--n-color-hover-checkable);', [cNotM('checked', 'color: var(--n-text-color-hover-checkable);')]), c('&:active', 'background-color: var(--n-color-pressed-checkable);', [cNotM('checked', 'color: var(--n-text-color-pressed-checkable);')])]), cM('checked', `\n color: var(--n-text-color-checked);\n background-color: var(--n-color-checked);\n `, [cNotM('disabled', [c('&:hover', 'background-color: var(--n-color-checked-hover);'), c('&:active', 'background-color: var(--n-color-checked-pressed);')])])])]);","import { h, defineComponent, computed, ref, provide, toRef, watchEffect } from 'vue';\nimport { useRtl } from '../../_mixins/use-rtl';\nimport { NBaseClose } from '../../_internal/close';\nimport { useConfig, useThemeClass, useTheme } from '../../_mixins';\nimport { createKey, call, createInjectionKey, color2Class, resolveWrappedSlot, warnOnce } from '../../_utils';\nimport { tagLight } from '../styles';\nimport commonProps from './common-props';\nimport style from './styles/index.cssr';\nexport const tagProps = Object.assign(Object.assign(Object.assign({}, useTheme.props), commonProps), { bordered: {\n        type: Boolean,\n        default: undefined\n    }, checked: Boolean, checkable: Boolean, strong: Boolean, triggerClickOnClose: Boolean, onClose: [Array, Function], onMouseenter: Function, onMouseleave: Function, 'onUpdate:checked': Function, onUpdateChecked: Function, \n    // private\n    internalCloseFocusable: {\n        type: Boolean,\n        default: true\n    }, internalCloseIsButtonTag: {\n        type: Boolean,\n        default: true\n    }, \n    // deprecated\n    onCheckedChange: Function });\nexport const tagInjectionKey = createInjectionKey('n-tag');\nexport default defineComponent({\n    name: 'Tag',\n    props: tagProps,\n    setup(props) {\n        if (process.env.NODE_ENV !== 'production') {\n            watchEffect(() => {\n                if (props.onCheckedChange !== undefined) {\n                    warnOnce('tag', '`on-checked-change` is deprecated, please use `on-update:checked` instead');\n                }\n            });\n        }\n        const contentRef = ref(null);\n        const { mergedBorderedRef, mergedClsPrefixRef, inlineThemeDisabled, mergedRtlRef } = useConfig(props);\n        const themeRef = useTheme('Tag', '-tag', style, tagLight, props, mergedClsPrefixRef);\n        provide(tagInjectionKey, {\n            roundRef: toRef(props, 'round')\n        });\n        function handleClick(e) {\n            if (!props.disabled) {\n                if (props.checkable) {\n                    const { checked, onCheckedChange, onUpdateChecked, 'onUpdate:checked': _onUpdateChecked } = props;\n                    if (onUpdateChecked)\n                        onUpdateChecked(!checked);\n                    if (_onUpdateChecked)\n                        _onUpdateChecked(!checked);\n                    // deprecated\n                    if (onCheckedChange)\n                        onCheckedChange(!checked);\n                }\n            }\n        }\n        function handleCloseClick(e) {\n            if (!props.triggerClickOnClose) {\n                e.stopPropagation();\n            }\n            if (!props.disabled) {\n                const { onClose } = props;\n                if (onClose)\n                    call(onClose, e);\n            }\n        }\n        const tagPublicMethods = {\n            setTextContent(textContent) {\n                const { value } = contentRef;\n                if (value)\n                    value.textContent = textContent;\n            }\n        };\n        const rtlEnabledRef = useRtl('Tag', mergedRtlRef, mergedClsPrefixRef);\n        const cssVarsRef = computed(() => {\n            const { type, size, color: { color, textColor } = {} } = props;\n            const { common: { cubicBezierEaseInOut }, self: { padding, closeMargin, closeMarginRtl, borderRadius, opacityDisabled, textColorCheckable, textColorHoverCheckable, textColorPressedCheckable, textColorChecked, colorCheckable, colorHoverCheckable, colorPressedCheckable, colorChecked, colorCheckedHover, colorCheckedPressed, closeBorderRadius, fontWeightStrong, [createKey('colorBordered', type)]: colorBordered, [createKey('closeSize', size)]: closeSize, [createKey('closeIconSize', size)]: closeIconSize, [createKey('fontSize', size)]: fontSize, [createKey('height', size)]: height, [createKey('color', type)]: typedColor, [createKey('textColor', type)]: typeTextColor, [createKey('border', type)]: border, [createKey('closeIconColor', type)]: closeIconColor, [createKey('closeIconColorHover', type)]: closeIconColorHover, [createKey('closeIconColorPressed', type)]: closeIconColorPressed, [createKey('closeColorHover', type)]: closeColorHover, [createKey('closeColorPressed', type)]: closeColorPressed } } = themeRef.value;\n            return {\n                '--n-font-weight-strong': fontWeightStrong,\n                '--n-avatar-size-override': `calc(${height} - 8px)`,\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-border-radius': borderRadius,\n                '--n-border': border,\n                '--n-close-icon-size': closeIconSize,\n                '--n-close-color-pressed': closeColorPressed,\n                '--n-close-color-hover': closeColorHover,\n                '--n-close-border-radius': closeBorderRadius,\n                '--n-close-icon-color': closeIconColor,\n                '--n-close-icon-color-hover': closeIconColorHover,\n                '--n-close-icon-color-pressed': closeIconColorPressed,\n                '--n-close-icon-color-disabled': closeIconColor,\n                '--n-close-margin': closeMargin,\n                '--n-close-margin-rtl': closeMarginRtl,\n                '--n-close-size': closeSize,\n                '--n-color': color || (mergedBorderedRef.value ? colorBordered : typedColor),\n                '--n-color-checkable': colorCheckable,\n                '--n-color-checked': colorChecked,\n                '--n-color-checked-hover': colorCheckedHover,\n                '--n-color-checked-pressed': colorCheckedPressed,\n                '--n-color-hover-checkable': colorHoverCheckable,\n                '--n-color-pressed-checkable': colorPressedCheckable,\n                '--n-font-size': fontSize,\n                '--n-height': height,\n                '--n-opacity-disabled': opacityDisabled,\n                '--n-padding': padding,\n                '--n-text-color': textColor || typeTextColor,\n                '--n-text-color-checkable': textColorCheckable,\n                '--n-text-color-checked': textColorChecked,\n                '--n-text-color-hover-checkable': textColorHoverCheckable,\n                '--n-text-color-pressed-checkable': textColorPressedCheckable\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('tag', computed(() => {\n                let hash = '';\n                const { type, size, color: { color, textColor } = {} } = props;\n                hash += type[0];\n                hash += size[0];\n                if (color) {\n                    hash += `a${color2Class(color)}`;\n                }\n                if (textColor) {\n                    hash += `b${color2Class(textColor)}`;\n                }\n                if (mergedBorderedRef.value) {\n                    hash += 'c';\n                }\n                return hash;\n            }), cssVarsRef, props)\n            : undefined;\n        return Object.assign(Object.assign({}, tagPublicMethods), { rtlEnabled: rtlEnabledRef, mergedClsPrefix: mergedClsPrefixRef, contentRef, mergedBordered: mergedBorderedRef, handleClick,\n            handleCloseClick, cssVars: inlineThemeDisabled ? undefined : cssVarsRef, themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass, onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender });\n    },\n    render() {\n        var _a, _b;\n        const { mergedClsPrefix, rtlEnabled, closable, color: { borderColor } = {}, round, onRender, $slots } = this;\n        onRender === null || onRender === void 0 ? void 0 : onRender();\n        const avatarNode = resolveWrappedSlot($slots.avatar, (children) => children && (h(\"div\", { class: `${mergedClsPrefix}-tag__avatar` }, children)));\n        const iconNode = resolveWrappedSlot($slots.icon, (children) => children && h(\"div\", { class: `${mergedClsPrefix}-tag__icon` }, children));\n        return (h(\"div\", { class: [\n                `${mergedClsPrefix}-tag`,\n                this.themeClass,\n                {\n                    [`${mergedClsPrefix}-tag--rtl`]: rtlEnabled,\n                    [`${mergedClsPrefix}-tag--strong`]: this.strong,\n                    [`${mergedClsPrefix}-tag--disabled`]: this.disabled,\n                    [`${mergedClsPrefix}-tag--checkable`]: this.checkable,\n                    [`${mergedClsPrefix}-tag--checked`]: this.checkable && this.checked,\n                    [`${mergedClsPrefix}-tag--round`]: round,\n                    [`${mergedClsPrefix}-tag--avatar`]: avatarNode,\n                    [`${mergedClsPrefix}-tag--icon`]: iconNode,\n                    [`${mergedClsPrefix}-tag--closable`]: closable\n                }\n            ], style: this.cssVars, onClick: this.handleClick, onMouseenter: this.onMouseenter, onMouseleave: this.onMouseleave },\n            iconNode || avatarNode,\n            h(\"span\", { class: `${mergedClsPrefix}-tag__content`, ref: \"contentRef\" }, (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 : _b.call(_a)),\n            !this.checkable && closable ? (h(NBaseClose, { clsPrefix: mergedClsPrefix, class: `${mergedClsPrefix}-tag__close`, disabled: this.disabled, onClick: this.handleCloseClick, focusable: this.internalCloseFocusable, round: round, isButtonTag: this.internalCloseIsButtonTag, absolute: true })) : null,\n            !this.checkable && this.mergedBordered ? (h(\"div\", { class: `${mergedClsPrefix}-tag__border`, style: { borderColor } })) : null));\n    }\n});\n","import { c, cB, cE, cM, cNotM } from '../../../../_utils/cssr';\n// vars:\n// --n-bezier\n// --n-border\n// --n-border-active\n// --n-border-focus\n// --n-border-hover\n// --n-border-radius\n// --n-box-shadow-active\n// --n-box-shadow-focus\n// --n-box-shadow-hover\n// --n-caret-color\n// --n-color\n// --n-color-active\n// --n-color-disabled\n// --n-font-size\n// --n-height\n// --n-padding-single\n// --n-padding-multiple\n// --n-placeholder-color\n// --n-placeholder-color-disabled\n// --n-text-color\n// --n-text-color-disabled\n// --n-arrow-color\n// --n-arrow-size\n// --n-loading-color\n// ...clear vars\n// ...form item vars\nexport default c([cB('base-selection', `\n position: relative;\n z-index: auto;\n box-shadow: none;\n width: 100%;\n max-width: 100%;\n display: inline-block;\n vertical-align: bottom;\n border-radius: var(--n-border-radius);\n min-height: var(--n-height);\n line-height: 1.5;\n font-size: var(--n-font-size);\n `, [cB('base-loading', `\n color: var(--n-loading-color);\n `), cB('base-selection-tags', 'min-height: var(--n-height);'), cE('border, state-border', `\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n pointer-events: none;\n border: var(--n-border);\n border-radius: inherit;\n transition:\n box-shadow .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n `), cE('state-border', `\n z-index: 1;\n border-color: #0000;\n `), cB('base-suffix', `\n cursor: pointer;\n position: absolute;\n top: 50%;\n transform: translateY(-50%);\n right: 10px;\n `, [cE('arrow', `\n font-size: var(--n-arrow-size);\n color: var(--n-arrow-color);\n transition: color .3s var(--n-bezier);\n `)]), cB('base-selection-overlay', `\n display: flex;\n align-items: center;\n white-space: nowrap;\n pointer-events: none;\n position: absolute;\n top: 0;\n right: 0;\n bottom: 0;\n left: 0;\n padding: var(--n-padding-single);\n transition: color .3s var(--n-bezier);\n `, [cE('wrapper', `\n flex-basis: 0;\n flex-grow: 1;\n overflow: hidden;\n text-overflow: ellipsis;\n `)]), cB('base-selection-placeholder', `\n color: var(--n-placeholder-color);\n `, [cE('inner', `\n max-width: 100%;\n overflow: hidden;\n `)]), cB('base-selection-tags', `\n cursor: pointer;\n outline: none;\n box-sizing: border-box;\n position: relative;\n z-index: auto;\n display: flex;\n padding: var(--n-padding-multiple);\n flex-wrap: wrap;\n align-items: center;\n width: 100%;\n vertical-align: bottom;\n background-color: var(--n-color);\n border-radius: inherit;\n transition:\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n `), cB('base-selection-label', `\n height: var(--n-height);\n display: inline-flex;\n width: 100%;\n vertical-align: bottom;\n cursor: pointer;\n outline: none;\n z-index: auto;\n box-sizing: border-box;\n position: relative;\n transition:\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n border-radius: inherit;\n background-color: var(--n-color);\n align-items: center;\n `, [cB('base-selection-input', `\n font-size: inherit;\n line-height: inherit;\n outline: none;\n cursor: pointer;\n box-sizing: border-box;\n border:none;\n width: 100%;\n padding: var(--n-padding-single);\n background-color: #0000;\n color: var(--n-text-color);\n transition: color .3s var(--n-bezier);\n caret-color: var(--n-caret-color);\n `, [cE('content', `\n text-overflow: ellipsis;\n overflow: hidden;\n white-space: nowrap; \n `)]), cE('render-label', `\n color: var(--n-text-color);\n `)]), cNotM('disabled', [c('&:hover', [cE('state-border', `\n box-shadow: var(--n-box-shadow-hover);\n border: var(--n-border-hover);\n `)]), cM('focus', [cE('state-border', `\n box-shadow: var(--n-box-shadow-focus);\n border: var(--n-border-focus);\n `)]), cM('active', [cE('state-border', `\n box-shadow: var(--n-box-shadow-active);\n border: var(--n-border-active);\n `), cB('base-selection-label', 'background-color: var(--n-color-active);'), cB('base-selection-tags', 'background-color: var(--n-color-active);')])]), cM('disabled', 'cursor: not-allowed;', [cE('arrow', `\n color: var(--n-arrow-color-disabled);\n `), cB('base-selection-label', `\n cursor: not-allowed;\n background-color: var(--n-color-disabled);\n `, [cB('base-selection-input', `\n cursor: not-allowed;\n color: var(--n-text-color-disabled);\n `), cE('render-label', `\n color: var(--n-text-color-disabled);\n `)]), cB('base-selection-tags', `\n cursor: not-allowed;\n background-color: var(--n-color-disabled);\n `), cB('base-selection-placeholder', `\n cursor: not-allowed;\n color: var(--n-placeholder-color-disabled);\n `)]), cB('base-selection-input-tag', `\n height: calc(var(--n-height) - 6px);\n line-height: calc(var(--n-height) - 6px);\n outline: none;\n display: none;\n position: relative;\n margin-bottom: 3px;\n max-width: 100%;\n vertical-align: bottom;\n `, [cE('input', `\n font-size: inherit;\n font-family: inherit;\n min-width: 1px;\n padding: 0;\n background-color: #0000;\n outline: none;\n border: none;\n max-width: 100%;\n overflow: hidden;\n width: 1em;\n line-height: inherit;\n cursor: pointer;\n color: var(--n-text-color);\n caret-color: var(--n-caret-color);\n `), cE('mirror', `\n position: absolute;\n left: 0;\n top: 0;\n white-space: pre;\n visibility: hidden;\n user-select: none;\n -webkit-user-select: none;\n opacity: 0;\n `)]), ['warning', 'error'].map(status => cM(`${status}-status`, [cE('state-border', `border: var(--n-border-${status});`), cNotM('disabled', [c('&:hover', [cE('state-border', `\n box-shadow: var(--n-box-shadow-hover-${status});\n border: var(--n-border-hover-${status});\n `)]), cM('active', [cE('state-border', `\n box-shadow: var(--n-box-shadow-active-${status});\n border: var(--n-border-active-${status});\n `), cB('base-selection-label', `background-color: var(--n-color-active-${status});`), cB('base-selection-tags', `background-color: var(--n-color-active-${status});`)]), cM('focus', [cE('state-border', `\n box-shadow: var(--n-box-shadow-focus-${status});\n border: var(--n-border-focus-${status});\n `)])])]))]), cB('base-selection-popover', `\n margin-bottom: -3px;\n display: flex;\n flex-wrap: wrap;\n margin-right: -8px;\n `), cB('base-selection-tag-wrapper', `\n max-width: 100%;\n display: inline-flex;\n padding: 0 7px 3px 0;\n `, [c('&:last-child', 'padding-right: 0;'), cB('tag', `\n font-size: 14px;\n max-width: 100%;\n `, [cE('content', `\n line-height: 1.25;\n text-overflow: ellipsis;\n overflow: hidden;\n `)])])]);","/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { h, defineComponent, Fragment, ref, computed, watch, toRef, nextTick, watchEffect, onMounted } from 'vue';\nimport { VOverflow } from 'vueuc';\nimport { NPopover } from '../../../popover';\nimport { NTag } from '../../../tag';\nimport { useThemeClass, useTheme } from '../../../_mixins';\nimport { createKey, getTitleAttribute, render, useOnResize, Wrapper } from '../../../_utils';\nimport Suffix from '../../suffix';\nimport { internalSelectionLight } from '../styles';\nimport style from './styles/index.cssr';\nexport default defineComponent({\n    name: 'InternalSelection',\n    props: Object.assign(Object.assign({}, useTheme.props), { clsPrefix: {\n            type: String,\n            required: true\n        }, bordered: {\n            type: Boolean,\n            default: undefined\n        }, active: Boolean, pattern: {\n            type: String,\n            default: ''\n        }, placeholder: String, selectedOption: {\n            type: Object,\n            default: null\n        }, selectedOptions: {\n            type: Array,\n            default: null\n        }, labelField: { type: String, default: 'label' }, valueField: {\n            type: String,\n            default: 'value'\n        }, multiple: Boolean, filterable: Boolean, clearable: Boolean, disabled: Boolean, size: {\n            type: String,\n            default: 'medium'\n        }, loading: Boolean, autofocus: Boolean, showArrow: {\n            type: Boolean,\n            default: true\n        }, inputProps: Object, focused: Boolean, renderTag: Function, onKeydown: Function, onClick: Function, onBlur: Function, onFocus: Function, onDeleteOption: Function, maxTagCount: [String, Number], onClear: Function, onPatternInput: Function, onPatternFocus: Function, onPatternBlur: Function, renderLabel: Function, status: String, inlineThemeDisabled: Boolean, ignoreComposition: { type: Boolean, default: true }, onResize: Function }),\n    setup(props) {\n        const patternInputMirrorRef = ref(null);\n        const patternInputRef = ref(null);\n        const selfRef = ref(null);\n        const multipleElRef = ref(null);\n        const singleElRef = ref(null);\n        const patternInputWrapperRef = ref(null);\n        const counterRef = ref(null);\n        const counterWrapperRef = ref(null);\n        const overflowRef = ref(null);\n        const inputTagElRef = ref(null);\n        const showTagsPopoverRef = ref(false);\n        const patternInputFocusedRef = ref(false);\n        const hoverRef = ref(false);\n        const themeRef = useTheme('InternalSelection', '-internal-selection', style, internalSelectionLight, props, toRef(props, 'clsPrefix'));\n        const mergedClearableRef = computed(() => {\n            return (props.clearable && !props.disabled && (hoverRef.value || props.active));\n        });\n        const filterablePlaceholderRef = computed(() => {\n            return props.selectedOption\n                ? props.renderTag\n                    ? props.renderTag({\n                        option: props.selectedOption,\n                        handleClose: () => { }\n                    })\n                    : props.renderLabel\n                        ? props.renderLabel(props.selectedOption, true)\n                        : render(props.selectedOption[props.labelField], props.selectedOption, true)\n                : props.placeholder;\n        });\n        const labelRef = computed(() => {\n            const option = props.selectedOption;\n            if (!option)\n                return undefined;\n            return option[props.labelField];\n        });\n        const selectedRef = computed(() => {\n            if (props.multiple) {\n                return !!(Array.isArray(props.selectedOptions) && props.selectedOptions.length);\n            }\n            else {\n                return props.selectedOption !== null;\n            }\n        });\n        function syncMirrorWidth() {\n            var _a;\n            const { value: patternInputMirrorEl } = patternInputMirrorRef;\n            if (patternInputMirrorEl) {\n                const { value: patternInputEl } = patternInputRef;\n                if (patternInputEl) {\n                    patternInputEl.style.width = `${patternInputMirrorEl.offsetWidth}px`;\n                    if (props.maxTagCount !== 'responsive') {\n                        (_a = overflowRef.value) === null || _a === void 0 ? void 0 : _a.sync();\n                    }\n                }\n            }\n        }\n        function hideInputTag() {\n            const { value: inputTagEl } = inputTagElRef;\n            if (inputTagEl)\n                inputTagEl.style.display = 'none';\n        }\n        function showInputTag() {\n            const { value: inputTagEl } = inputTagElRef;\n            if (inputTagEl)\n                inputTagEl.style.display = 'inline-block';\n        }\n        watch(toRef(props, 'active'), (value) => {\n            if (!value)\n                hideInputTag();\n        });\n        watch(toRef(props, 'pattern'), () => {\n            if (props.multiple) {\n                void nextTick(syncMirrorWidth);\n            }\n        });\n        function doFocus(e) {\n            const { onFocus } = props;\n            if (onFocus)\n                onFocus(e);\n        }\n        function doBlur(e) {\n            const { onBlur } = props;\n            if (onBlur)\n                onBlur(e);\n        }\n        function doDeleteOption(value) {\n            const { onDeleteOption } = props;\n            if (onDeleteOption)\n                onDeleteOption(value);\n        }\n        function doClear(e) {\n            const { onClear } = props;\n            if (onClear)\n                onClear(e);\n        }\n        function doPatternInput(value) {\n            const { onPatternInput } = props;\n            if (onPatternInput)\n                onPatternInput(value);\n        }\n        function handleFocusin(e) {\n            var _a;\n            if (!e.relatedTarget ||\n                !((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.relatedTarget))) {\n                doFocus(e);\n            }\n        }\n        function handleFocusout(e) {\n            var _a;\n            if ((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.relatedTarget))\n                return;\n            doBlur(e);\n        }\n        function handleClear(e) {\n            doClear(e);\n        }\n        function handleMouseEnter() {\n            hoverRef.value = true;\n        }\n        function handleMouseLeave() {\n            hoverRef.value = false;\n        }\n        function handleMouseDown(e) {\n            if (!props.active || !props.filterable)\n                return;\n            if (e.target === patternInputRef.value)\n                return;\n            e.preventDefault();\n        }\n        function handleDeleteOption(option) {\n            doDeleteOption(option);\n        }\n        function handlePatternKeyDown(e) {\n            if (e.key === 'Backspace' && !isComposingRef.value) {\n                if (!props.pattern.length) {\n                    const { selectedOptions } = props;\n                    if (selectedOptions === null || selectedOptions === void 0 ? void 0 : selectedOptions.length) {\n                        handleDeleteOption(selectedOptions[selectedOptions.length - 1]);\n                    }\n                }\n            }\n        }\n        const isComposingRef = ref(false);\n        // the composition end is later than its input so we can cached the event\n        // and return the input event\n        let cachedInputEvent = null;\n        function handlePatternInputInput(e) {\n            // we should sync mirror width here\n            const { value: patternInputMirrorEl } = patternInputMirrorRef;\n            if (patternInputMirrorEl) {\n                const inputText = e.target.value;\n                patternInputMirrorEl.textContent = inputText;\n                syncMirrorWidth();\n            }\n            if (props.ignoreComposition) {\n                if (!isComposingRef.value) {\n                    doPatternInput(e);\n                }\n                else {\n                    cachedInputEvent = e;\n                }\n            }\n            else {\n                doPatternInput(e);\n            }\n        }\n        function handleCompositionStart() {\n            isComposingRef.value = true;\n        }\n        function handleCompositionEnd() {\n            isComposingRef.value = false;\n            if (props.ignoreComposition) {\n                doPatternInput(cachedInputEvent);\n            }\n            cachedInputEvent = null;\n        }\n        function handlePatternInputFocus(e) {\n            var _a;\n            patternInputFocusedRef.value = true;\n            (_a = props.onPatternFocus) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        }\n        function handlePatternInputBlur(e) {\n            var _a;\n            patternInputFocusedRef.value = false;\n            (_a = props.onPatternBlur) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        }\n        function blur() {\n            var _a, _b;\n            if (props.filterable) {\n                patternInputFocusedRef.value = false;\n                (_a = patternInputWrapperRef.value) === null || _a === void 0 ? void 0 : _a.blur();\n                (_b = patternInputRef.value) === null || _b === void 0 ? void 0 : _b.blur();\n            }\n            else if (props.multiple) {\n                const { value: multipleEl } = multipleElRef;\n                multipleEl === null || multipleEl === void 0 ? void 0 : multipleEl.blur();\n            }\n            else {\n                const { value: singleEl } = singleElRef;\n                singleEl === null || singleEl === void 0 ? void 0 : singleEl.blur();\n            }\n        }\n        function focus() {\n            var _a, _b, _c;\n            if (props.filterable) {\n                patternInputFocusedRef.value = false;\n                (_a = patternInputWrapperRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n            }\n            else if (props.multiple) {\n                (_b = multipleElRef.value) === null || _b === void 0 ? void 0 : _b.focus();\n            }\n            else {\n                (_c = singleElRef.value) === null || _c === void 0 ? void 0 : _c.focus();\n            }\n        }\n        function focusInput() {\n            const { value: patternInputEl } = patternInputRef;\n            if (patternInputEl) {\n                showInputTag();\n                patternInputEl.focus();\n            }\n        }\n        function blurInput() {\n            const { value: patternInputEl } = patternInputRef;\n            if (patternInputEl) {\n                patternInputEl.blur();\n            }\n        }\n        function updateCounter(count) {\n            const { value } = counterRef;\n            if (value) {\n                value.setTextContent(`+${count}`);\n            }\n        }\n        function getCounter() {\n            const { value } = counterWrapperRef;\n            return value;\n        }\n        function getTail() {\n            return patternInputRef.value;\n        }\n        let enterTimerId = null;\n        function clearEnterTimer() {\n            if (enterTimerId !== null)\n                window.clearTimeout(enterTimerId);\n        }\n        function handleMouseEnterCounter() {\n            if (props.disabled || props.active)\n                return;\n            clearEnterTimer();\n            enterTimerId = window.setTimeout(() => {\n                if (selectedRef.value) {\n                    showTagsPopoverRef.value = true;\n                }\n            }, 100);\n        }\n        function handleMouseLeaveCounter() {\n            clearEnterTimer();\n        }\n        function onPopoverUpdateShow(show) {\n            if (!show) {\n                clearEnterTimer();\n                showTagsPopoverRef.value = false;\n            }\n        }\n        watch(selectedRef, (value) => {\n            if (!value) {\n                showTagsPopoverRef.value = false;\n            }\n        });\n        onMounted(() => {\n            watchEffect(() => {\n                const patternInputWrapperEl = patternInputWrapperRef.value;\n                if (!patternInputWrapperEl)\n                    return;\n                patternInputWrapperEl.tabIndex =\n                    props.disabled || patternInputFocusedRef.value ? -1 : 0;\n            });\n        });\n        useOnResize(selfRef, props.onResize);\n        const { inlineThemeDisabled } = props;\n        const cssVarsRef = computed(() => {\n            const { size } = props;\n            const { common: { cubicBezierEaseInOut }, self: { borderRadius, color, placeholderColor, textColor, paddingSingle, paddingMultiple, caretColor, colorDisabled, textColorDisabled, placeholderColorDisabled, colorActive, boxShadowFocus, boxShadowActive, boxShadowHover, border, borderFocus, borderHover, borderActive, arrowColor, arrowColorDisabled, loadingColor, \n            // form warning\n            colorActiveWarning, boxShadowFocusWarning, boxShadowActiveWarning, boxShadowHoverWarning, borderWarning, borderFocusWarning, borderHoverWarning, borderActiveWarning, \n            // form error\n            colorActiveError, boxShadowFocusError, boxShadowActiveError, boxShadowHoverError, borderError, borderFocusError, borderHoverError, borderActiveError, \n            // clear\n            clearColor, clearColorHover, clearColorPressed, clearSize, \n            // arrow\n            arrowSize, [createKey('height', size)]: height, [createKey('fontSize', size)]: fontSize } } = themeRef.value;\n            return {\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-border': border,\n                '--n-border-active': borderActive,\n                '--n-border-focus': borderFocus,\n                '--n-border-hover': borderHover,\n                '--n-border-radius': borderRadius,\n                '--n-box-shadow-active': boxShadowActive,\n                '--n-box-shadow-focus': boxShadowFocus,\n                '--n-box-shadow-hover': boxShadowHover,\n                '--n-caret-color': caretColor,\n                '--n-color': color,\n                '--n-color-active': colorActive,\n                '--n-color-disabled': colorDisabled,\n                '--n-font-size': fontSize,\n                '--n-height': height,\n                '--n-padding-single': paddingSingle,\n                '--n-padding-multiple': paddingMultiple,\n                '--n-placeholder-color': placeholderColor,\n                '--n-placeholder-color-disabled': placeholderColorDisabled,\n                '--n-text-color': textColor,\n                '--n-text-color-disabled': textColorDisabled,\n                '--n-arrow-color': arrowColor,\n                '--n-arrow-color-disabled': arrowColorDisabled,\n                '--n-loading-color': loadingColor,\n                // form warning\n                '--n-color-active-warning': colorActiveWarning,\n                '--n-box-shadow-focus-warning': boxShadowFocusWarning,\n                '--n-box-shadow-active-warning': boxShadowActiveWarning,\n                '--n-box-shadow-hover-warning': boxShadowHoverWarning,\n                '--n-border-warning': borderWarning,\n                '--n-border-focus-warning': borderFocusWarning,\n                '--n-border-hover-warning': borderHoverWarning,\n                '--n-border-active-warning': borderActiveWarning,\n                // form error\n                '--n-color-active-error': colorActiveError,\n                '--n-box-shadow-focus-error': boxShadowFocusError,\n                '--n-box-shadow-active-error': boxShadowActiveError,\n                '--n-box-shadow-hover-error': boxShadowHoverError,\n                '--n-border-error': borderError,\n                '--n-border-focus-error': borderFocusError,\n                '--n-border-hover-error': borderHoverError,\n                '--n-border-active-error': borderActiveError,\n                // clear\n                '--n-clear-size': clearSize,\n                '--n-clear-color': clearColor,\n                '--n-clear-color-hover': clearColorHover,\n                '--n-clear-color-pressed': clearColorPressed,\n                // arrow-size\n                '--n-arrow-size': arrowSize\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('internal-selection', computed(() => {\n                return props.size[0];\n            }), cssVarsRef, props)\n            : undefined;\n        return {\n            mergedTheme: themeRef,\n            mergedClearable: mergedClearableRef,\n            patternInputFocused: patternInputFocusedRef,\n            filterablePlaceholder: filterablePlaceholderRef,\n            label: labelRef,\n            selected: selectedRef,\n            showTagsPanel: showTagsPopoverRef,\n            isComposing: isComposingRef,\n            // dom ref\n            counterRef,\n            counterWrapperRef,\n            patternInputMirrorRef,\n            patternInputRef,\n            selfRef,\n            multipleElRef,\n            singleElRef,\n            patternInputWrapperRef,\n            overflowRef,\n            inputTagElRef,\n            handleMouseDown,\n            handleFocusin,\n            handleClear,\n            handleMouseEnter,\n            handleMouseLeave,\n            handleDeleteOption,\n            handlePatternKeyDown,\n            handlePatternInputInput,\n            handlePatternInputBlur,\n            handlePatternInputFocus,\n            handleMouseEnterCounter,\n            handleMouseLeaveCounter,\n            handleFocusout,\n            handleCompositionEnd,\n            handleCompositionStart,\n            onPopoverUpdateShow,\n            focus,\n            focusInput,\n            blur,\n            blurInput,\n            updateCounter,\n            getCounter,\n            getTail,\n            renderLabel: props.renderLabel,\n            cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n            themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n            onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n        };\n    },\n    render() {\n        const { status, multiple, size, disabled, filterable, maxTagCount, bordered, clsPrefix, onRender, renderTag, renderLabel } = this;\n        onRender === null || onRender === void 0 ? void 0 : onRender();\n        const maxTagCountResponsive = maxTagCount === 'responsive';\n        const maxTagCountNumeric = typeof maxTagCount === 'number';\n        const useMaxTagCount = maxTagCountResponsive || maxTagCountNumeric;\n        const suffix = (h(Wrapper, null, {\n            default: () => (h(Suffix, { clsPrefix: clsPrefix, loading: this.loading, showArrow: this.showArrow, showClear: this.mergedClearable && this.selected, onClear: this.handleClear }, {\n                default: () => { var _a, _b; return (_b = (_a = this.$slots).arrow) === null || _b === void 0 ? void 0 : _b.call(_a); }\n            }))\n        }));\n        let body;\n        if (multiple) {\n            const { labelField } = this;\n            const createTag = (option) => (h(\"div\", { class: `${clsPrefix}-base-selection-tag-wrapper`, key: option.value }, renderTag ? (renderTag({\n                option,\n                handleClose: () => { this.handleDeleteOption(option); }\n            })) : (h(NTag, { size: size, closable: !option.disabled, disabled: disabled, onClose: () => { this.handleDeleteOption(option); }, internalCloseIsButtonTag: false, internalCloseFocusable: false }, {\n                default: () => renderLabel\n                    ? renderLabel(option, true)\n                    : render(option[labelField], option, true)\n            }))));\n            const createOriginalTagNodes = () => (maxTagCountNumeric\n                ? this.selectedOptions.slice(0, maxTagCount)\n                : this.selectedOptions).map(createTag);\n            const input = filterable ? (h(\"div\", { class: `${clsPrefix}-base-selection-input-tag`, ref: \"inputTagElRef\", key: \"__input-tag__\" },\n                h(\"input\", Object.assign({}, this.inputProps, { ref: \"patternInputRef\", tabindex: -1, disabled: disabled, value: this.pattern, autofocus: this.autofocus, class: `${clsPrefix}-base-selection-input-tag__input`, onBlur: this.handlePatternInputBlur, onFocus: this.handlePatternInputFocus, onKeydown: this.handlePatternKeyDown, onInput: this.handlePatternInputInput, onCompositionstart: this.handleCompositionStart, onCompositionend: this.handleCompositionEnd })),\n                h(\"span\", { ref: \"patternInputMirrorRef\", class: `${clsPrefix}-base-selection-input-tag__mirror` }, this.pattern))) : null;\n            // May Overflow\n            const renderCounter = maxTagCountResponsive\n                ? () => (h(\"div\", { class: `${clsPrefix}-base-selection-tag-wrapper`, ref: \"counterWrapperRef\" },\n                    h(NTag, { size: size, ref: \"counterRef\", onMouseenter: this.handleMouseEnterCounter, onMouseleave: this.handleMouseLeaveCounter, disabled: disabled })))\n                : undefined;\n            let counter;\n            if (maxTagCountNumeric) {\n                const rest = this.selectedOptions.length - maxTagCount;\n                if (rest > 0) {\n                    counter = (h(\"div\", { class: `${clsPrefix}-base-selection-tag-wrapper`, key: \"__counter__\" },\n                        h(NTag, { size: size, ref: \"counterRef\", onMouseenter: this.handleMouseEnterCounter, disabled: disabled }, {\n                            default: () => `+${rest}`\n                        })));\n                }\n            }\n            const tags = maxTagCountResponsive ? (filterable ? (h(VOverflow, { ref: \"overflowRef\", updateCounter: this.updateCounter, getCounter: this.getCounter, getTail: this.getTail, style: {\n                    width: '100%',\n                    display: 'flex',\n                    overflow: 'hidden'\n                } }, {\n                default: createOriginalTagNodes,\n                counter: renderCounter,\n                tail: () => input\n            })) : (h(VOverflow, { ref: \"overflowRef\", updateCounter: this.updateCounter, getCounter: this.getCounter, style: {\n                    width: '100%',\n                    display: 'flex',\n                    overflow: 'hidden'\n                } }, {\n                default: createOriginalTagNodes,\n                counter: renderCounter\n            }))) : maxTagCountNumeric ? (createOriginalTagNodes().concat(counter)) : (createOriginalTagNodes());\n            const renderPopover = useMaxTagCount\n                ? () => (h(\"div\", { class: `${clsPrefix}-base-selection-popover` }, maxTagCountResponsive\n                    ? createOriginalTagNodes()\n                    : this.selectedOptions.map(createTag)))\n                : undefined;\n            const popoverProps = useMaxTagCount\n                ? {\n                    show: this.showTagsPanel,\n                    trigger: 'hover',\n                    overlap: true,\n                    placement: 'top',\n                    width: 'trigger',\n                    onUpdateShow: this.onPopoverUpdateShow,\n                    theme: this.mergedTheme.peers.Popover,\n                    themeOverrides: this.mergedTheme.peerOverrides.Popover\n                }\n                : null;\n            const showPlaceholder = this.selected\n                ? false\n                : this.active\n                    ? !this.pattern && !this.isComposing\n                    : true;\n            const placeholder = showPlaceholder ? (h(\"div\", { class: `${clsPrefix}-base-selection-placeholder ${clsPrefix}-base-selection-overlay` },\n                h(\"div\", { class: `${clsPrefix}-base-selection-placeholder__inner` }, this.placeholder))) : null;\n            const popoverTrigger = filterable ? (h(\"div\", { ref: \"patternInputWrapperRef\", class: `${clsPrefix}-base-selection-tags` },\n                tags,\n                maxTagCountResponsive ? null : input,\n                suffix)) : (h(\"div\", { ref: \"multipleElRef\", class: `${clsPrefix}-base-selection-tags`, tabindex: disabled ? undefined : 0 },\n                tags,\n                suffix));\n            body = (h(Fragment, null,\n                useMaxTagCount ? (h(NPopover, Object.assign({}, popoverProps, { scrollable: true, style: \"max-height: calc(var(--v-target-height) * 6.6);\" }), {\n                    trigger: () => popoverTrigger,\n                    default: renderPopover\n                })) : (popoverTrigger),\n                placeholder));\n        }\n        else {\n            if (filterable) {\n                const hasInput = this.pattern || this.isComposing;\n                const showPlaceholder = this.active ? !hasInput : !this.selected;\n                const showSelectedLabel = this.active ? false : this.selected;\n                body = (h(\"div\", { ref: \"patternInputWrapperRef\", class: `${clsPrefix}-base-selection-label` },\n                    h(\"input\", Object.assign({}, this.inputProps, { ref: \"patternInputRef\", class: `${clsPrefix}-base-selection-input`, value: this.active ? this.pattern : '', placeholder: \"\", readonly: disabled, disabled: disabled, tabindex: -1, autofocus: this.autofocus, onFocus: this.handlePatternInputFocus, onBlur: this.handlePatternInputBlur, onInput: this.handlePatternInputInput, onCompositionstart: this.handleCompositionStart, onCompositionend: this.handleCompositionEnd })),\n                    showSelectedLabel ? (h(\"div\", { class: `${clsPrefix}-base-selection-label__render-label ${clsPrefix}-base-selection-overlay`, key: \"input\" },\n                        h(\"div\", { class: `${clsPrefix}-base-selection-overlay__wrapper` }, renderTag\n                            ? renderTag({\n                                option: this.selectedOption,\n                                handleClose: () => { }\n                            })\n                            : renderLabel\n                                ? renderLabel(this.selectedOption, true)\n                                : render(this.label, this.selectedOption, true)))) : null,\n                    showPlaceholder ? (h(\"div\", { class: `${clsPrefix}-base-selection-placeholder ${clsPrefix}-base-selection-overlay`, key: \"placeholder\" },\n                        h(\"div\", { class: `${clsPrefix}-base-selection-overlay__wrapper` }, this.filterablePlaceholder))) : null,\n                    suffix));\n            }\n            else {\n                body = (h(\"div\", { ref: \"singleElRef\", class: `${clsPrefix}-base-selection-label`, tabindex: this.disabled ? undefined : 0 },\n                    this.label !== undefined ? (h(\"div\", { class: `${clsPrefix}-base-selection-input`, title: getTitleAttribute(this.label), key: \"input\" },\n                        h(\"div\", { class: `${clsPrefix}-base-selection-input__content` }, renderTag\n                            ? renderTag({\n                                option: this.selectedOption,\n                                handleClose: () => { }\n                            })\n                            : renderLabel\n                                ? renderLabel(this.selectedOption, true)\n                                : render(this.label, this.selectedOption, true)))) : (h(\"div\", { class: `${clsPrefix}-base-selection-placeholder ${clsPrefix}-base-selection-overlay`, key: \"placeholder\" },\n                        h(\"div\", { class: `${clsPrefix}-base-selection-placeholder__inner` }, this.placeholder))),\n                    suffix));\n            }\n        }\n        return (h(\"div\", { ref: \"selfRef\", class: [\n                `${clsPrefix}-base-selection`,\n                this.themeClass,\n                status && `${clsPrefix}-base-selection--${status}-status`,\n                {\n                    [`${clsPrefix}-base-selection--active`]: this.active,\n                    [`${clsPrefix}-base-selection--selected`]: this.selected || (this.active && this.pattern),\n                    [`${clsPrefix}-base-selection--disabled`]: this.disabled,\n                    [`${clsPrefix}-base-selection--multiple`]: this.multiple,\n                    // focus is not controlled by selection itself since it always need\n                    // to be managed together with menu. provide :focus style will cause\n                    // many redundant codes.\n                    [`${clsPrefix}-base-selection--focus`]: this.focused\n                }\n            ], style: this.cssVars, onClick: this.onClick, onMouseenter: this.handleMouseEnter, onMouseleave: this.handleMouseLeave, onKeydown: this.onKeydown, onFocusin: this.handleFocusin, onFocusout: this.handleFocusout, onMousedown: this.handleMouseDown },\n            body,\n            bordered ? (h(\"div\", { class: `${clsPrefix}-base-selection__border` })) : null,\n            bordered ? (h(\"div\", { class: `${clsPrefix}-base-selection__state-border` })) : null));\n    }\n});\n","export function getIsGroup(option) {\n    return option.type === 'group';\n}\nexport function getIgnored(option) {\n    return option.type === 'ignored';\n}\nexport function patternMatched(pattern, value) {\n    try {\n        return !!(1 + value.toString().toLowerCase().indexOf(pattern.trim().toLowerCase()));\n    }\n    catch (err) {\n        return false;\n    }\n}\nexport function createTmOptions(valueField, childrenField) {\n    const options = {\n        getIsGroup,\n        getIgnored,\n        getKey(option) {\n            if (getIsGroup(option)) {\n                return (option.name ||\n                    option.key ||\n                    'key-required');\n            }\n            // Required for non-custom label & value field\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            return option[valueField];\n        },\n        getChildren(option) {\n            return option[childrenField];\n        }\n    };\n    return options;\n}\nexport function filterOptions(originalOpts, filter, pattern, childrenField) {\n    if (!filter)\n        return originalOpts;\n    function traverse(options) {\n        if (!Array.isArray(options))\n            return [];\n        const filteredOptions = [];\n        for (const option of options) {\n            if (getIsGroup(option)) {\n                const children = traverse(option[childrenField]);\n                if (children.length) {\n                    filteredOptions.push(Object.assign({}, option, {\n                        [childrenField]: children\n                    }));\n                }\n            }\n            else if (getIgnored(option)) {\n                continue;\n            }\n            else if (filter(pattern, option)) {\n                filteredOptions.push(option);\n            }\n        }\n        return filteredOptions;\n    }\n    return traverse(originalOpts);\n}\nexport function createValOptMap(options, valueField, childrenField) {\n    const valOptMap = new Map();\n    options.forEach((option) => {\n        if (getIsGroup(option)) {\n            ;\n            option[childrenField].forEach((selectGroupOption) => {\n                valOptMap.set(selectGroupOption[valueField], selectGroupOption);\n            });\n        }\n        else {\n            valOptMap.set(option[valueField], option);\n        }\n    });\n    return valOptMap;\n}\n","import { c, cB, cE } from '../../../_utils/cssr';\nexport default cB('input-group', `\n display: inline-flex;\n width: 100%;\n flex-wrap: nowrap;\n vertical-align: bottom;\n`, [c('>', [cB('input', [c('&:not(:last-child)', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `), c('&:not(:first-child)', `\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n margin-left: -1px!important;\n `)]), cB('button', [c('&:not(:last-child)', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `, [cE('state-border, border', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `)]), c('&:not(:first-child)', `\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n `, [cE('state-border, border', `\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n `)])]), c('*', [c('&:not(:last-child)', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `, [c('>', [cB('input', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `), cB('base-selection', [cB('base-selection-label', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `), cB('base-selection-tags', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `), cE('box-shadow, border, state-border', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `)])])]), c('&:not(:first-child)', `\n margin-left: -1px!important;\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n `, [c('>', [cB('input', `\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n `), cB('base-selection', [cB('base-selection-label', `\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n `), cB('base-selection-tags', `\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n `), cE('box-shadow, border, state-border', `\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n `)])])])])])]);","import { h, defineComponent } from 'vue';\nimport { useConfig, useStyle } from '../../_mixins';\nimport style from './styles/input-group.cssr';\nexport const inputGroupProps = {};\nexport default defineComponent({\n    name: 'InputGroup',\n    props: inputGroupProps,\n    setup(props) {\n        const { mergedClsPrefixRef } = useConfig(props);\n        useStyle('-input-group', style, mergedClsPrefixRef);\n        return {\n            mergedClsPrefix: mergedClsPrefixRef\n        };\n    },\n    render() {\n        const { mergedClsPrefix } = this;\n        return h(\"div\", { class: `${mergedClsPrefix}-input-group` }, this.$slots);\n    }\n});\n","import { hsl2hsv, hsl2rgb, hsla, hsv2hsl, hsv2rgb, hsva, rgb2hsl, rgb2hsv, rgba, toHexaString, toHslaString, toHsvaString, toRgbaString } from 'seemly';\nimport { warn } from '../../_utils';\nexport function deriveDefaultValue(modes, showAlpha) {\n    const mode = modes[0];\n    switch (mode) {\n        case 'hex':\n            return showAlpha ? '#000000FF' : '#000000';\n        case 'rgb':\n            return showAlpha ? 'rgba(0, 0, 0, 1)' : 'rgb(0, 0, 0)';\n        case 'hsl':\n            return showAlpha ? 'hsla(0, 0%, 0%, 1)' : 'hsl(0, 0%, 0%)';\n        case 'hsv':\n            return showAlpha ? 'hsva(0, 0%, 0%, 1)' : 'hsv(0, 0%, 0%)';\n    }\n    if (process.env.NODE_ENV !== 'production')\n        warn('color-picker', 'props.modes is invalid.');\n    // in case of invalid modes\n    return '#000000';\n}\nexport function getModeFromValue(color) {\n    if (color === null)\n        return null;\n    if (/^ *#/.test(color))\n        return 'hex';\n    if (color.includes('rgb'))\n        return 'rgb';\n    if (color.includes('hsl'))\n        return 'hsl';\n    if (color.includes('hsv'))\n        return 'hsv';\n    return null;\n}\nexport function floor(color) {\n    return color.map((channel) => Math.floor(channel));\n}\nexport function normalizeHue(hue) {\n    hue = Math.round(hue);\n    return hue >= 360 ? 359 : hue < 0 ? 0 : hue;\n}\nexport function normalizeAlpha(alpha) {\n    alpha = Math.round(alpha * 100) / 100;\n    return alpha > 1 ? 1 : alpha < 0 ? 0 : alpha;\n}\nconst convert = {\n    rgb: {\n        hex(value) {\n            return toHexaString(rgba(value));\n        },\n        hsl(value) {\n            const [r, g, b, a] = rgba(value);\n            return toHslaString([...rgb2hsl(r, g, b), a]);\n        },\n        hsv(value) {\n            const [r, g, b, a] = rgba(value);\n            return toHsvaString([...rgb2hsv(r, g, b), a]);\n        }\n    },\n    hex: {\n        rgb(value) {\n            return toRgbaString(rgba(value));\n        },\n        hsl(value) {\n            const [r, g, b, a] = rgba(value);\n            return toHslaString([...rgb2hsl(r, g, b), a]);\n        },\n        hsv(value) {\n            const [r, g, b, a] = rgba(value);\n            return toHsvaString([...rgb2hsv(r, g, b), a]);\n        }\n    },\n    hsl: {\n        hex(value) {\n            const [h, s, l, a] = hsla(value);\n            return toHexaString([...hsl2rgb(h, s, l), a]);\n        },\n        rgb(value) {\n            const [h, s, l, a] = hsla(value);\n            return toRgbaString([...hsl2rgb(h, s, l), a]);\n        },\n        hsv(value) {\n            const [h, s, l, a] = hsla(value);\n            return toHsvaString([...hsl2hsv(h, s, l), a]);\n        }\n    },\n    hsv: {\n        hex(value) {\n            const [h, s, v, a] = hsva(value);\n            return toHexaString([...hsv2rgb(h, s, v), a]);\n        },\n        rgb(value) {\n            const [h, s, v, a] = hsva(value);\n            return toRgbaString([...hsv2rgb(h, s, v), a]);\n        },\n        hsl(value) {\n            const [h, s, v, a] = hsva(value);\n            return toHslaString([...hsv2hsl(h, s, v), a]);\n        }\n    }\n};\n// implementation\nexport function convertColor(value, mode, originalMode) {\n    originalMode = originalMode || getModeFromValue(value);\n    if (!originalMode)\n        return null;\n    if (originalMode === mode)\n        return value;\n    const conversions = convert[originalMode];\n    return conversions[mode](value);\n}\n","import { defineComponent, h, ref } from 'vue';\nimport { off, on } from 'evtd';\nimport { normalizeHue } from './utils';\nconst HANDLE_SIZE = '12px';\nconst HANDLE_SIZE_NUM = 12;\nconst RADIUS = '6px';\nconst RADIUS_NUM = 6;\nconst GRADIENT = 'linear-gradient(90deg,red,#ff0 16.66%,#0f0 33.33%,#0ff 50%,#00f 66.66%,#f0f 83.33%,red)';\nexport default defineComponent({\n    name: 'HueSlider',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        hue: {\n            type: Number,\n            required: true\n        },\n        onUpdateHue: {\n            type: Function,\n            required: true\n        },\n        onComplete: Function\n    },\n    setup(props) {\n        const railRef = ref(null);\n        function handleMouseDown(e) {\n            if (!railRef.value)\n                return;\n            on('mousemove', document, handleMouseMove);\n            on('mouseup', document, handleMouseUp);\n            handleMouseMove(e);\n        }\n        function handleMouseMove(e) {\n            const { value: railEl } = railRef;\n            if (!railEl)\n                return;\n            const { width, left } = railEl.getBoundingClientRect();\n            const newHue = normalizeHue(((e.clientX - left - RADIUS_NUM) / (width - HANDLE_SIZE_NUM)) * 360);\n            props.onUpdateHue(newHue);\n        }\n        function handleMouseUp() {\n            var _a;\n            off('mousemove', document, handleMouseMove);\n            off('mouseup', document, handleMouseUp);\n            (_a = props.onComplete) === null || _a === void 0 ? void 0 : _a.call(props);\n        }\n        return {\n            railRef,\n            handleMouseDown\n        };\n    },\n    render() {\n        const { clsPrefix } = this;\n        return (h(\"div\", { class: `${clsPrefix}-color-picker-slider`, style: {\n                height: HANDLE_SIZE,\n                borderRadius: RADIUS\n            } },\n            h(\"div\", { ref: \"railRef\", style: {\n                    boxShadow: 'inset 0 0 2px 0 rgba(0, 0, 0, .24)',\n                    boxSizing: 'border-box',\n                    backgroundImage: GRADIENT,\n                    height: HANDLE_SIZE,\n                    borderRadius: RADIUS,\n                    position: 'relative'\n                }, onMousedown: this.handleMouseDown },\n                h(\"div\", { style: {\n                        position: 'absolute',\n                        left: RADIUS,\n                        right: RADIUS,\n                        top: 0,\n                        bottom: 0\n                    } },\n                    h(\"div\", { class: `${clsPrefix}-color-picker-handle`, style: {\n                            left: `calc((${this.hue}%) / 359 * 100 - ${RADIUS})`,\n                            borderRadius: RADIUS,\n                            width: HANDLE_SIZE,\n                            height: HANDLE_SIZE\n                        } },\n                        h(\"div\", { class: `${clsPrefix}-color-picker-handle__fill`, style: {\n                                backgroundColor: `hsl(${this.hue}, 100%, 50%)`,\n                                borderRadius: RADIUS,\n                                width: HANDLE_SIZE,\n                                height: HANDLE_SIZE\n                            } }))))));\n    }\n});\n","import { computed, defineComponent, h, ref } from 'vue';\nimport { off, on } from 'evtd';\nimport { toRgbaString } from 'seemly';\nimport { normalizeAlpha } from './utils';\nconst HANDLE_SIZE = '12px';\nconst HANDLE_SIZE_NUM = 12;\nconst RADIUS = '6px';\nexport default defineComponent({\n    name: 'AlphaSlider',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        rgba: {\n            type: Array,\n            default: null\n        },\n        alpha: {\n            type: Number,\n            default: 0\n        },\n        onUpdateAlpha: {\n            type: Function,\n            required: true\n        },\n        onComplete: Function\n    },\n    setup(props) {\n        const railRef = ref(null);\n        function handleMouseDown(e) {\n            if (!railRef.value || !props.rgba)\n                return;\n            on('mousemove', document, handleMouseMove);\n            on('mouseup', document, handleMouseUp);\n            handleMouseMove(e);\n        }\n        function handleMouseMove(e) {\n            const { value: railEl } = railRef;\n            if (!railEl)\n                return;\n            const { width, left } = railEl.getBoundingClientRect();\n            const newAlpha = (e.clientX - left) / (width - HANDLE_SIZE_NUM);\n            props.onUpdateAlpha(normalizeAlpha(newAlpha));\n        }\n        function handleMouseUp() {\n            var _a;\n            off('mousemove', document, handleMouseMove);\n            off('mouseup', document, handleMouseUp);\n            (_a = props.onComplete) === null || _a === void 0 ? void 0 : _a.call(props);\n        }\n        return {\n            railRef,\n            railBackgroundImage: computed(() => {\n                const { rgba } = props;\n                if (!rgba)\n                    return '';\n                return `linear-gradient(to right, rgba(${rgba[0]}, ${rgba[1]}, ${rgba[2]}, 0) 0%, rgba(${rgba[0]}, ${rgba[1]}, ${rgba[2]}, 1) 100%)`;\n            }),\n            handleMouseDown\n        };\n    },\n    render() {\n        const { clsPrefix } = this;\n        return (h(\"div\", { class: `${clsPrefix}-color-picker-slider`, ref: \"railRef\", style: {\n                height: HANDLE_SIZE,\n                borderRadius: RADIUS\n            }, onMousedown: this.handleMouseDown },\n            h(\"div\", { style: {\n                    borderRadius: RADIUS,\n                    position: 'absolute',\n                    left: 0,\n                    right: 0,\n                    top: 0,\n                    bottom: 0,\n                    overflow: 'hidden'\n                } },\n                h(\"div\", { class: `${clsPrefix}-color-picker-checkboard` }),\n                h(\"div\", { class: `${clsPrefix}-color-picker-slider__image`, style: {\n                        backgroundImage: this.railBackgroundImage\n                    } })),\n            this.rgba && (h(\"div\", { style: {\n                    position: 'absolute',\n                    left: RADIUS,\n                    right: RADIUS,\n                    top: 0,\n                    bottom: 0\n                } },\n                h(\"div\", { class: `${clsPrefix}-color-picker-handle`, style: {\n                        left: `calc(${this.alpha * 100}% - ${RADIUS})`,\n                        borderRadius: RADIUS,\n                        width: HANDLE_SIZE,\n                        height: HANDLE_SIZE\n                    } },\n                    h(\"div\", { class: `${clsPrefix}-color-picker-handle__fill`, style: {\n                            backgroundColor: toRgbaString(this.rgba),\n                            borderRadius: RADIUS,\n                            width: HANDLE_SIZE,\n                            height: HANDLE_SIZE\n                        } }))))));\n    }\n});\n","import { on, off } from 'evtd';\nimport { computed, defineComponent, h, ref } from 'vue';\nconst HANDLE_SIZE = '12px';\nconst RADIUS = '6px';\nexport default defineComponent({\n    name: 'Pallete',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        rgba: {\n            type: Array,\n            default: null\n        },\n        // 0 - 360\n        displayedHue: {\n            type: Number,\n            required: true\n        },\n        displayedSv: {\n            type: Array,\n            required: true\n        },\n        onUpdateSV: {\n            type: Function,\n            required: true\n        },\n        onComplete: Function\n    },\n    setup(props) {\n        const palleteRef = ref(null);\n        function handleMouseDown(e) {\n            if (!palleteRef.value)\n                return;\n            on('mousemove', document, handleMouseMove);\n            on('mouseup', document, handleMouseUp);\n            handleMouseMove(e);\n        }\n        function handleMouseMove(e) {\n            const { value: palleteEl } = palleteRef;\n            if (!palleteEl)\n                return;\n            const { width, height, left, bottom } = palleteEl.getBoundingClientRect();\n            const newV = (bottom - e.clientY) / height;\n            const newS = (e.clientX - left) / width;\n            const normalizedNewS = 100 * (newS > 1 ? 1 : newS < 0 ? 0 : newS);\n            const normalizedNewV = 100 * (newV > 1 ? 1 : newV < 0 ? 0 : newV);\n            props.onUpdateSV(normalizedNewS, normalizedNewV);\n        }\n        function handleMouseUp() {\n            var _a;\n            off('mousemove', document, handleMouseMove);\n            off('mouseup', document, handleMouseUp);\n            (_a = props.onComplete) === null || _a === void 0 ? void 0 : _a.call(props);\n        }\n        return {\n            palleteRef,\n            handleColor: computed(() => {\n                const { rgba } = props;\n                if (!rgba)\n                    return '';\n                return `rgb(${rgba[0]}, ${rgba[1]}, ${rgba[2]})`;\n            }),\n            handleMouseDown\n        };\n    },\n    render() {\n        const { clsPrefix } = this;\n        return (h(\"div\", { class: `${clsPrefix}-color-picker-pallete`, onMousedown: this.handleMouseDown, ref: \"palleteRef\" },\n            h(\"div\", { class: `${clsPrefix}-color-picker-pallete__layer`, style: {\n                    backgroundImage: `linear-gradient(90deg, white, hsl(${this.displayedHue}, 100%, 50%))`\n                } }),\n            h(\"div\", { class: `${clsPrefix}-color-picker-pallete__layer ${clsPrefix}-color-picker-pallete__layer--shadowed`, style: {\n                    backgroundImage: 'linear-gradient(180deg, rgba(0, 0, 0, 0%), rgba(0, 0, 0, 100%))'\n                } }),\n            this.rgba && (h(\"div\", { class: `${clsPrefix}-color-picker-handle`, style: {\n                    width: HANDLE_SIZE,\n                    height: HANDLE_SIZE,\n                    borderRadius: RADIUS,\n                    left: `calc(${this.displayedSv[0]}% - ${RADIUS})`,\n                    bottom: `calc(${this.displayedSv[1]}% - ${RADIUS})`\n                } },\n                h(\"div\", { class: `${clsPrefix}-color-picker-handle__fill`, style: {\n                        backgroundColor: this.handleColor,\n                        borderRadius: RADIUS,\n                        width: HANDLE_SIZE,\n                        height: HANDLE_SIZE\n                    } })))));\n    }\n});\n","import { createInjectionKey } from '../../_utils';\nexport const colorPickerInjectionKey = createInjectionKey('n-color-picker');\n","import { defineComponent, h, inject, ref, watchEffect } from 'vue';\nimport { NInput } from '../../input';\nimport { colorPickerInjectionKey } from './context';\n// 0 - 255\nfunction normalizeRgbUnit(value) {\n    if (/^\\d{1,3}\\.?\\d*$/.test(value.trim())) {\n        return Math.max(0, Math.min(parseInt(value), 255));\n    }\n    return false;\n}\n// 0 - 360\nfunction normalizeHueUnit(value) {\n    if (/^\\d{1,3}\\.?\\d*$/.test(value.trim())) {\n        return Math.max(0, Math.min(parseInt(value), 360));\n    }\n    return false;\n}\n// 0 - 100\nfunction normalizeSlvUnit(value) {\n    if (/^\\d{1,3}\\.?\\d*$/.test(value.trim())) {\n        return Math.max(0, Math.min(parseInt(value), 100));\n    }\n    return false;\n}\nfunction normalizeHexaUnit(value) {\n    const trimmedValue = value.trim();\n    if (/^#[0-9a-fA-F]+$/.test(trimmedValue)) {\n        return [4, 5, 7, 9].includes(trimmedValue.length);\n    }\n    return false;\n}\n// 0 - 100%\nfunction normalizeAlphaUnit(value) {\n    if (/^\\d{1,3}\\.?\\d*%$/.test(value.trim())) {\n        return Math.max(0, Math.min(parseInt(value) / 100, 100));\n    }\n    return false;\n}\nconst inputThemeOverrides = {\n    paddingSmall: '0 4px'\n};\nexport default defineComponent({\n    name: 'ColorInputUnit',\n    props: {\n        label: {\n            type: String,\n            required: true\n        },\n        value: {\n            type: [Number, String],\n            default: null\n        },\n        showAlpha: Boolean,\n        onUpdateValue: {\n            type: Function,\n            required: true\n        }\n    },\n    setup(props) {\n        const inputValueRef = ref('');\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const { themeRef } = inject(colorPickerInjectionKey, null);\n        watchEffect(() => {\n            inputValueRef.value = getInputString();\n        });\n        function getInputString() {\n            const { value } = props;\n            if (value === null)\n                return '';\n            const { label } = props;\n            if (label === 'HEX') {\n                return value;\n            }\n            if (label === 'A') {\n                return `${Math.floor(value * 100)}%`;\n            }\n            return String(Math.floor(value));\n        }\n        function handleInputUpdateValue(value) {\n            inputValueRef.value = value;\n        }\n        function handleInputChange(value) {\n            let unit;\n            let valid;\n            switch (props.label) {\n                case 'HEX':\n                    valid = normalizeHexaUnit(value);\n                    if (valid) {\n                        props.onUpdateValue(value);\n                    }\n                    inputValueRef.value = getInputString(); // to normalized new value\n                    break;\n                case 'H':\n                    unit = normalizeHueUnit(value);\n                    if (unit === false) {\n                        inputValueRef.value = getInputString();\n                    }\n                    else {\n                        props.onUpdateValue(unit);\n                    }\n                    break;\n                case 'S':\n                case 'L':\n                case 'V':\n                    unit = normalizeSlvUnit(value);\n                    if (unit === false) {\n                        inputValueRef.value = getInputString();\n                    }\n                    else {\n                        props.onUpdateValue(unit);\n                    }\n                    break;\n                case 'A':\n                    unit = normalizeAlphaUnit(value);\n                    if (unit === false) {\n                        inputValueRef.value = getInputString();\n                    }\n                    else {\n                        props.onUpdateValue(unit);\n                    }\n                    break;\n                case 'R':\n                case 'G':\n                case 'B':\n                    unit = normalizeRgbUnit(value);\n                    if (unit === false) {\n                        inputValueRef.value = getInputString();\n                    }\n                    else {\n                        props.onUpdateValue(unit);\n                    }\n                    break;\n            }\n        }\n        return {\n            mergedTheme: themeRef,\n            inputValue: inputValueRef,\n            handleInputChange,\n            handleInputUpdateValue\n        };\n    },\n    render() {\n        const { mergedTheme } = this;\n        return (h(NInput, { size: \"small\", placeholder: this.label, theme: mergedTheme.peers.Input, themeOverrides: mergedTheme.peerOverrides.Input, builtinThemeOverrides: inputThemeOverrides, value: this.inputValue, onUpdateValue: this.handleInputUpdateValue, onChange: this.handleInputChange, \n            // add more space for xxx% input\n            style: this.label === 'A' ? 'flex-grow: 1.25;' : '' }));\n    }\n});\n","import { toHsvaString, toRgbaString, toHslaString, toHexaString, toHexString, toHsvString, toRgbString, toHslString } from 'seemly';\nimport { h, defineComponent } from 'vue';\nimport { NInputGroup } from '../../input';\nimport ColorInputUnit from './ColorInputUnit';\nexport default defineComponent({\n    name: 'ColorInput',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        mode: {\n            type: String,\n            required: true\n        },\n        modes: {\n            type: Array,\n            required: true\n        },\n        showAlpha: {\n            type: Boolean,\n            required: true\n        },\n        value: {\n            // for hex to get percise value\n            type: String,\n            default: null\n        },\n        valueArr: {\n            type: Array,\n            default: null\n        },\n        onUpdateValue: {\n            type: Function,\n            required: true\n        },\n        onUpdateMode: {\n            type: Function,\n            required: true\n        }\n    },\n    setup(props) {\n        return {\n            handleUnitUpdateValue(index, value) {\n                const { showAlpha } = props;\n                if (props.mode === 'hex') {\n                    props.onUpdateValue((showAlpha ? toHexaString : toHexString)(value));\n                    return;\n                }\n                let nextValueArr;\n                if (props.valueArr === null) {\n                    nextValueArr = [0, 0, 0, 0];\n                }\n                else {\n                    nextValueArr = Array.from(props.valueArr);\n                }\n                switch (props.mode) {\n                    case 'hsv':\n                        nextValueArr[index] = value;\n                        props.onUpdateValue((showAlpha ? toHsvaString : toHsvString)(nextValueArr));\n                        break;\n                    case 'rgb':\n                        nextValueArr[index] = value;\n                        props.onUpdateValue((showAlpha ? toRgbaString : toRgbString)(nextValueArr));\n                        break;\n                    case 'hsl':\n                        nextValueArr[index] = value;\n                        props.onUpdateValue((showAlpha ? toHslaString : toHslString)(nextValueArr));\n                        break;\n                }\n            }\n        };\n    },\n    render() {\n        const { clsPrefix, modes } = this;\n        return (h(\"div\", { class: `${clsPrefix}-color-picker-input` },\n            h(\"div\", { class: `${clsPrefix}-color-picker-input__mode`, onClick: this.onUpdateMode, style: {\n                    cursor: modes.length === 1 ? '' : 'pointer'\n                } }, this.mode.toUpperCase() + (this.showAlpha ? 'A' : '')),\n            h(NInputGroup, null, {\n                default: () => {\n                    const { mode, valueArr, showAlpha } = this;\n                    if (mode === 'hex') {\n                        // hex and rgba shares the same value arr\n                        let hexValue = null;\n                        try {\n                            hexValue =\n                                valueArr === null\n                                    ? null\n                                    : (showAlpha ? toHexaString : toHexString)(valueArr);\n                        }\n                        catch (_a) { }\n                        return (h(ColorInputUnit, { label: 'HEX', showAlpha: showAlpha, value: hexValue, onUpdateValue: (unitValue) => {\n                                this.handleUnitUpdateValue(0, unitValue);\n                            } }));\n                    }\n                    return (mode + (showAlpha ? 'a' : '')).split('').map((v, i) => (h(ColorInputUnit, { label: v.toUpperCase(), value: valueArr === null ? null : valueArr[i], onUpdateValue: (unitValue) => {\n                            this.handleUnitUpdateValue(i, unitValue);\n                        } })));\n                }\n            })));\n    }\n});\n","import { toHslaString } from 'seemly';\nimport { defineComponent, h, inject } from 'vue';\nimport { colorPickerInjectionKey } from './context';\nexport default defineComponent({\n    name: 'ColorPickerTrigger',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        value: {\n            type: String,\n            default: null\n        },\n        hsla: {\n            type: Array,\n            default: null\n        },\n        disabled: Boolean,\n        onClick: Function\n    },\n    setup(props) {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const { colorPickerSlots, renderLabelRef } = inject(colorPickerInjectionKey, null);\n        return () => {\n            const { hsla, value, clsPrefix, onClick, disabled } = props;\n            const renderLabel = colorPickerSlots.label || renderLabelRef.value;\n            return (h(\"div\", { class: [\n                    `${clsPrefix}-color-picker-trigger`,\n                    disabled && `${clsPrefix}-color-picker-trigger--disabled`\n                ], onClick: disabled ? undefined : onClick },\n                h(\"div\", { class: `${clsPrefix}-color-picker-trigger__fill` },\n                    h(\"div\", { class: `${clsPrefix}-color-picker-checkboard` }),\n                    h(\"div\", { style: {\n                            position: 'absolute',\n                            left: 0,\n                            right: 0,\n                            top: 0,\n                            bottom: 0,\n                            backgroundColor: hsla ? toHslaString(hsla) : ''\n                        } }),\n                    value && hsla ? (h(\"div\", { class: `${clsPrefix}-color-picker-trigger__value`, style: {\n                            color: hsla[2] > 50 || hsla[3] < 0.5 ? 'black' : 'white'\n                        } }, renderLabel ? renderLabel(value) : value)) : null)));\n        };\n    }\n});\n","import { defineComponent, h, computed } from 'vue';\nimport { hsv2rgb, hsva, toRgbaString } from 'seemly';\nimport { convertColor, getModeFromValue } from './utils';\nimport { warn } from '../../_utils';\n// Try to normalize the color values to ensure that they are valid CSS colors\nfunction normalizeColor(color, mode) {\n    if (mode === 'hsv') {\n        const [h, s, v, a] = hsva(color);\n        return toRgbaString([...hsv2rgb(h, s, v), a]);\n    }\n    // For the mode that is not in preset, we keep the original value.\n    // For color names, they are legal to CSS, so we donâ€™t deal with them,\n    // and only standardize them when outputting.\n    return color;\n}\nfunction getHexFromName(color) {\n    const ctx = document\n        .createElement('canvas')\n        .getContext('2d');\n    ctx.fillStyle = color;\n    return ctx.fillStyle;\n}\nexport default defineComponent({\n    name: 'ColorPickerSwatches',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        mode: {\n            type: String,\n            required: true\n        },\n        swatches: {\n            type: Array,\n            required: true\n        },\n        onUpdateColor: {\n            type: Function,\n            required: true\n        }\n    },\n    setup(props) {\n        const parsedSwatchesRef = computed(() => props.swatches.map((value) => {\n            const mode = getModeFromValue(value);\n            return {\n                value,\n                mode,\n                legalValue: normalizeColor(value, mode)\n            };\n        }));\n        function normalizeOutput(parsed) {\n            const { mode: modeProp } = props;\n            let { value, mode: swatchColorMode } = parsed;\n            // color name is converted to hex\n            if (!swatchColorMode) {\n                swatchColorMode = 'hex';\n                if (/^[a-zA-Z]+$/.test(value)) {\n                    value = getHexFromName(value);\n                }\n                else {\n                    // for invalid color, we make it black\n                    warn('color-picker', `color ${value} in swatches is invalid.`);\n                    value = '#000000';\n                }\n            }\n            if (swatchColorMode === modeProp)\n                return value;\n            // swatch value to current mode value\n            return convertColor(value, modeProp, swatchColorMode);\n        }\n        function handleSwatchSelect(parsed) {\n            props.onUpdateColor(normalizeOutput(parsed));\n        }\n        function handleSwatchKeyDown(e, parsed) {\n            if (e.key === 'Enter')\n                handleSwatchSelect(parsed);\n        }\n        return {\n            parsedSwatchesRef,\n            handleSwatchSelect,\n            handleSwatchKeyDown\n        };\n    },\n    render() {\n        const { clsPrefix } = this;\n        return (h(\"div\", { class: `${clsPrefix}-color-picker-swatches` }, this.parsedSwatchesRef.map((swatch) => (h(\"div\", { class: `${clsPrefix}-color-picker-swatch`, tabindex: 0, onClick: () => { this.handleSwatchSelect(swatch); }, onKeydown: (e) => { this.handleSwatchKeyDown(e, swatch); } },\n            h(\"div\", { class: `${clsPrefix}-color-picker-swatch__fill`, style: { background: swatch.legalValue } }))))));\n    }\n});\n","import { defineComponent, h } from 'vue';\nimport { convertColor, getModeFromValue } from './utils';\nexport default defineComponent({\n    name: 'ColorPreview',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        mode: {\n            type: String,\n            required: true\n        },\n        color: {\n            type: String,\n            default: null,\n            validator: (value) => {\n                const mode = getModeFromValue(value);\n                return Boolean(!value || (mode && mode !== 'hsv'));\n            }\n        },\n        onUpdateColor: {\n            type: Function,\n            required: true\n        }\n    },\n    setup(props) {\n        function handleChange(e) {\n            var _a;\n            // hex\n            const value = e.target.value;\n            (_a = props.onUpdateColor) === null || _a === void 0 ? void 0 : _a.call(props, convertColor(value.toUpperCase(), props.mode, 'hex'));\n            e.stopPropagation();\n        }\n        return {\n            handleChange\n        };\n    },\n    render() {\n        const { clsPrefix } = this;\n        return (h(\"div\", { class: `${clsPrefix}-color-picker-preview__preview` },\n            h(\"span\", { class: `${clsPrefix}-color-picker-preview__fill`, style: {\n                    background: this.color || '#000000'\n                } }),\n            h(\"input\", { class: `${clsPrefix}-color-picker-preview__input`, type: \"color\", value: this.color, onChange: this.handleChange })));\n    }\n});\n","import { c, cB, cE, cM } from '../../../_utils/cssr';\nimport { fadeInScaleUpTransition } from '../../../_styles/transitions/fade-in-scale-up.cssr';\n// vars:\n// --n-color\n// --n-text-color\n// --n-border-radius\n// --n-panel-font-size\n// --n-font-size\n// --n-bezier\n// --n-height\n// --n-box-shadow\n// --n-divider-color\nexport default c([cB('color-picker', `\n display: inline-block;\n box-sizing: border-box;\n height: var(--n-height);\n font-size: var(--n-font-size);\n width: 100%;\n position: relative;\n `), cB('color-picker-panel', `\n margin: 4px 0;\n width: 240px;\n font-size: var(--n-panel-font-size);\n color: var(--n-text-color);\n background-color: var(--n-color);\n transition:\n box-shadow .3s var(--n-bezier),\n color .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n border-radius: var(--n-border-radius);\n box-shadow: var(--n-box-shadow);\n `, [fadeInScaleUpTransition(), cB('input', `\n text-align: center;\n `)]), cB('color-picker-checkboard', `\n background: white; \n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n `, [c('&::after', `\n background-image: linear-gradient(45deg, #DDD 25%, #0000 25%), linear-gradient(-45deg, #DDD 25%, #0000 25%), linear-gradient(45deg, #0000 75%, #DDD 75%), linear-gradient(-45deg, #0000 75%, #DDD 75%);\n background-size: 12px 12px;\n background-position: 0 0, 0 6px, 6px -6px, -6px 0px;\n background-repeat: repeat;\n content: \"\";\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n `)]), cB('color-picker-slider', `\n margin-bottom: 8px;\n position: relative;\n box-sizing: border-box;\n `, [cE('image', `\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n `), c('&::after', `\n content: \"\";\n position: absolute;\n border-radius: inherit;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n box-shadow: inset 0 0 2px 0 rgba(0, 0, 0, .24);\n pointer-events: none;\n `)]), cB('color-picker-handle', `\n z-index: 1;\n box-shadow: 0 0 2px 0 rgba(0, 0, 0, .45);\n position: absolute;\n background-color: white;\n overflow: hidden;\n `, [cE('fill', `\n box-sizing: border-box;\n border: 2px solid white;\n `)]), cB('color-picker-pallete', `\n height: 180px;\n position: relative;\n margin-bottom: 8px;\n cursor: crosshair;\n `, [cE('layer', `\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n `, [cM('shadowed', `\n box-shadow: inset 0 0 2px 0 rgba(0, 0, 0, .24);\n `)])]), cB('color-picker-preview', `\n display: flex;\n `, [cE('sliders', `\n flex: 1 0 auto;\n `), cE('preview', `\n position: relative;\n height: 30px;\n width: 30px;\n margin: 0 0 8px 6px;\n border-radius: 50%;\n box-shadow: rgba(0, 0, 0, .15) 0px 0px 0px 1px inset;\n overflow: hidden;\n `), cE('fill', `\n display: block;\n width: 30px;\n height: 30px;\n `), cE('input', `\n position: absolute;\n top: 0;\n left: 0;\n width: 30px;\n height: 30px;\n opacity: 0;\n z-index: 1;\n `)]), cB('color-picker-input', `\n display: flex;\n align-items: center;\n `, [cB('input', `\n flex-grow: 1;\n flex-basis: 0;\n `), cE('mode', `\n width: 72px;\n text-align: center;\n `)]), cB('color-picker-control', `\n padding: 12px;\n `), cB('color-picker-action', `\n display: flex;\n margin-top: -4px;\n border-top: 1px solid var(--n-divider-color);\n padding: 8px 12px;\n justify-content: flex-end;\n `, [cB('button', 'margin-left: 8px;')]), cB('color-picker-trigger', `\n border: var(--n-border);\n height: 100%;\n box-sizing: border-box;\n border-radius: var(--n-border-radius);\n transition: border-color .3s var(--n-bezier);\n cursor: pointer;\n `, [cE('value', `\n white-space: nowrap;\n position: relative;\n `), cE('fill', `\n border-radius: var(--n-border-radius);\n position: absolute;\n display: flex;\n align-items: center;\n justify-content: center;\n left: 4px;\n right: 4px;\n top: 4px;\n bottom: 4px;\n `), cM('disabled', 'cursor: not-allowed'), cB('color-picker-checkboard', `\n border-radius: var(--n-border-radius);\n `, [c('&::after', `\n --n-block-size: calc((var(--n-height) - 8px) / 3);\n background-size: calc(var(--n-block-size) * 2) calc(var(--n-block-size) * 2);\n background-position: 0 0, 0 var(--n-block-size), var(--n-block-size) calc(-1 * var(--n-block-size)), calc(-1 * var(--n-block-size)) 0px; \n `)])]), cB('color-picker-swatches', `\n display: grid;\n grid-gap: 8px;\n flex-wrap: wrap;\n position: relative;\n grid-template-columns: repeat(auto-fill, 18px);\n margin-top: 10px;\n `, [cB('color-picker-swatch', `\n width: 18px;\n height: 18px;\n background-image: linear-gradient(45deg, #DDD 25%, #0000 25%), linear-gradient(-45deg, #DDD 25%, #0000 25%), linear-gradient(45deg, #0000 75%, #DDD 75%), linear-gradient(-45deg, #0000 75%, #DDD 75%);\n background-size: 8px 8px;\n background-position: 0px 0, 0px 4px, 4px -4px, -4px 0px;\n background-repeat: repeat;\n `, [cE('fill', `\n position: relative;\n width: 100%;\n height: 100%;\n border-radius: 3px;\n box-shadow: rgba(0, 0, 0, .15) 0px 0px 0px 1px inset;\n cursor: pointer;\n `), c('&:focus', `\n outline: none;\n `, [cE('fill', [c('&::after', `\n position: absolute;\n top: 0;\n right: 0;\n bottom: 0;\n left: 0;\n background: inherit;\n filter: blur(2px);\n content: \"\";\n `)])])])])]);","import { h, defineComponent, ref, computed, toRef, watchEffect, withDirectives, Transition, provide, watch, nextTick } from 'vue';\nimport { hsv2rgb, rgb2hsv, rgba, hsva, hsla, hsl2hsv, hsv2hsl, rgb2hsl, hsl2rgb, toRgbaString, toHsvaString, toHslaString, toHexaString, toHsvString, toRgbString, toHexString, toHslString, getPreciseEventTarget } from 'seemly';\nimport { useIsMounted, useMergedState } from 'vooks';\nimport { VBinder, VFollower, VTarget } from 'vueuc';\nimport { clickoutside } from 'vdirs';\nimport { colorPickerLight } from '../styles';\nimport { useFormItem, useConfig, useTheme, useLocale, useThemeClass } from '../../_mixins';\nimport { call, createKey, useAdjustedTo } from '../../_utils';\nimport { NButton } from '../../button';\nimport HueSlider from './HueSlider';\nimport AlphaSlider from './AlphaSlider';\nimport Pallete from './Pallete';\nimport ColorInput from './ColorInput';\nimport ColorPickerTrigger from './ColorPickerTrigger';\nimport { deriveDefaultValue, getModeFromValue } from './utils';\nimport ColorPickerSwatches from './ColorPickerSwatches';\nimport ColorPreview from './ColorPreview';\nimport { colorPickerInjectionKey } from './context';\nimport style from './styles/index.cssr';\nexport const colorPickerProps = Object.assign(Object.assign({}, useTheme.props), { value: String, show: {\n        type: Boolean,\n        default: undefined\n    }, defaultShow: Boolean, defaultValue: String, modes: {\n        type: Array,\n        // no hsva by default since browser doesn't support it\n        default: () => ['rgb', 'hex', 'hsl']\n    }, placement: {\n        type: String,\n        default: 'bottom-start'\n    }, to: useAdjustedTo.propTo, showAlpha: {\n        type: Boolean,\n        default: true\n    }, showPreview: Boolean, swatches: Array, disabled: {\n        type: Boolean,\n        default: undefined\n    }, actions: {\n        type: Array,\n        default: null\n    }, internalActions: Array, size: String, renderLabel: Function, onComplete: Function, onConfirm: Function, 'onUpdate:show': [Function, Array], onUpdateShow: [Function, Array], 'onUpdate:value': [Function, Array], onUpdateValue: [Function, Array] });\nexport default defineComponent({\n    name: 'ColorPicker',\n    props: colorPickerProps,\n    setup(props, { slots }) {\n        const selfRef = ref(null);\n        let upcomingValue = null;\n        const formItem = useFormItem(props);\n        const { mergedSizeRef, mergedDisabledRef } = formItem;\n        const { localeRef } = useLocale('global');\n        const { mergedClsPrefixRef, namespaceRef, inlineThemeDisabled } = useConfig(props);\n        const themeRef = useTheme('ColorPicker', '-color-picker', style, colorPickerLight, props, mergedClsPrefixRef);\n        provide(colorPickerInjectionKey, {\n            themeRef,\n            renderLabelRef: toRef(props, 'renderLabel'),\n            colorPickerSlots: slots\n        });\n        const uncontrolledShowRef = ref(props.defaultShow);\n        const mergedShowRef = useMergedState(toRef(props, 'show'), uncontrolledShowRef);\n        function doUpdateShow(value) {\n            const { onUpdateShow, 'onUpdate:show': _onUpdateShow } = props;\n            if (onUpdateShow)\n                call(onUpdateShow, value);\n            if (_onUpdateShow)\n                call(_onUpdateShow, value);\n            uncontrolledShowRef.value = value;\n        }\n        const { defaultValue } = props;\n        const uncontrolledValueRef = ref(defaultValue === undefined\n            ? deriveDefaultValue(props.modes, props.showAlpha)\n            : defaultValue);\n        const mergedValueRef = useMergedState(toRef(props, 'value'), uncontrolledValueRef);\n        const undoStackRef = ref([mergedValueRef.value]);\n        const valueIndexRef = ref(0);\n        const valueModeRef = computed(() => getModeFromValue(mergedValueRef.value));\n        const { modes } = props;\n        const displayedModeRef = ref(getModeFromValue(mergedValueRef.value) || modes[0] || 'rgb');\n        function handleUpdateDisplayedMode() {\n            const { modes } = props;\n            const { value: displayedMode } = displayedModeRef;\n            const currentModeIndex = modes.findIndex((mode) => mode === displayedMode);\n            if (~currentModeIndex) {\n                displayedModeRef.value = modes[(currentModeIndex + 1) % modes.length];\n            }\n            else {\n                displayedModeRef.value = 'rgb';\n            }\n        }\n        let _h, // avoid conflict with render function's h\n        s, l, v, r, g, b, a;\n        const hsvaRef = computed(() => {\n            const { value: mergedValue } = mergedValueRef;\n            if (!mergedValue)\n                return null;\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            switch (valueModeRef.value) {\n                case 'hsv':\n                    return hsva(mergedValue);\n                case 'hsl':\n                    ;\n                    [_h, s, l, a] = hsla(mergedValue);\n                    return [...hsl2hsv(_h, s, l), a];\n                case 'rgb':\n                case 'hex':\n                    ;\n                    [r, g, b, a] = rgba(mergedValue);\n                    return [...rgb2hsv(r, g, b), a];\n            }\n        });\n        const rgbaRef = computed(() => {\n            const { value: mergedValue } = mergedValueRef;\n            if (!mergedValue)\n                return null;\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            switch (valueModeRef.value) {\n                case 'rgb':\n                case 'hex':\n                    return rgba(mergedValue);\n                case 'hsv':\n                    ;\n                    [_h, s, v, a] = hsva(mergedValue);\n                    return [...hsv2rgb(_h, s, v), a];\n                case 'hsl':\n                    ;\n                    [_h, s, l, a] = hsla(mergedValue);\n                    return [...hsl2rgb(_h, s, l), a];\n            }\n        });\n        const hslaRef = computed(() => {\n            const { value: mergedValue } = mergedValueRef;\n            if (!mergedValue)\n                return null;\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            switch (valueModeRef.value) {\n                case 'hsl':\n                    return hsla(mergedValue);\n                case 'hsv':\n                    ;\n                    [_h, s, v, a] = hsva(mergedValue);\n                    return [...hsv2hsl(_h, s, v), a];\n                case 'rgb':\n                case 'hex':\n                    ;\n                    [r, g, b, a] = rgba(mergedValue);\n                    return [...rgb2hsl(r, g, b), a];\n            }\n        });\n        const mergedValueArrRef = computed(() => {\n            switch (displayedModeRef.value) {\n                case 'rgb':\n                case 'hex':\n                    return rgbaRef.value;\n                case 'hsv':\n                    return hsvaRef.value;\n                case 'hsl':\n                    return hslaRef.value;\n            }\n        });\n        const displayedHueRef = ref(0);\n        const displayedAlphaRef = ref(1);\n        const displayedSvRef = ref([0, 0]);\n        function handleUpdateSv(s, v) {\n            const { value: hsvaArr } = hsvaRef;\n            const hue = displayedHueRef.value;\n            const alpha = hsvaArr ? hsvaArr[3] : 1;\n            displayedSvRef.value = [s, v];\n            const { showAlpha } = props;\n            switch (displayedModeRef.value) {\n                case 'hsv':\n                    doUpdateValue((showAlpha ? toHsvaString : toHsvString)([hue, s, v, alpha]), 'cursor');\n                    break;\n                case 'hsl':\n                    doUpdateValue((showAlpha ? toHslaString : toHslString)([\n                        ...hsv2hsl(hue, s, v),\n                        alpha\n                    ]), 'cursor');\n                    break;\n                case 'rgb':\n                    doUpdateValue((showAlpha ? toRgbaString : toRgbString)([\n                        ...hsv2rgb(hue, s, v),\n                        alpha\n                    ]), 'cursor');\n                    break;\n                case 'hex':\n                    doUpdateValue((showAlpha ? toHexaString : toHexString)([\n                        ...hsv2rgb(hue, s, v),\n                        alpha\n                    ]), 'cursor');\n                    break;\n            }\n        }\n        function handleUpdateHue(hue) {\n            displayedHueRef.value = hue;\n            const { value: hsvaArr } = hsvaRef;\n            if (!hsvaArr) {\n                return;\n            }\n            const [, s, v, a] = hsvaArr;\n            const { showAlpha } = props;\n            switch (displayedModeRef.value) {\n                case 'hsv':\n                    doUpdateValue((showAlpha ? toHsvaString : toHsvString)([hue, s, v, a]), 'cursor');\n                    break;\n                case 'rgb':\n                    doUpdateValue((showAlpha ? toRgbaString : toRgbString)([\n                        ...hsv2rgb(hue, s, v),\n                        a\n                    ]), 'cursor');\n                    break;\n                case 'hex':\n                    doUpdateValue((showAlpha ? toHexaString : toHexString)([\n                        ...hsv2rgb(hue, s, v),\n                        a\n                    ]), 'cursor');\n                    break;\n                case 'hsl':\n                    doUpdateValue((showAlpha ? toHslaString : toHslString)([\n                        ...hsv2hsl(hue, s, v),\n                        a\n                    ]), 'cursor');\n                    break;\n            }\n        }\n        function handleUpdateAlpha(alpha) {\n            switch (displayedModeRef.value) {\n                case 'hsv':\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    ;\n                    [_h, s, v] = hsvaRef.value;\n                    doUpdateValue(toHsvaString([_h, s, v, alpha]), 'cursor');\n                    break;\n                case 'rgb':\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    ;\n                    [r, g, b] = rgbaRef.value;\n                    doUpdateValue(toRgbaString([r, g, b, alpha]), 'cursor');\n                    break;\n                case 'hex':\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    ;\n                    [r, g, b] = rgbaRef.value;\n                    doUpdateValue(toHexaString([r, g, b, alpha]), 'cursor');\n                    break;\n                case 'hsl':\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    ;\n                    [_h, s, l] = hslaRef.value;\n                    doUpdateValue(toHslaString([_h, s, l, alpha]), 'cursor');\n                    break;\n            }\n            displayedAlphaRef.value = alpha;\n        }\n        function doUpdateValue(value, updateSource) {\n            if (updateSource === 'cursor') {\n                upcomingValue = value;\n            }\n            else {\n                upcomingValue = null;\n            }\n            const { nTriggerFormChange, nTriggerFormInput } = formItem;\n            const { onUpdateValue, 'onUpdate:value': _onUpdateValue } = props;\n            if (onUpdateValue)\n                call(onUpdateValue, value);\n            if (_onUpdateValue)\n                call(_onUpdateValue, value);\n            nTriggerFormChange();\n            nTriggerFormInput();\n            uncontrolledValueRef.value = value;\n        }\n        function handleInputUpdateValue(value) {\n            doUpdateValue(value, 'input');\n            void nextTick(handleComplete);\n        }\n        function handleComplete(pushStack = true) {\n            const { value } = mergedValueRef;\n            // no value & only hue changes will complete with no value\n            if (value) {\n                const { nTriggerFormChange, nTriggerFormInput } = formItem;\n                const { onComplete } = props;\n                if (onComplete) {\n                    ;\n                    onComplete(value);\n                }\n                const { value: undoStack } = undoStackRef;\n                const { value: valueIndex } = valueIndexRef;\n                if (pushStack) {\n                    undoStack.splice(valueIndex + 1, undoStack.length, value);\n                    valueIndexRef.value = valueIndex + 1;\n                }\n                nTriggerFormChange();\n                nTriggerFormInput();\n            }\n        }\n        function undo() {\n            const { value: valueIndex } = valueIndexRef;\n            if (valueIndex - 1 < 0)\n                return;\n            doUpdateValue(undoStackRef.value[valueIndex - 1], 'input');\n            handleComplete(false);\n            valueIndexRef.value = valueIndex - 1;\n        }\n        function redo() {\n            const { value: valueIndex } = valueIndexRef;\n            if (valueIndex < 0 || valueIndex + 1 >= undoStackRef.value.length)\n                return;\n            doUpdateValue(undoStackRef.value[valueIndex + 1], 'input');\n            handleComplete(false);\n            valueIndexRef.value = valueIndex + 1;\n        }\n        function handleClear() {\n            doUpdateValue(null, 'input');\n            doUpdateShow(false);\n        }\n        function handleConfirm() {\n            const { value } = mergedValueRef;\n            const { onConfirm } = props;\n            if (onConfirm) {\n                ;\n                onConfirm(value);\n            }\n            doUpdateShow(false);\n        }\n        const undoableRef = computed(() => valueIndexRef.value >= 1);\n        const redoableRef = computed(() => {\n            const { value: undoStack } = undoStackRef;\n            return undoStack.length > 1 && valueIndexRef.value < undoStack.length - 1;\n        });\n        watch(mergedShowRef, (value) => {\n            if (!value) {\n                undoStackRef.value = [mergedValueRef.value];\n                valueIndexRef.value = 0;\n            }\n        });\n        watchEffect(() => {\n            if (upcomingValue && upcomingValue === mergedValueRef.value) {\n                // let it works in uncontrolled mode\n            }\n            else {\n                const { value } = hsvaRef;\n                if (value) {\n                    displayedHueRef.value = value[0];\n                    displayedAlphaRef.value = value[3];\n                    displayedSvRef.value = [value[1], value[2]];\n                }\n            }\n            upcomingValue = null;\n        });\n        const cssVarsRef = computed(() => {\n            const { value: mergedSize } = mergedSizeRef;\n            const { common: { cubicBezierEaseInOut }, self: { textColor, color, panelFontSize, boxShadow, border, borderRadius, dividerColor, [createKey('height', mergedSize)]: height, [createKey('fontSize', mergedSize)]: fontSize } } = themeRef.value;\n            return {\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-text-color': textColor,\n                '--n-color': color,\n                '--n-panel-font-size': panelFontSize,\n                '--n-font-size': fontSize,\n                '--n-box-shadow': boxShadow,\n                '--n-border': border,\n                '--n-border-radius': borderRadius,\n                '--n-height': height,\n                '--n-divider-color': dividerColor\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('color-picker', computed(() => {\n                return mergedSizeRef.value[0];\n            }), cssVarsRef, props)\n            : undefined;\n        function renderPanel() {\n            var _a;\n            const { value: rgba } = rgbaRef;\n            const { value: displayedHue } = displayedHueRef;\n            const { internalActions, modes, actions } = props;\n            const { value: mergedTheme } = themeRef;\n            const { value: mergedClsPrefix } = mergedClsPrefixRef;\n            return (h(\"div\", { class: [\n                    `${mergedClsPrefix}-color-picker-panel`,\n                    themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass.value\n                ], onDragstart: (e) => {\n                    e.preventDefault();\n                }, style: inlineThemeDisabled\n                    ? undefined\n                    : cssVarsRef.value },\n                h(\"div\", { class: `${mergedClsPrefix}-color-picker-control` },\n                    h(Pallete, { clsPrefix: mergedClsPrefix, rgba: rgba, displayedHue: displayedHue, displayedSv: displayedSvRef.value, onUpdateSV: handleUpdateSv, onComplete: handleComplete }),\n                    h(\"div\", { class: `${mergedClsPrefix}-color-picker-preview` },\n                        h(\"div\", { class: `${mergedClsPrefix}-color-picker-preview__sliders` },\n                            h(HueSlider, { clsPrefix: mergedClsPrefix, hue: displayedHue, onUpdateHue: handleUpdateHue, onComplete: handleComplete }),\n                            props.showAlpha ? (h(AlphaSlider, { clsPrefix: mergedClsPrefix, rgba: rgba, alpha: displayedAlphaRef.value, onUpdateAlpha: handleUpdateAlpha, onComplete: handleComplete })) : null),\n                        props.showPreview ? (h(ColorPreview, { clsPrefix: mergedClsPrefix, mode: displayedModeRef.value, color: rgbaRef.value && toHexString(rgbaRef.value), onUpdateColor: (color) => { doUpdateValue(color, 'input'); } })) : null),\n                    h(ColorInput, { clsPrefix: mergedClsPrefix, showAlpha: props.showAlpha, mode: displayedModeRef.value, modes: modes, onUpdateMode: handleUpdateDisplayedMode, value: mergedValueRef.value, valueArr: mergedValueArrRef.value, onUpdateValue: handleInputUpdateValue }),\n                    ((_a = props.swatches) === null || _a === void 0 ? void 0 : _a.length) && (h(ColorPickerSwatches, { clsPrefix: mergedClsPrefix, mode: displayedModeRef.value, swatches: props.swatches, onUpdateColor: (color) => { doUpdateValue(color, 'input'); } }))),\n                (actions === null || actions === void 0 ? void 0 : actions.length) ? (h(\"div\", { class: `${mergedClsPrefix}-color-picker-action` },\n                    actions.includes('confirm') && (h(NButton, { size: \"small\", onClick: handleConfirm, theme: mergedTheme.peers.Button, themeOverrides: mergedTheme.peerOverrides.Button }, { default: () => localeRef.value.confirm })),\n                    actions.includes('clear') && (h(NButton, { size: \"small\", onClick: handleClear, disabled: !mergedValueRef.value, theme: mergedTheme.peers.Button, themeOverrides: mergedTheme.peerOverrides.Button }, { default: () => localeRef.value.clear })))) : null,\n                slots.action ? (h(\"div\", { class: `${mergedClsPrefix}-color-picker-action` }, { default: slots.action })) : internalActions ? (h(\"div\", { class: `${mergedClsPrefix}-color-picker-action` },\n                    internalActions.includes('undo') && (h(NButton, { size: \"small\", onClick: undo, disabled: !undoableRef.value, theme: mergedTheme.peers.Button, themeOverrides: mergedTheme.peerOverrides.Button }, { default: () => localeRef.value.undo })),\n                    internalActions.includes('redo') && (h(NButton, { size: \"small\", onClick: redo, disabled: !redoableRef.value, theme: mergedTheme.peers.Button, themeOverrides: mergedTheme.peerOverrides.Button }, { default: () => localeRef.value.redo })))) : null));\n        }\n        return {\n            mergedClsPrefix: mergedClsPrefixRef,\n            namespace: namespaceRef,\n            selfRef,\n            hsla: hslaRef,\n            rgba: rgbaRef,\n            mergedShow: mergedShowRef,\n            mergedDisabled: mergedDisabledRef,\n            isMounted: useIsMounted(),\n            adjustedTo: useAdjustedTo(props),\n            mergedValue: mergedValueRef,\n            handleTriggerClick() {\n                doUpdateShow(true);\n            },\n            handleClickOutside(e) {\n                var _a;\n                if ((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(getPreciseEventTarget(e))) {\n                    return;\n                }\n                doUpdateShow(false);\n            },\n            renderPanel,\n            cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n            themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n            onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n        };\n    },\n    render() {\n        const { $slots, mergedClsPrefix, onRender } = this;\n        onRender === null || onRender === void 0 ? void 0 : onRender();\n        return (h(\"div\", { class: [this.themeClass, `${mergedClsPrefix}-color-picker`], ref: \"selfRef\", style: this.cssVars },\n            h(VBinder, null, {\n                default: () => [\n                    h(VTarget, null, {\n                        default: () => (h(ColorPickerTrigger, { clsPrefix: mergedClsPrefix, value: this.mergedValue, hsla: this.hsla, disabled: this.mergedDisabled, onClick: this.handleTriggerClick }, {\n                            label: $slots.label\n                        }))\n                    }),\n                    h(VFollower, { placement: this.placement, show: this.mergedShow, containerClass: this.namespace, teleportDisabled: this.adjustedTo === useAdjustedTo.tdkey, to: this.adjustedTo }, {\n                        default: () => (h(Transition, { name: \"fade-in-scale-up-transition\", appear: this.isMounted }, {\n                            default: () => this.mergedShow\n                                ? withDirectives(this.renderPanel(), [\n                                    [\n                                        clickoutside,\n                                        this.handleClickOutside,\n                                        undefined,\n                                        { capture: true }\n                                    ]\n                                ])\n                                : null\n                        }))\n                    })\n                ]\n            })));\n    }\n});\n","import { cB, c } from '../../../_utils/cssr';\nimport { fadeInScaleUpTransition } from '../../../_styles/transitions/fade-in-scale-up.cssr';\n// --n-menu-box-shadow\nexport default c([cB('select', `\n z-index: auto;\n outline: none;\n width: 100%;\n position: relative;\n `), cB('select-menu', `\n margin: 4px 0;\n box-shadow: var(--n-menu-box-shadow);\n `, [fadeInScaleUpTransition({\n  originalTransition: 'background-color .3s var(--n-bezier), box-shadow .3s var(--n-bezier)'\n})])]);","import { h, ref, computed, toRef, defineComponent, watch, Transition, withDirectives, vShow, watchEffect } from 'vue';\nimport { getPreciseEventTarget, happensIn } from 'seemly';\nimport { createTreeMate } from 'treemate';\nimport { VBinder, VFollower, VTarget } from 'vueuc';\nimport { useIsMounted, useMergedState, useCompitable } from 'vooks';\nimport { clickoutside } from 'vdirs';\nimport { useTheme, useConfig, useLocale, useFormItem, useThemeClass } from '../../_mixins';\nimport { call, markEventEffectPerformed, useAdjustedTo, warnOnce } from '../../_utils';\nimport { NInternalSelectMenu, NInternalSelection } from '../../_internal';\nimport { selectLight } from '../styles';\nimport { createValOptMap, filterOptions, createTmOptions, patternMatched } from './utils';\nimport style from './styles/index.cssr';\nexport const selectProps = Object.assign(Object.assign({}, useTheme.props), { to: useAdjustedTo.propTo, bordered: {\n        type: Boolean,\n        default: undefined\n    }, clearable: Boolean, clearFilterAfterSelect: {\n        type: Boolean,\n        default: true\n    }, options: {\n        type: Array,\n        default: () => []\n    }, defaultValue: {\n        type: [String, Number, Array],\n        default: null\n    }, keyboard: {\n        type: Boolean,\n        default: true\n    }, value: [String, Number, Array], placeholder: String, menuProps: Object, multiple: Boolean, size: String, filterable: Boolean, disabled: {\n        type: Boolean,\n        default: undefined\n    }, remote: Boolean, loading: Boolean, filter: Function, placement: {\n        type: String,\n        default: 'bottom-start'\n    }, widthMode: {\n        type: String,\n        default: 'trigger'\n    }, tag: Boolean, onCreate: Function, fallbackOption: {\n        type: [Function, Boolean],\n        default: undefined\n    }, show: {\n        type: Boolean,\n        default: undefined\n    }, showArrow: {\n        type: Boolean,\n        default: true\n    }, maxTagCount: [Number, String], consistentMenuWidth: {\n        type: Boolean,\n        default: true\n    }, virtualScroll: {\n        type: Boolean,\n        default: true\n    }, labelField: {\n        type: String,\n        default: 'label'\n    }, valueField: {\n        type: String,\n        default: 'value'\n    }, childrenField: {\n        type: String,\n        default: 'children'\n    }, renderLabel: Function, renderOption: Function, renderTag: Function, 'onUpdate:value': [Function, Array], inputProps: Object, nodeProps: Function, ignoreComposition: { type: Boolean, default: true }, showOnFocus: Boolean, \n    // for jsx\n    onUpdateValue: [Function, Array], onBlur: [Function, Array], onClear: [Function, Array], onFocus: [Function, Array], onScroll: [Function, Array], onSearch: [Function, Array], onUpdateShow: [Function, Array], 'onUpdate:show': [Function, Array], displayDirective: {\n        type: String,\n        default: 'show'\n    }, resetMenuOnOptionsChange: {\n        type: Boolean,\n        default: true\n    }, status: String, showCheckmark: {\n        type: Boolean,\n        default: true\n    }, \n    /** deprecated */\n    onChange: [Function, Array], items: Array });\nexport default defineComponent({\n    name: 'Select',\n    props: selectProps,\n    setup(props) {\n        if (process.env.NODE_ENV !== 'production') {\n            watchEffect(() => {\n                if (props.items !== undefined) {\n                    warnOnce('select', '`items` is deprecated, please use `options` instead.');\n                }\n                if (props.onChange !== undefined) {\n                    warnOnce('select', '`on-change` is deprecated, please use `on-update:value` instead.');\n                }\n            });\n        }\n        const { mergedClsPrefixRef, mergedBorderedRef, namespaceRef, inlineThemeDisabled } = useConfig(props);\n        const themeRef = useTheme('Select', '-select', style, selectLight, props, mergedClsPrefixRef);\n        const uncontrolledValueRef = ref(props.defaultValue);\n        const controlledValueRef = toRef(props, 'value');\n        const mergedValueRef = useMergedState(controlledValueRef, uncontrolledValueRef);\n        const focusedRef = ref(false);\n        const patternRef = ref('');\n        const treeMateRef = computed(() => {\n            const { valueField, childrenField } = props;\n            const options = createTmOptions(valueField, childrenField);\n            return createTreeMate(filteredOptionsRef.value, options);\n        });\n        const valOptMapRef = computed(() => createValOptMap(localOptionsRef.value, props.valueField, props.childrenField));\n        const uncontrolledShowRef = ref(false);\n        const mergedShowRef = useMergedState(toRef(props, 'show'), uncontrolledShowRef);\n        const triggerRef = ref(null);\n        const followerRef = ref(null);\n        const menuRef = ref(null);\n        const { localeRef } = useLocale('Select');\n        const localizedPlaceholderRef = computed(() => {\n            var _a;\n            return (_a = props.placeholder) !== null && _a !== void 0 ? _a : localeRef.value.placeholder;\n        });\n        const compitableOptionsRef = useCompitable(props, ['items', 'options']);\n        const emptyArray = [];\n        const createdOptionsRef = ref([]);\n        const beingCreatedOptionsRef = ref([]);\n        const memoValOptMapRef = ref(new Map());\n        const wrappedFallbackOptionRef = computed(() => {\n            const { fallbackOption } = props;\n            if (fallbackOption === undefined) {\n                const { labelField, valueField } = props;\n                return (value) => ({\n                    [labelField]: String(value),\n                    [valueField]: value\n                });\n            }\n            if (fallbackOption === false)\n                return false;\n            return (value) => {\n                return Object.assign(fallbackOption(value), {\n                    value\n                });\n            };\n        });\n        const localOptionsRef = computed(() => {\n            return beingCreatedOptionsRef.value.concat(createdOptionsRef.value).concat(compitableOptionsRef.value);\n        });\n        const resolvedFilterRef = computed(() => {\n            const { filter } = props;\n            if (filter)\n                return filter;\n            const { labelField, valueField } = props;\n            return (pattern, option) => {\n                if (!option)\n                    return false;\n                const label = option[labelField];\n                if (typeof label === 'string') {\n                    return patternMatched(pattern, label);\n                }\n                const value = option[valueField];\n                if (typeof value === 'string') {\n                    return patternMatched(pattern, value);\n                }\n                if (typeof value === 'number') {\n                    return patternMatched(pattern, String(value));\n                }\n                return false;\n            };\n        });\n        const filteredOptionsRef = computed(() => {\n            if (props.remote) {\n                return compitableOptionsRef.value;\n            }\n            else {\n                const { value: localOptions } = localOptionsRef;\n                const { value: pattern } = patternRef;\n                if (!pattern.length || !props.filterable) {\n                    return localOptions;\n                }\n                else {\n                    return filterOptions(localOptions, resolvedFilterRef.value, pattern, props.childrenField);\n                }\n            }\n        });\n        function getMergedOptions(values) {\n            const remote = props.remote;\n            const { value: memoValOptMap } = memoValOptMapRef;\n            const { value: valOptMap } = valOptMapRef;\n            const { value: wrappedFallbackOption } = wrappedFallbackOptionRef;\n            const options = [];\n            values.forEach((value) => {\n                if (valOptMap.has(value)) {\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    options.push(valOptMap.get(value));\n                }\n                else if (remote && memoValOptMap.has(value)) {\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    options.push(memoValOptMap.get(value));\n                }\n                else if (wrappedFallbackOption) {\n                    const option = wrappedFallbackOption(value);\n                    if (option) {\n                        options.push(option);\n                    }\n                }\n            });\n            return options;\n        }\n        const selectedOptionsRef = computed(() => {\n            if (props.multiple) {\n                const { value: values } = mergedValueRef;\n                if (!Array.isArray(values))\n                    return [];\n                return getMergedOptions(values);\n            }\n            return null;\n        });\n        const selectedOptionRef = computed(() => {\n            const { value: mergedValue } = mergedValueRef;\n            if (!props.multiple && !Array.isArray(mergedValue)) {\n                if (mergedValue === null)\n                    return null;\n                return getMergedOptions([mergedValue])[0] || null;\n            }\n            return null;\n        });\n        const formItem = useFormItem(props);\n        const { mergedSizeRef, mergedDisabledRef, mergedStatusRef } = formItem;\n        function doUpdateValue(value, option) {\n            const { onChange, 'onUpdate:value': _onUpdateValue, onUpdateValue } = props;\n            const { nTriggerFormChange, nTriggerFormInput } = formItem;\n            if (onChange)\n                call(onChange, value, option);\n            if (onUpdateValue)\n                call(onUpdateValue, value, option);\n            if (_onUpdateValue) {\n                call(_onUpdateValue, value, option);\n            }\n            uncontrolledValueRef.value = value;\n            nTriggerFormChange();\n            nTriggerFormInput();\n        }\n        function doBlur(e) {\n            const { onBlur } = props;\n            const { nTriggerFormBlur } = formItem;\n            if (onBlur)\n                call(onBlur, e);\n            nTriggerFormBlur();\n        }\n        function doClear() {\n            const { onClear } = props;\n            if (onClear)\n                call(onClear);\n        }\n        function doFocus(e) {\n            const { onFocus, showOnFocus } = props;\n            const { nTriggerFormFocus } = formItem;\n            if (onFocus)\n                call(onFocus, e);\n            nTriggerFormFocus();\n            if (showOnFocus) {\n                openMenu();\n            }\n        }\n        function doSearch(value) {\n            const { onSearch } = props;\n            if (onSearch)\n                call(onSearch, value);\n        }\n        function doScroll(e) {\n            const { onScroll } = props;\n            if (onScroll)\n                call(onScroll, e);\n        }\n        // remote related methods\n        function updateMemorizedOptions() {\n            var _a;\n            const { remote, multiple } = props;\n            if (remote) {\n                const { value: memoValOptMap } = memoValOptMapRef;\n                if (multiple) {\n                    const { valueField } = props;\n                    (_a = selectedOptionsRef.value) === null || _a === void 0 ? void 0 : _a.forEach((option) => {\n                        memoValOptMap.set(option[valueField], option);\n                    });\n                }\n                else {\n                    const option = selectedOptionRef.value;\n                    if (option) {\n                        memoValOptMap.set(option[props.valueField], option);\n                    }\n                }\n            }\n        }\n        // menu related methods\n        function doUpdateShow(value) {\n            const { onUpdateShow, 'onUpdate:show': _onUpdateShow } = props;\n            if (onUpdateShow)\n                call(onUpdateShow, value);\n            if (_onUpdateShow)\n                call(_onUpdateShow, value);\n            uncontrolledShowRef.value = value;\n        }\n        function openMenu() {\n            if (!mergedDisabledRef.value) {\n                doUpdateShow(true);\n                uncontrolledShowRef.value = true;\n                if (props.filterable) {\n                    focusSelectionInput();\n                }\n            }\n        }\n        function closeMenu() {\n            doUpdateShow(false);\n        }\n        function handleMenuAfterLeave() {\n            patternRef.value = '';\n            beingCreatedOptionsRef.value = emptyArray;\n        }\n        const activeWithoutMenuOpenRef = ref(false);\n        function onTriggerInputFocus() {\n            if (props.filterable) {\n                activeWithoutMenuOpenRef.value = true;\n            }\n        }\n        function onTriggerInputBlur() {\n            if (props.filterable) {\n                activeWithoutMenuOpenRef.value = false;\n                if (!mergedShowRef.value) {\n                    handleMenuAfterLeave();\n                }\n            }\n        }\n        function handleTriggerClick() {\n            if (mergedDisabledRef.value)\n                return;\n            if (!mergedShowRef.value) {\n                openMenu();\n            }\n            else {\n                if (!props.filterable) {\n                    // already focused, don't need to return focus\n                    closeMenu();\n                }\n                else {\n                    focusSelectionInput();\n                }\n            }\n        }\n        function handleTriggerBlur(e) {\n            var _a, _b;\n            if ((_b = (_a = menuRef.value) === null || _a === void 0 ? void 0 : _a.selfRef) === null || _b === void 0 ? void 0 : _b.contains(e.relatedTarget)) {\n                return;\n            }\n            focusedRef.value = false;\n            doBlur(e);\n            // outside select, don't need to return focus\n            closeMenu();\n        }\n        function handleTriggerFocus(e) {\n            doFocus(e);\n            focusedRef.value = true;\n        }\n        function handleMenuFocus(e) {\n            focusedRef.value = true;\n        }\n        function handleMenuBlur(e) {\n            var _a;\n            if ((_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.$el.contains(e.relatedTarget))\n                return;\n            focusedRef.value = false;\n            doBlur(e);\n            // outside select, don't need to return focus\n            closeMenu();\n        }\n        function handleMenuTabOut() {\n            var _a;\n            (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n            closeMenu();\n        }\n        function handleMenuClickOutside(e) {\n            var _a;\n            if (mergedShowRef.value) {\n                if (!((_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.$el.contains(getPreciseEventTarget(e)))) {\n                    // outside select, don't need to return focus\n                    closeMenu();\n                }\n            }\n        }\n        function createClearedMultipleSelectValue(value) {\n            if (!Array.isArray(value))\n                return [];\n            if (wrappedFallbackOptionRef.value) {\n                // if option has a fallback, I can't help user to clear some unknown value\n                return Array.from(value);\n            }\n            else {\n                // if there's no option fallback, unappeared options are treated as invalid\n                const { remote } = props;\n                const { value: valOptMap } = valOptMapRef;\n                if (remote) {\n                    const { value: memoValOptMap } = memoValOptMapRef;\n                    return value.filter((v) => valOptMap.has(v) || memoValOptMap.has(v));\n                }\n                else {\n                    return value.filter((v) => valOptMap.has(v));\n                }\n            }\n        }\n        function handleToggleByTmNode(tmNode) {\n            handleToggleByOption(tmNode.rawNode);\n        }\n        function handleToggleByOption(option) {\n            if (mergedDisabledRef.value)\n                return;\n            const { tag, remote, clearFilterAfterSelect, valueField } = props;\n            if (tag && !remote) {\n                const { value: beingCreatedOptions } = beingCreatedOptionsRef;\n                const beingCreatedOption = beingCreatedOptions[0] || null;\n                if (beingCreatedOption) {\n                    const createdOptions = createdOptionsRef.value;\n                    if (!createdOptions.length) {\n                        createdOptionsRef.value = [beingCreatedOption];\n                    }\n                    else {\n                        createdOptions.push(beingCreatedOption);\n                    }\n                    beingCreatedOptionsRef.value = emptyArray;\n                }\n            }\n            if (remote) {\n                memoValOptMapRef.value.set(option[valueField], option);\n            }\n            if (props.multiple) {\n                const changedValue = createClearedMultipleSelectValue(mergedValueRef.value);\n                const index = changedValue.findIndex((value) => value === option[valueField]);\n                if (~index) {\n                    changedValue.splice(index, 1);\n                    if (tag && !remote) {\n                        const createdOptionIndex = getCreatedOptionIndex(option[valueField]);\n                        if (~createdOptionIndex) {\n                            createdOptionsRef.value.splice(createdOptionIndex, 1);\n                            if (clearFilterAfterSelect)\n                                patternRef.value = '';\n                        }\n                    }\n                }\n                else {\n                    changedValue.push(option[valueField]);\n                    if (clearFilterAfterSelect)\n                        patternRef.value = '';\n                }\n                doUpdateValue(changedValue, getMergedOptions(changedValue));\n            }\n            else {\n                if (tag && !remote) {\n                    const createdOptionIndex = getCreatedOptionIndex(option[valueField]);\n                    if (~createdOptionIndex) {\n                        createdOptionsRef.value = [\n                            createdOptionsRef.value[createdOptionIndex]\n                        ];\n                    }\n                    else {\n                        createdOptionsRef.value = emptyArray;\n                    }\n                }\n                focusSelection();\n                closeMenu();\n                doUpdateValue(option[valueField], option);\n            }\n        }\n        function getCreatedOptionIndex(optionValue) {\n            const createdOptions = createdOptionsRef.value;\n            return createdOptions.findIndex((createdOption) => createdOption[props.valueField] === optionValue);\n        }\n        function handlePatternInput(e) {\n            if (!mergedShowRef.value) {\n                openMenu();\n            }\n            const { value } = e.target;\n            patternRef.value = value;\n            const { tag, remote } = props;\n            doSearch(value);\n            if (tag && !remote) {\n                if (!value) {\n                    beingCreatedOptionsRef.value = emptyArray;\n                    return;\n                }\n                const { onCreate } = props;\n                const optionBeingCreated = onCreate\n                    ? onCreate(value)\n                    : { [props.labelField]: value, [props.valueField]: value };\n                const { valueField } = props;\n                if (compitableOptionsRef.value.some((option) => option[valueField] === optionBeingCreated[valueField]) ||\n                    createdOptionsRef.value.some((option) => option[valueField] === optionBeingCreated[valueField])) {\n                    beingCreatedOptionsRef.value = emptyArray;\n                }\n                else {\n                    beingCreatedOptionsRef.value = [optionBeingCreated];\n                }\n            }\n        }\n        function handleClear(e) {\n            e.stopPropagation();\n            const { multiple } = props;\n            if (!multiple && props.filterable) {\n                closeMenu();\n            }\n            doClear();\n            if (multiple) {\n                doUpdateValue([], []);\n            }\n            else {\n                doUpdateValue(null, null);\n            }\n        }\n        function handleMenuMousedown(e) {\n            if (!happensIn(e, 'action') && !happensIn(e, 'empty'))\n                e.preventDefault();\n        }\n        // scroll events on menu\n        function handleMenuScroll(e) {\n            doScroll(e);\n        }\n        // keyboard events\n        // also for menu keydown\n        function handleKeydown(e) {\n            var _a, _b, _c, _d, _e;\n            if (!props.keyboard) {\n                e.preventDefault();\n                return;\n            }\n            switch (e.key) {\n                case ' ':\n                    if (props.filterable)\n                        break;\n                    else {\n                        e.preventDefault();\n                    }\n                // eslint-disable-next-line no-fallthrough\n                case 'Enter':\n                    if (!((_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.isComposing)) {\n                        if (mergedShowRef.value) {\n                            const pendingTmNode = (_b = menuRef.value) === null || _b === void 0 ? void 0 : _b.getPendingTmNode();\n                            if (pendingTmNode) {\n                                handleToggleByTmNode(pendingTmNode);\n                            }\n                            else if (!props.filterable) {\n                                closeMenu();\n                                focusSelection();\n                            }\n                        }\n                        else {\n                            openMenu();\n                            if (props.tag && activeWithoutMenuOpenRef.value) {\n                                const beingCreatedOption = beingCreatedOptionsRef.value[0];\n                                if (beingCreatedOption) {\n                                    const optionValue = beingCreatedOption[props.valueField];\n                                    const { value: mergedValue } = mergedValueRef;\n                                    if (props.multiple) {\n                                        if (Array.isArray(mergedValue) &&\n                                            mergedValue.some((value) => value === optionValue)) {\n                                            // do nothing\n                                        }\n                                        else {\n                                            handleToggleByOption(beingCreatedOption);\n                                        }\n                                    }\n                                    else {\n                                        handleToggleByOption(beingCreatedOption);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    e.preventDefault();\n                    break;\n                case 'ArrowUp':\n                    e.preventDefault();\n                    if (props.loading)\n                        return;\n                    if (mergedShowRef.value) {\n                        (_c = menuRef.value) === null || _c === void 0 ? void 0 : _c.prev();\n                    }\n                    break;\n                case 'ArrowDown':\n                    e.preventDefault();\n                    if (props.loading)\n                        return;\n                    if (mergedShowRef.value) {\n                        (_d = menuRef.value) === null || _d === void 0 ? void 0 : _d.next();\n                    }\n                    else {\n                        openMenu();\n                    }\n                    break;\n                case 'Escape':\n                    if (mergedShowRef.value) {\n                        markEventEffectPerformed(e);\n                        closeMenu();\n                    }\n                    (_e = triggerRef.value) === null || _e === void 0 ? void 0 : _e.focus();\n                    break;\n            }\n        }\n        function focusSelection() {\n            var _a;\n            (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n        }\n        function focusSelectionInput() {\n            var _a;\n            (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focusInput();\n        }\n        function handleTriggerOrMenuResize() {\n            var _a;\n            if (!mergedShowRef.value)\n                return;\n            (_a = followerRef.value) === null || _a === void 0 ? void 0 : _a.syncPosition();\n        }\n        updateMemorizedOptions();\n        watch(toRef(props, 'options'), updateMemorizedOptions);\n        const exposedMethods = {\n            focus: () => {\n                var _a;\n                (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n            },\n            blur: () => {\n                var _a;\n                (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.blur();\n            }\n        };\n        const cssVarsRef = computed(() => {\n            const { self: { menuBoxShadow } } = themeRef.value;\n            return {\n                '--n-menu-box-shadow': menuBoxShadow\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('select', undefined, cssVarsRef, props)\n            : undefined;\n        return Object.assign(Object.assign({}, exposedMethods), { mergedStatus: mergedStatusRef, mergedClsPrefix: mergedClsPrefixRef, mergedBordered: mergedBorderedRef, namespace: namespaceRef, treeMate: treeMateRef, isMounted: useIsMounted(), triggerRef,\n            menuRef, pattern: patternRef, uncontrolledShow: uncontrolledShowRef, mergedShow: mergedShowRef, adjustedTo: useAdjustedTo(props), uncontrolledValue: uncontrolledValueRef, mergedValue: mergedValueRef, followerRef, localizedPlaceholder: localizedPlaceholderRef, selectedOption: selectedOptionRef, selectedOptions: selectedOptionsRef, mergedSize: mergedSizeRef, mergedDisabled: mergedDisabledRef, focused: focusedRef, activeWithoutMenuOpen: activeWithoutMenuOpenRef, inlineThemeDisabled,\n            onTriggerInputFocus,\n            onTriggerInputBlur,\n            handleTriggerOrMenuResize,\n            handleMenuFocus,\n            handleMenuBlur,\n            handleMenuTabOut,\n            handleTriggerClick, handleToggle: handleToggleByTmNode, handleDeleteOption: handleToggleByOption, handlePatternInput,\n            handleClear,\n            handleTriggerBlur,\n            handleTriggerFocus,\n            handleKeydown,\n            handleMenuAfterLeave,\n            handleMenuClickOutside,\n            handleMenuScroll, handleMenuKeydown: handleKeydown, handleMenuMousedown, mergedTheme: themeRef, cssVars: inlineThemeDisabled ? undefined : cssVarsRef, themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass, onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender });\n    },\n    render() {\n        return (h(\"div\", { class: `${this.mergedClsPrefix}-select` },\n            h(VBinder, null, {\n                default: () => [\n                    h(VTarget, null, {\n                        default: () => (h(NInternalSelection, { ref: \"triggerRef\", inlineThemeDisabled: this.inlineThemeDisabled, status: this.mergedStatus, inputProps: this.inputProps, clsPrefix: this.mergedClsPrefix, showArrow: this.showArrow, maxTagCount: this.maxTagCount, bordered: this.mergedBordered, active: this.activeWithoutMenuOpen || this.mergedShow, pattern: this.pattern, placeholder: this.localizedPlaceholder, selectedOption: this.selectedOption, selectedOptions: this.selectedOptions, multiple: this.multiple, renderTag: this.renderTag, renderLabel: this.renderLabel, filterable: this.filterable, clearable: this.clearable, disabled: this.mergedDisabled, size: this.mergedSize, theme: this.mergedTheme.peers.InternalSelection, labelField: this.labelField, valueField: this.valueField, themeOverrides: this.mergedTheme.peerOverrides.InternalSelection, loading: this.loading, focused: this.focused, onClick: this.handleTriggerClick, onDeleteOption: this.handleDeleteOption, onPatternInput: this.handlePatternInput, onClear: this.handleClear, onBlur: this.handleTriggerBlur, onFocus: this.handleTriggerFocus, onKeydown: this.handleKeydown, onPatternBlur: this.onTriggerInputBlur, onPatternFocus: this.onTriggerInputFocus, onResize: this.handleTriggerOrMenuResize, ignoreComposition: this.ignoreComposition }, {\n                            arrow: () => { var _a, _b; return [(_b = (_a = this.$slots).arrow) === null || _b === void 0 ? void 0 : _b.call(_a)]; }\n                        }))\n                    }),\n                    h(VFollower, { ref: \"followerRef\", show: this.mergedShow, to: this.adjustedTo, teleportDisabled: this.adjustedTo === useAdjustedTo.tdkey, containerClass: this.namespace, width: this.consistentMenuWidth ? 'target' : undefined, minWidth: \"target\", placement: this.placement }, {\n                        default: () => (h(Transition, { name: \"fade-in-scale-up-transition\", appear: this.isMounted, onAfterLeave: this.handleMenuAfterLeave }, {\n                            default: () => {\n                                var _a, _b, _c;\n                                if (!(this.mergedShow ||\n                                    this.displayDirective === 'show')) {\n                                    return null;\n                                }\n                                (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n                                return withDirectives(h(NInternalSelectMenu, Object.assign({}, this.menuProps, { ref: \"menuRef\", onResize: this.handleTriggerOrMenuResize, inlineThemeDisabled: this.inlineThemeDisabled, virtualScroll: this.consistentMenuWidth && this.virtualScroll, class: [\n                                        `${this.mergedClsPrefix}-select-menu`,\n                                        this.themeClass,\n                                        (_b = this.menuProps) === null || _b === void 0 ? void 0 : _b.class\n                                    ], clsPrefix: this.mergedClsPrefix, focusable: true, labelField: this.labelField, valueField: this.valueField, autoPending: true, nodeProps: this.nodeProps, theme: this.mergedTheme.peers.InternalSelectMenu, themeOverrides: this.mergedTheme.peerOverrides\n                                        .InternalSelectMenu, treeMate: this.treeMate, multiple: this.multiple, size: \"medium\", renderOption: this.renderOption, renderLabel: this.renderLabel, value: this.mergedValue, style: [(_c = this.menuProps) === null || _c === void 0 ? void 0 : _c.style, this.cssVars], onToggle: this.handleToggle, onScroll: this.handleMenuScroll, onFocus: this.handleMenuFocus, onBlur: this.handleMenuBlur, onKeydown: this.handleMenuKeydown, onTabOut: this.handleMenuTabOut, onMousedown: this.handleMenuMousedown, show: this.mergedShow, showCheckmark: this.showCheckmark, resetMenuOnOptionsChange: this.resetMenuOnOptionsChange }), {\n                                    empty: () => { var _a, _b; return [(_b = (_a = this.$slots).empty) === null || _b === void 0 ? void 0 : _b.call(_a)]; },\n                                    action: () => { var _a, _b; return [(_b = (_a = this.$slots).action) === null || _b === void 0 ? void 0 : _b.call(_a)]; }\n                                }), this.displayDirective === 'show'\n                                    ? [\n                                        [vShow, this.mergedShow],\n                                        [\n                                            clickoutside,\n                                            this.handleMenuClickOutside,\n                                            undefined,\n                                            { capture: true }\n                                        ]\n                                    ]\n                                    : [\n                                        [\n                                            clickoutside,\n                                            this.handleMenuClickOutside,\n                                            undefined,\n                                            { capture: true }\n                                        ]\n                                    ]);\n                            }\n                        }))\n                    })\n                ]\n            })));\n    }\n});\n","import { changeColor } from 'seemly';\nimport commonVariables from './_common';\nimport { commonLight } from '../../_styles/common';\nconst self = (vars) => {\n    const { borderColor, primaryColor, baseColor, textColorDisabled, inputColorDisabled, textColor2, opacityDisabled, borderRadius, fontSizeSmall, fontSizeMedium, fontSizeLarge, heightSmall, heightMedium, heightLarge, lineHeight } = vars;\n    return Object.assign(Object.assign({}, commonVariables), { labelLineHeight: lineHeight, buttonHeightSmall: heightSmall, buttonHeightMedium: heightMedium, buttonHeightLarge: heightLarge, fontSizeSmall,\n        fontSizeMedium,\n        fontSizeLarge, boxShadow: `inset 0 0 0 1px ${borderColor}`, boxShadowActive: `inset 0 0 0 1px ${primaryColor}`, boxShadowFocus: `inset 0 0 0 1px ${primaryColor}, 0 0 0 2px ${changeColor(primaryColor, { alpha: 0.2 })}`, boxShadowHover: `inset 0 0 0 1px ${primaryColor}`, boxShadowDisabled: `inset 0 0 0 1px ${borderColor}`, color: baseColor, colorDisabled: inputColorDisabled, colorActive: '#0000', textColor: textColor2, textColorDisabled, dotColorActive: primaryColor, dotColorDisabled: borderColor, buttonBorderColor: borderColor, buttonBorderColorActive: primaryColor, buttonBorderColorHover: borderColor, buttonColor: baseColor, buttonColorActive: baseColor, buttonTextColor: textColor2, buttonTextColorActive: primaryColor, buttonTextColorHover: primaryColor, opacityDisabled, buttonBoxShadowFocus: `inset 0 0 0 1px ${primaryColor}, 0 0 0 2px ${changeColor(primaryColor, { alpha: 0.3 })}`, buttonBoxShadowHover: 'inset 0 0 0 1px #0000', buttonBoxShadow: 'inset 0 0 0 1px #0000', buttonBorderRadius: borderRadius });\n};\nconst radioLight = {\n    name: 'Radio',\n    common: commonLight,\n    self\n};\nexport default radioLight;\n","import { inject, ref, toRef, watchEffect } from 'vue';\nimport { useMemo, useMergedState } from 'vooks';\nimport { useConfig, useFormItem } from '../../_mixins';\nimport { call, createInjectionKey, warnOnce } from '../../_utils';\nexport const radioProps = {\n    name: String,\n    value: {\n        type: [String, Number, Boolean],\n        default: 'on'\n    },\n    checked: {\n        type: Boolean,\n        default: undefined\n    },\n    defaultChecked: Boolean,\n    disabled: {\n        type: Boolean,\n        default: undefined\n    },\n    label: String,\n    size: String,\n    onUpdateChecked: [Function, Array],\n    'onUpdate:checked': [Function, Array],\n    // deprecated\n    checkedValue: {\n        type: Boolean,\n        default: undefined\n    }\n};\nexport const radioGroupInjectionKey = createInjectionKey('n-radio-group');\nfunction setup(props) {\n    if (process.env.NODE_ENV !== 'production') {\n        watchEffect(() => {\n            if (props.checkedValue !== undefined) {\n                warnOnce('radio', '`checked-value` is deprecated, please use `checked` instead.');\n            }\n        });\n    }\n    const formItem = useFormItem(props, {\n        mergedSize(NFormItem) {\n            const { size } = props;\n            if (size !== undefined)\n                return size;\n            if (NRadioGroup) {\n                const { mergedSizeRef: { value: mergedSize } } = NRadioGroup;\n                if (mergedSize !== undefined) {\n                    return mergedSize;\n                }\n            }\n            if (NFormItem) {\n                return NFormItem.mergedSize.value;\n            }\n            return 'medium';\n        },\n        mergedDisabled(NFormItem) {\n            if (props.disabled)\n                return true;\n            if (NRadioGroup === null || NRadioGroup === void 0 ? void 0 : NRadioGroup.disabledRef.value)\n                return true;\n            if (NFormItem === null || NFormItem === void 0 ? void 0 : NFormItem.disabled.value)\n                return true;\n            return false;\n        }\n    });\n    const { mergedSizeRef, mergedDisabledRef } = formItem;\n    const inputRef = ref(null);\n    const labelRef = ref(null);\n    const NRadioGroup = inject(radioGroupInjectionKey, null);\n    const uncontrolledCheckedRef = ref(props.defaultChecked);\n    const controlledCheckedRef = toRef(props, 'checked');\n    const mergedCheckedRef = useMergedState(controlledCheckedRef, uncontrolledCheckedRef);\n    const renderSafeCheckedRef = useMemo(() => {\n        if (NRadioGroup)\n            return NRadioGroup.valueRef.value === props.value;\n        return mergedCheckedRef.value;\n    });\n    const mergedNameRef = useMemo(() => {\n        const { name } = props;\n        if (name !== undefined)\n            return name;\n        if (NRadioGroup)\n            return NRadioGroup.nameRef.value;\n    });\n    const focusRef = ref(false);\n    function doUpdateChecked() {\n        if (NRadioGroup) {\n            const { doUpdateValue } = NRadioGroup;\n            const { value } = props;\n            call(doUpdateValue, value);\n        }\n        else {\n            const { onUpdateChecked, 'onUpdate:checked': _onUpdateChecked } = props;\n            const { nTriggerFormInput, nTriggerFormChange } = formItem;\n            if (onUpdateChecked)\n                call(onUpdateChecked, true);\n            if (_onUpdateChecked)\n                call(_onUpdateChecked, true);\n            nTriggerFormInput();\n            nTriggerFormChange();\n            uncontrolledCheckedRef.value = true;\n        }\n    }\n    function toggle() {\n        if (mergedDisabledRef.value)\n            return;\n        if (!renderSafeCheckedRef.value) {\n            doUpdateChecked();\n        }\n    }\n    function handleRadioInputChange() {\n        toggle();\n    }\n    function handleRadioInputBlur() {\n        focusRef.value = false;\n    }\n    function handleRadioInputFocus() {\n        focusRef.value = true;\n    }\n    return {\n        mergedClsPrefix: NRadioGroup\n            ? NRadioGroup.mergedClsPrefixRef\n            : useConfig(props).mergedClsPrefixRef,\n        inputRef,\n        labelRef,\n        mergedName: mergedNameRef,\n        mergedDisabled: mergedDisabledRef,\n        uncontrolledChecked: uncontrolledCheckedRef,\n        renderSafeChecked: renderSafeCheckedRef,\n        focus: focusRef,\n        mergedSize: mergedSizeRef,\n        handleRadioInputChange,\n        handleRadioInputBlur,\n        handleRadioInputFocus\n    };\n}\nexport { setup };\n","import { cB, cE, cM, c, cNotM } from '../../../_utils/cssr';\n// vars:\n// --n-bezier\n// --n-button-border-color\n// --n-button-border-color-active\n// --n-height\n// --n-opacity-disabled\n// --n-font-size\nexport default cB('radio-group', `\n display: inline-block;\n font-size: var(--n-font-size);\n`, [cE('splitor', `\n display: inline-block;\n vertical-align: bottom;\n width: 1px;\n transition:\n background-color .3s var(--n-bezier),\n opacity .3s var(--n-bezier);\n background: var(--n-button-border-color);\n `, [cM('checked', {\n  backgroundColor: 'var(--n-button-border-color-active)'\n}), cM('disabled', {\n  opacity: 'var(--n-opacity-disabled)'\n})]), cM('button-group', `\n white-space: nowrap;\n height: var(--n-height);\n line-height: var(--n-height);\n `, [cB('radio-button', {\n  height: 'var(--n-height)',\n  lineHeight: 'var(--n-height)'\n}), cE('splitor', {\n  height: 'var(--n-height)'\n})]), cB('radio-button', `\n vertical-align: bottom;\n outline: none;\n position: relative;\n user-select: none;\n -webkit-user-select: none;\n display: inline-block;\n box-sizing: border-box;\n padding-left: 14px;\n padding-right: 14px;\n white-space: nowrap;\n transition:\n background-color .3s var(--n-bezier),\n opacity .3s var(--n-bezier),\n border-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n color: var(--n-button-text-color);\n border-top: 1px solid var(--n-button-border-color);\n border-bottom: 1px solid var(--n-button-border-color);\n `, [cB('radio-input', `\n pointer-events: none;\n position: absolute;\n border: 0;\n border-radius: inherit;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n opacity: 0;\n z-index: 1;\n `), cE('state-border', `\n z-index: 1;\n pointer-events: none;\n position: absolute;\n box-shadow: var(--n-button-box-shadow);\n transition: box-shadow .3s var(--n-bezier);\n left: -1px;\n bottom: -1px;\n right: -1px;\n top: -1px;\n `), c('&:first-child', `\n border-top-left-radius: var(--n-button-border-radius);\n border-bottom-left-radius: var(--n-button-border-radius);\n border-left: 1px solid var(--n-button-border-color);\n `, [cE('state-border', `\n border-top-left-radius: var(--n-button-border-radius);\n border-bottom-left-radius: var(--n-button-border-radius);\n `)]), c('&:last-child', `\n border-top-right-radius: var(--n-button-border-radius);\n border-bottom-right-radius: var(--n-button-border-radius);\n border-right: 1px solid var(--n-button-border-color);\n `, [cE('state-border', `\n border-top-right-radius: var(--n-button-border-radius);\n border-bottom-right-radius: var(--n-button-border-radius);\n `)]), cNotM('disabled', `\n cursor: pointer;\n `, [c('&:hover', [cE('state-border', `\n transition: box-shadow .3s var(--n-bezier);\n box-shadow: var(--n-button-box-shadow-hover);\n `), cNotM('checked', {\n  color: 'var(--n-button-text-color-hover)'\n})]), cM('focus', [c('&:not(:active)', [cE('state-border', {\n  boxShadow: 'var(--n-button-box-shadow-focus)'\n})])])]), cM('checked', `\n background: var(--n-button-color-active);\n color: var(--n-button-text-color-active);\n border-color: var(--n-button-border-color-active);\n `), cM('disabled', `\n cursor: not-allowed;\n opacity: var(--n-opacity-disabled);\n `)])]);","import { h, defineComponent, computed, provide, ref, toRef } from 'vue';\nimport { useMergedState } from 'vooks';\nimport { useTheme, useFormItem, useConfig, useThemeClass } from '../../_mixins';\nimport { getSlot, warn, createKey, call, flatten } from '../../_utils';\nimport { radioLight } from '../styles';\nimport { radioGroupInjectionKey } from './use-radio';\nimport style from './styles/radio-group.cssr';\nimport { useRtl } from '../../_mixins/use-rtl';\nfunction mapSlot(defaultSlot, value, clsPrefix) {\n    var _a;\n    const children = [];\n    let isButtonGroup = false;\n    for (let i = 0; i < defaultSlot.length; ++i) {\n        const wrappedInstance = defaultSlot[i];\n        const name = (_a = wrappedInstance.type) === null || _a === void 0 ? void 0 : _a.name;\n        if (name === 'RadioButton') {\n            isButtonGroup = true;\n        }\n        if (process.env.NODE_ENV !== 'production' && isButtonGroup && name !== 'RadioButton') {\n            warn('radio-group', '`n-radio-group` in button mode only takes `n-radio-button` as children.');\n            continue;\n        }\n        const instanceProps = wrappedInstance.props;\n        if (name !== 'RadioButton') {\n            children.push(wrappedInstance);\n            continue;\n        }\n        if (i === 0) {\n            children.push(wrappedInstance);\n        }\n        else {\n            const lastInstanceProps = children[children.length - 1]\n                .props;\n            const lastInstanceChecked = value === lastInstanceProps.value;\n            const lastInstanceDisabled = lastInstanceProps.disabled;\n            const currentInstanceChecked = value === instanceProps.value;\n            const currentInstanceDisabled = instanceProps.disabled;\n            /**\n             * Priority of button splitor:\n             * !disabled  checked >\n             *  disabled  checked >\n             * !disabled !checked >\n             *  disabled !checked\n             */\n            const lastInstancePriority = (lastInstanceChecked ? 2 : 0) + (!lastInstanceDisabled ? 1 : 0);\n            const currentInstancePriority = (currentInstanceChecked ? 2 : 0) + (!currentInstanceDisabled ? 1 : 0);\n            const lastInstanceClass = {\n                [`${clsPrefix}-radio-group__splitor--disabled`]: lastInstanceDisabled,\n                [`${clsPrefix}-radio-group__splitor--checked`]: lastInstanceChecked\n            };\n            const currentInstanceClass = {\n                [`${clsPrefix}-radio-group__splitor--disabled`]: currentInstanceDisabled,\n                [`${clsPrefix}-radio-group__splitor--checked`]: currentInstanceChecked\n            };\n            const splitorClass = lastInstancePriority < currentInstancePriority\n                ? currentInstanceClass\n                : lastInstanceClass;\n            children.push(h(\"div\", { class: [`${clsPrefix}-radio-group__splitor`, splitorClass] }), wrappedInstance);\n        }\n    }\n    return {\n        children,\n        isButtonGroup\n    };\n}\nexport const radioGroupProps = Object.assign(Object.assign({}, useTheme.props), { name: String, value: [String, Number, Boolean], defaultValue: {\n        type: [String, Number, Boolean],\n        default: null\n    }, size: String, disabled: {\n        type: Boolean,\n        default: undefined\n    }, 'onUpdate:value': [Function, Array], onUpdateValue: [Function, Array] });\nexport default defineComponent({\n    name: 'RadioGroup',\n    props: radioGroupProps,\n    setup(props) {\n        const selfElRef = ref(null);\n        const { mergedSizeRef, mergedDisabledRef, nTriggerFormChange, nTriggerFormInput, nTriggerFormBlur, nTriggerFormFocus } = useFormItem(props);\n        const { mergedClsPrefixRef, inlineThemeDisabled, mergedRtlRef } = useConfig(props);\n        const themeRef = useTheme('Radio', '-radio-group', style, radioLight, props, mergedClsPrefixRef);\n        const uncontrolledValueRef = ref(props.defaultValue);\n        const controlledValueRef = toRef(props, 'value');\n        const mergedValueRef = useMergedState(controlledValueRef, uncontrolledValueRef);\n        function doUpdateValue(value) {\n            const { onUpdateValue, 'onUpdate:value': _onUpdateValue } = props;\n            if (onUpdateValue) {\n                call(onUpdateValue, value);\n            }\n            if (_onUpdateValue) {\n                call(_onUpdateValue, value);\n            }\n            uncontrolledValueRef.value = value;\n            nTriggerFormChange();\n            nTriggerFormInput();\n        }\n        function handleFocusin(e) {\n            const { value: selfEl } = selfElRef;\n            if (!selfEl)\n                return;\n            if (selfEl.contains(e.relatedTarget))\n                return;\n            nTriggerFormFocus();\n        }\n        function handleFocusout(e) {\n            const { value: selfEl } = selfElRef;\n            if (!selfEl)\n                return;\n            if (selfEl.contains(e.relatedTarget))\n                return;\n            nTriggerFormBlur();\n        }\n        provide(radioGroupInjectionKey, {\n            mergedClsPrefixRef,\n            nameRef: toRef(props, 'name'),\n            valueRef: mergedValueRef,\n            disabledRef: mergedDisabledRef,\n            mergedSizeRef,\n            doUpdateValue\n        });\n        const rtlEnabledRef = useRtl('Radio', mergedRtlRef, mergedClsPrefixRef);\n        const cssVarsRef = computed(() => {\n            const { value: size } = mergedSizeRef;\n            const { common: { cubicBezierEaseInOut }, self: { buttonBorderColor, buttonBorderColorActive, buttonBorderRadius, buttonBoxShadow, buttonBoxShadowFocus, buttonBoxShadowHover, buttonColorActive, buttonTextColor, buttonTextColorActive, buttonTextColorHover, opacityDisabled, [createKey('buttonHeight', size)]: height, [createKey('fontSize', size)]: fontSize } } = themeRef.value;\n            return {\n                '--n-font-size': fontSize,\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-button-border-color': buttonBorderColor,\n                '--n-button-border-color-active': buttonBorderColorActive,\n                '--n-button-border-radius': buttonBorderRadius,\n                '--n-button-box-shadow': buttonBoxShadow,\n                '--n-button-box-shadow-focus': buttonBoxShadowFocus,\n                '--n-button-box-shadow-hover': buttonBoxShadowHover,\n                '--n-button-color-active': buttonColorActive,\n                '--n-button-text-color': buttonTextColor,\n                '--n-button-text-color-hover': buttonTextColorHover,\n                '--n-button-text-color-active': buttonTextColorActive,\n                '--n-height': height,\n                '--n-opacity-disabled': opacityDisabled\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('radio-group', computed(() => mergedSizeRef.value[0]), cssVarsRef, props)\n            : undefined;\n        return {\n            selfElRef,\n            rtlEnabled: rtlEnabledRef,\n            mergedClsPrefix: mergedClsPrefixRef,\n            mergedValue: mergedValueRef,\n            handleFocusout,\n            handleFocusin,\n            cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n            themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n            onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n        };\n    },\n    render() {\n        var _a;\n        const { mergedValue, mergedClsPrefix, handleFocusin, handleFocusout } = this;\n        const { children, isButtonGroup } = mapSlot(flatten(getSlot(this)), mergedValue, mergedClsPrefix);\n        (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n        return (h(\"div\", { onFocusin: handleFocusin, onFocusout: handleFocusout, ref: \"selfElRef\", class: [\n                `${mergedClsPrefix}-radio-group`,\n                this.rtlEnabled && `${mergedClsPrefix}-radio-group--rtl`,\n                this.themeClass,\n                isButtonGroup && `${mergedClsPrefix}-radio-group--button-group`\n            ], style: this.cssVars }, children));\n    }\n});\n"],"names":["hsl2hsv","h","s","l","v","Math","min","hsv2hsl","m","hsv2rgb","f","n","k","max","rgb2hsv","r","g","b","c","rgb2hsl","abs","hsl2rgb","a","getTitleAttribute","value","String","mergeEventHandlers","handlers","filteredHandlers","filter","handler","length","e","forEach","eventSet","WeakSet","eventEffectNotPerformed","event","has","lowBit","FinweckTree","constructor","this","ft","Array","i","add","get","sum","Error","ret","getBound","threshold","floor","sumM","maybeTouch","wheelScale","ensureWheelScale","window","devicePixelRatio","styles","maxHeight","height","overflow","minWidth","scrollbarWidth","width","display","VVirtualList","defineComponent","name","inheritAttrs","props","showScrollbar","type","Boolean","default","items","itemSize","Number","required","itemResizable","itemsStyle","Object","visibleItemsTag","visibleItemsProps","ignoreItemResize","onScroll","Function","onWheel","onResize","defaultScrollKey","defaultScrollIndex","keyField","paddingTop","paddingBottom","setup","ssrAdapter","useSsrAdapter","mount","id","head","anchorMetaName","cssrAnchorMetaName","ssr","onMounted","scrollTo","index","key","isDeactivated","activateStateInitialized","onActivated","top","scrollTopRef","left","scrollLeft","onDeactivated","keyIndexMapRef","computed","map","Map","item","set","listElRef","ref","listHeightRef","keyToHeightOffset","finweckTreeRef","heightOffset","finweckTreeUpdateTrigger","startIndexRef","useMemo","depx","viewportItemsRef","listHeight","startIndex","endIndex","ceil","viewportItems","push","options","y","scrollToPosition","position","behavior","debounce","scrollToIndex","toIndex","MAX_SAFE_INTEGER","anchorIndex","anchorTimerId","targetTop","clearTimeout","setTimeout","scrollTop","offsetHeight","mayUseWheel","matchMedia","matches","wheelCatched","syncViewport","listEl","isHideByVShow","el","cursor","style","parentElement","listStyle","keyToIndex","pxfy","boxSizing","minHeight","visibleItemsStyle","transform","itemsElRef","handleListResize","entry","target","contentRect","handleListScroll","_a","call","handleListWheel","deltaX","deltaY","scrollHeight","preventDefault","beforeNextFrameOnce","handleItemResize","_b","_c","previousHeight","borderBoxSize","blockSize","delete","delta","previousHeightSum","scrollBy","render","VResizeObserver","mergeProps","$attrs","class","assign","itemVNode","$slots","empty","hiddenAttr","VOverflow","getCounter","getTail","updateCounter","onUpdateOverflow","slots","selfRef","counterRef","deriveCounter","self","counter","hasAttribute","removeAttribute","children","containerWidth","offsetWidth","childWidths","tail","childWidthSum","len","child","setAttribute","childWidth","j","restCount","textContent","counterWidth","maxWidth","sync","nextTick","renderSlot","useOnResize","elRef","resizeObserverManager","registerHandler","onBeforeUnmount","unregisterHandler","FinishedIcon","xmlns","viewBox","fill","d","EmptyIcon","FocusDetector","onFocus","onBlur","tabindex","style$7","cB","cE","NEmpty","useTheme","description","showDescription","showIcon","size","renderIcon","mergedClsPrefixRef","inlineThemeDisabled","useConfig","themeRef","emptyLight","localeRef","useLocale","NConfigProvider","inject","configProviderInjectionKey","mergedDescriptionRef","mergedComponentPropsRef","Empty","mergedRenderIconRef","cssVarsRef","common","cubicBezierEaseInOut","createKey","iconSize","fontSize","textColor","iconColor","extraTextColor","themeClassHandle","useThemeClass","hash","mergedClsPrefix","mergedRenderIcon","localizedDescription","cssVars","themeClass","onRender","icon","NBaseIcon","clsPrefix","extra","NSelectOption","tmNode","valueRef","pendingTmNodeRef","multipleRef","valueSetRef","renderLabelRef","renderOptionRef","labelFieldRef","valueFieldRef","showCheckmarkRef","nodePropsRef","handleOptionClick","handleOptionMouseEnter","internalSelectionMenuInjectionKey","isPendingRef","pendingTmNode","multiple","isGrouped","parent","rawNode","showCheckmark","nodeProps","isPending","isSelected","optionValue","valueSet","labelField","renderLabel","renderOption","handleMouseMove","disabled","handleMouseEnter","handleClick","checkmark","show","Transition","CheckmarkIcon","renderCheckMark","attrs","node","onClick","onMouseenter","onMousemove","option","selected","NSelectGroupHeader","style$6","cM","cNotM","fadeInScaleUpTransition","enterScale","NInternalSelectMenu","scrollable","treeMate","autoPending","virtualScroll","valueField","loading","focusable","onMousedown","onKeyup","onKeydown","onTabOut","onMouseleave","resetMenuOnOptionsChange","onToggle","internalSelectMenuLight","toRef","virtualListRef","scrollbarRef","flattenedNodesRef","getFlattenedNodes","fIndexGetterRef","createIndexGetter","pendingNodeRef","clearPendingNodeIfInvalid","pendingNode","getNode","initPendingNodeWatchStopHandle","watch","defaultPendingNode","getFirstAvailableNode","setPendingTmNode","scrollToPendingNode","immediate","itemSizeRef","paddingRef","getPadding","isArray","Set","emptyRef","tmNodes","doScroll","fIndex","elSize","provide","doToggle","internalSelectionMenuBodyInjectionKey","borderRadius","color","groupHeaderTextColor","actionDividerColor","optionTextColorPressed","optionTextColor","optionTextColorDisabled","optionTextColorActive","optionOpacityDisabled","optionCheckColor","actionTextColor","optionColorPending","optionColorActive","loadingColor","loadingSize","optionColorActivePending","optionHeight","optionPadding","exposedProps","next","getNext","loop","prev","getPrev","getPendingTmNode","mergedTheme","padding","flattenedNodes","virtualListContainer","virtualListContent","handleFocusin","contains","handleFocusout","relatedTarget","handleKeyUp","happensIn","handleKeyDown","handleMouseDown","handleVirtualListResize","handleVirtualListScroll","onFocusin","onFocusout","NInternalLoading","strokeWidth","resolveSlot","theme","peers","themeOverrides","peerOverrides","NScrollbar","Scrollbar","container","content","VirtualList","bottom","isGroup","ignored","resolveWrappedSlot","action","NFocusDetector","tagLight$1","commonLight","vars","textColor2","primaryColorHover","primaryColorPressed","primaryColor","infoColor","successColor","warningColor","errorColor","baseColor","borderColor","opacityDisabled","tagColor","closeIconColor","closeIconColorHover","closeIconColorPressed","borderRadiusSmall","fontSizeMini","fontSizeTiny","fontSizeSmall","fontSizeMedium","heightMini","heightTiny","heightSmall","heightMedium","closeColorHover","closeColorPressed","buttonColor2Hover","buttonColor2Pressed","fontWeightStrong","commonVariables","closeBorderRadius","heightLarge","fontSizeLarge","textColorCheckable","textColorHoverCheckable","textColorPressedCheckable","textColorChecked","colorCheckable","colorHoverCheckable","colorPressedCheckable","colorChecked","colorCheckedHover","colorCheckedPressed","border","colorBordered","borderPrimary","changeColor","alpha","textColorPrimary","colorPrimary","colorBorderedPrimary","closeIconColorPrimary","closeIconColorHoverPrimary","closeIconColorPressedPrimary","closeColorHoverPrimary","closeColorPressedPrimary","borderInfo","textColorInfo","colorInfo","colorBorderedInfo","closeIconColorInfo","closeIconColorHoverInfo","closeIconColorPressedInfo","closeColorHoverInfo","closeColorPressedInfo","borderSuccess","textColorSuccess","colorSuccess","colorBorderedSuccess","closeIconColorSuccess","closeIconColorHoverSuccess","closeIconColorPressedSuccess","closeColorHoverSuccess","closeColorPressedSuccess","borderWarning","textColorWarning","colorWarning","colorBorderedWarning","closeIconColorWarning","closeIconColorHoverWarning","closeIconColorPressedWarning","closeColorHoverWarning","closeColorPressedWarning","borderError","textColorError","colorError","colorBorderedError","closeIconColorError","closeIconColorHoverError","closeIconColorPressedError","closeColorHoverError","closeColorPressedError","commonProps","round","closable","style$5","tagProps","bordered","checked","checkable","strong","triggerClickOnClose","onClose","onUpdateChecked","internalCloseFocusable","internalCloseIsButtonTag","onCheckedChange","tagInjectionKey","createInjectionKey","NTag","watchEffect","warnOnce","contentRef","mergedBorderedRef","mergedRtlRef","tagLight","roundRef","tagPublicMethods","setTextContent","rtlEnabledRef","useRtl","closeMargin","closeMarginRtl","closeSize","closeIconSize","typedColor","typeTextColor","color2Class","rtlEnabled","mergedBordered","_onUpdateChecked","handleCloseClick","stopPropagation","avatarNode","avatar","iconNode","NBaseClose","isButtonTag","absolute","style$4","status","NInternalSelection","active","pattern","placeholder","selectedOption","selectedOptions","filterable","clearable","autofocus","showArrow","inputProps","focused","renderTag","onDeleteOption","maxTagCount","onClear","onPatternInput","onPatternFocus","onPatternBlur","ignoreComposition","patternInputMirrorRef","patternInputRef","multipleElRef","singleElRef","patternInputWrapperRef","counterWrapperRef","overflowRef","inputTagElRef","showTagsPopoverRef","patternInputFocusedRef","hoverRef","internalSelectionLight","mergedClearableRef","filterablePlaceholderRef","handleClose","labelRef","selectedRef","syncMirrorWidth","patternInputMirrorEl","patternInputEl","doPatternInput","handleDeleteOption","doDeleteOption","inputTagEl","isComposingRef","cachedInputEvent","enterTimerId","clearEnterTimer","patternInputWrapperEl","tabIndex","placeholderColor","paddingSingle","paddingMultiple","caretColor","colorDisabled","textColorDisabled","placeholderColorDisabled","colorActive","boxShadowFocus","boxShadowActive","boxShadowHover","borderFocus","borderHover","borderActive","arrowColor","arrowColorDisabled","colorActiveWarning","boxShadowFocusWarning","boxShadowActiveWarning","boxShadowHoverWarning","borderFocusWarning","borderHoverWarning","borderActiveWarning","colorActiveError","boxShadowFocusError","boxShadowActiveError","boxShadowHoverError","borderFocusError","borderHoverError","borderActiveError","clearColor","clearColorHover","clearColorPressed","clearSize","arrowSize","mergedClearable","patternInputFocused","filterablePlaceholder","label","showTagsPanel","isComposing","doFocus","handleClear","doClear","handleMouseLeave","handlePatternKeyDown","handlePatternInputInput","inputText","handlePatternInputBlur","handlePatternInputFocus","handleMouseEnterCounter","handleMouseLeaveCounter","doBlur","handleCompositionEnd","handleCompositionStart","onPopoverUpdateShow","focus","focusInput","blur","multipleEl","singleEl","blurInput","count","maxTagCountResponsive","maxTagCountNumeric","useMaxTagCount","suffix","Wrapper","Suffix","showClear","arrow","body","createTag","createOriginalTagNodes","slice","input","onInput","onCompositionstart","onCompositionend","renderCounter","rest","tags","concat","renderPopover","popoverProps","trigger","overlap","placement","onUpdateShow","Popover","popoverTrigger","Fragment","NPopover","hasInput","showPlaceholder","showSelectedLabel","readonly","title","getIsGroup","getIgnored","patternMatched","toString","toLowerCase","indexOf","trim","err","style$3","NInputGroup","useStyle","getModeFromValue","test","includes","convert","rgb","hex","toHexaString","rgba","hsl","toHslaString","hsv","toHsvaString","toRgbaString","hsla","hsva","convertColor","mode","originalMode","HANDLE_SIZE","RADIUS","HueSlider","hue","onUpdateHue","onComplete","railRef","railEl","getBoundingClientRect","newHue","clientX","handleMouseUp","off","document","on","boxShadow","backgroundImage","right","backgroundColor","AlphaSlider","onUpdateAlpha","newAlpha","railBackgroundImage","Pallete","displayedHue","displayedSv","onUpdateSV","palleteRef","palleteEl","newV","clientY","newS","normalizedNewS","normalizedNewV","handleColor","colorPickerInjectionKey","inputThemeOverrides","paddingSmall","ColorInputUnit","showAlpha","onUpdateValue","inputValueRef","getInputString","inputValue","handleInputChange","unit","valid","trimmedValue","normalizeHexaUnit","parseInt","normalizeHueUnit","normalizeSlvUnit","normalizeAlphaUnit","normalizeRgbUnit","handleInputUpdateValue","NInput","Input","builtinThemeOverrides","onChange","ColorInput","modes","valueArr","onUpdateMode","handleUnitUpdateValue","toHexString","nextValueArr","from","toHsvString","toRgbString","toHslString","toUpperCase","hexValue","unitValue","split","ColorPickerTrigger","colorPickerSlots","normalizeColor","ColorPickerSwatches","swatches","onUpdateColor","normalizeOutput","parsed","modeProp","swatchColorMode","ctx","createElement","getContext","fillStyle","getHexFromName","warn","handleSwatchSelect","parsedSwatchesRef","legalValue","handleSwatchKeyDown","swatch","background","ColorPreview","validator","handleChange","style$2","NColorPicker","defaultShow","defaultValue","to","useAdjustedTo","propTo","showPreview","actions","internalActions","onConfirm","upcomingValue","formItem","useFormItem","mergedSizeRef","mergedDisabledRef","namespaceRef","colorPickerLight","uncontrolledShowRef","mergedShowRef","useMergedState","doUpdateShow","_onUpdateShow","uncontrolledValueRef","deriveDefaultValue","mergedValueRef","undoStackRef","valueIndexRef","valueModeRef","displayedModeRef","handleUpdateDisplayedMode","displayedMode","currentModeIndex","findIndex","_h","hsvaRef","mergedValue","rgbaRef","hslaRef","mergedValueArrRef","displayedHueRef","displayedAlphaRef","displayedSvRef","handleUpdateSv","hsvaArr","doUpdateValue","handleUpdateHue","handleUpdateAlpha","updateSource","nTriggerFormChange","nTriggerFormInput","_onUpdateValue","handleComplete","pushStack","undoStack","valueIndex","splice","undo","redo","handleConfirm","undoableRef","redoableRef","mergedSize","panelFontSize","dividerColor","namespace","mergedShow","mergedDisabled","isMounted","useIsMounted","adjustedTo","handleTriggerClick","handleClickOutside","getPreciseEventTarget","renderPanel","onDragstart","NButton","Button","confirm","clear","VBinder","VTarget","VFollower","containerClass","teleportDisabled","tdkey","appear","withDirectives","clickoutside","capture","style$1","originalTransition","NSelect","clearFilterAfterSelect","keyboard","menuProps","remote","widthMode","tag","onCreate","fallbackOption","consistentMenuWidth","childrenField","showOnFocus","onSearch","displayDirective","selectLight","controlledValueRef","focusedRef","patternRef","treeMateRef","getKey","getChildren","createTmOptions","createTreeMate","filteredOptionsRef","valOptMapRef","valOptMap","selectGroupOption","createValOptMap","localOptionsRef","triggerRef","followerRef","menuRef","localizedPlaceholderRef","compitableOptionsRef","useCompitable","emptyArray","createdOptionsRef","beingCreatedOptionsRef","memoValOptMapRef","wrappedFallbackOptionRef","resolvedFilterRef","localOptions","originalOpts","traverse","filteredOptions","filterOptions","getMergedOptions","values","memoValOptMap","wrappedFallbackOption","selectedOptionsRef","selectedOptionRef","mergedStatusRef","nTriggerFormBlur","updateMemorizedOptions","openMenu","closeMenu","handleMenuAfterLeave","activeWithoutMenuOpenRef","handleToggleByTmNode","handleToggleByOption","beingCreatedOptions","beingCreatedOption","createdOptions","changedValue","createClearedMultipleSelectValue","createdOptionIndex","getCreatedOptionIndex","createdOption","handleKeydown","_d","_e","some","focusSelection","focusSelectionInput","exposedMethods","menuBoxShadow","mergedStatus","uncontrolledShow","uncontrolledValue","localizedPlaceholder","activeWithoutMenuOpen","onTriggerInputFocus","onTriggerInputBlur","handleTriggerOrMenuResize","syncPosition","handleMenuFocus","handleMenuBlur","$el","handleMenuTabOut","handleToggle","handlePatternInput","doSearch","optionBeingCreated","handleTriggerBlur","handleTriggerFocus","nTriggerFormFocus","handleMenuClickOutside","handleMenuScroll","handleMenuKeydown","handleMenuMousedown","InternalSelection","onAfterLeave","InternalSelectMenu","vShow","radioLight$1","inputColorDisabled","lineHeight","labelLineHeight","buttonHeightSmall","buttonHeightMedium","buttonHeightLarge","boxShadowDisabled","dotColorActive","dotColorDisabled","buttonBorderColor","buttonBorderColorActive","buttonBorderColorHover","buttonColor","buttonColorActive","buttonTextColor","buttonTextColorActive","buttonTextColorHover","buttonBoxShadowFocus","buttonBoxShadowHover","buttonBoxShadow","buttonBorderRadius","radioProps","defaultChecked","checkedValue","radioGroupInjectionKey","NFormItem","NRadioGroup","disabledRef","inputRef","uncontrolledCheckedRef","controlledCheckedRef","mergedCheckedRef","renderSafeCheckedRef","mergedNameRef","nameRef","focusRef","toggle","mergedName","uncontrolledChecked","renderSafeChecked","handleRadioInputChange","handleRadioInputBlur","handleRadioInputFocus","opacity","selfElRef","radioLight","selfEl","isButtonGroup","defaultSlot","wrappedInstance","instanceProps","lastInstanceProps","lastInstanceChecked","lastInstanceDisabled","currentInstanceChecked","currentInstanceDisabled","splitorClass","mapSlot","flatten","getSlot"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44]}