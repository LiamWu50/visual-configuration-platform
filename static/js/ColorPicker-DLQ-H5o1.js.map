{"version":3,"file":"ColorPicker-DLQ-H5o1.js","sources":["../../../node_modules/seemly/es/color/convert.js","../../../node_modules/naive-ui/es/input/src/styles/input-group.cssr.mjs","../../../node_modules/naive-ui/es/input/src/InputGroup.mjs","../../../node_modules/naive-ui/es/color-picker/src/utils.mjs","../../../node_modules/naive-ui/es/color-picker/src/HueSlider.mjs","../../../node_modules/naive-ui/es/color-picker/src/AlphaSlider.mjs","../../../node_modules/naive-ui/es/color-picker/src/Pallete.mjs","../../../node_modules/naive-ui/es/color-picker/src/context.mjs","../../../node_modules/naive-ui/es/color-picker/src/ColorInputUnit.mjs","../../../node_modules/naive-ui/es/color-picker/src/ColorInput.mjs","../../../node_modules/naive-ui/es/color-picker/src/ColorPickerTrigger.mjs","../../../node_modules/naive-ui/es/color-picker/src/ColorPickerSwatches.mjs","../../../node_modules/naive-ui/es/color-picker/src/ColorPreview.mjs","../../../node_modules/naive-ui/es/color-picker/src/styles/index.cssr.mjs","../../../node_modules/naive-ui/es/color-picker/src/ColorPicker.mjs"],"sourcesContent":["// All the algorithms credit to https://stackoverflow.com/questions/36721830/convert-hsl-to-rgb-and-hex/54014428#54014428\n// original author: Kamil KieÅ‚czewski\n/**\n * @param h 360\n * @param s 100\n * @param l 100\n * @returns [h, s, v] 360, 100, 100\n */\nexport function hsl2hsv(h, s, l) {\n    s /= 100;\n    l /= 100;\n    const v = s * Math.min(l, 1 - l) + l;\n    return [h, v ? (2 - (2 * l) / v) * 100 : 0, v * 100];\n}\n/**\n * @param h 360\n * @param s 100\n * @param v 100\n * @returns [h, s, l] 360, 100, 100\n */\nexport function hsv2hsl(h, s, v) {\n    s /= 100;\n    v /= 100;\n    const l = v - (v * s) / 2;\n    const m = Math.min(l, 1 - l);\n    return [h, m ? ((v - l) / m) * 100 : 0, l * 100];\n}\n/**\n * @param h 360\n * @param s 100\n * @param v 100\n * @returns [r, g, b] 255, 255, 255\n */\nexport function hsv2rgb(h, s, v) {\n    s /= 100;\n    v /= 100;\n    let f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);\n    return [f(5) * 255, f(3) * 255, f(1) * 255];\n}\n/**\n * @param r 255\n * @param g 255\n * @param b 255\n * @returns [360, 100, 100]\n */\nexport function rgb2hsv(r, g, b) {\n    r /= 255;\n    g /= 255;\n    b /= 255;\n    let v = Math.max(r, g, b), c = v - Math.min(r, g, b);\n    let h = c && (v == r ? (g - b) / c : v == g ? 2 + (b - r) / c : 4 + (r - g) / c);\n    return [60 * (h < 0 ? h + 6 : h), v && (c / v) * 100, v * 100];\n}\n/**\n * @param r 255\n * @param g 255\n * @param b 255\n * @returns [360, 100, 100]\n */\nexport function rgb2hsl(r, g, b) {\n    r /= 255;\n    g /= 255;\n    b /= 255;\n    let v = Math.max(r, g, b), c = v - Math.min(r, g, b), f = 1 - Math.abs(v + v - c - 1);\n    let h = c && (v == r ? (g - b) / c : v == g ? 2 + (b - r) / c : 4 + (r - g) / c);\n    return [60 * (h < 0 ? h + 6 : h), f ? (c / f) * 100 : 0, (v + v - c) * 50];\n}\n/**\n * @param h 360\n * @param s 100\n * @param l 100\n * @returns [255, 255, 255]\n */\nexport function hsl2rgb(h, s, l) {\n    s /= 100;\n    l /= 100;\n    let a = s * Math.min(l, 1 - l);\n    let f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n    return [f(0) * 255, f(8) * 255, f(4) * 255];\n}\n","import { c, cB, cE } from \"../../../_utils/cssr/index.mjs\";\nexport default cB('input-group', `\n display: inline-flex;\n width: 100%;\n flex-wrap: nowrap;\n vertical-align: bottom;\n`, [c('>', [cB('input', [c('&:not(:last-child)', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `), c('&:not(:first-child)', `\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n margin-left: -1px!important;\n `)]), cB('button', [c('&:not(:last-child)', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `, [cE('state-border, border', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `)]), c('&:not(:first-child)', `\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n `, [cE('state-border, border', `\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n `)])]), c('*', [c('&:not(:last-child)', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `, [c('>', [cB('input', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `), cB('base-selection', [cB('base-selection-label', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `), cB('base-selection-tags', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `), cE('box-shadow, border, state-border', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `)])])]), c('&:not(:first-child)', `\n margin-left: -1px!important;\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n `, [c('>', [cB('input', `\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n `), cB('base-selection', [cB('base-selection-label', `\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n `), cB('base-selection-tags', `\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n `), cE('box-shadow, border, state-border', `\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n `)])])])])])]);","import { h, defineComponent } from 'vue';\nimport { useConfig, useStyle } from \"../../_mixins/index.mjs\";\nimport style from \"./styles/input-group.cssr.mjs\";\nexport const inputGroupProps = {};\nexport default defineComponent({\n  name: 'InputGroup',\n  props: inputGroupProps,\n  setup(props) {\n    const {\n      mergedClsPrefixRef\n    } = useConfig(props);\n    useStyle('-input-group', style, mergedClsPrefixRef);\n    return {\n      mergedClsPrefix: mergedClsPrefixRef\n    };\n  },\n  render() {\n    const {\n      mergedClsPrefix\n    } = this;\n    return h(\"div\", {\n      class: `${mergedClsPrefix}-input-group`\n    }, this.$slots);\n  }\n});","import { hsl2hsv, hsl2rgb, hsla, hsv2hsl, hsv2rgb, hsva, rgb2hsl, rgb2hsv, rgba, toHexaString, toHslaString, toHsvaString, toRgbaString } from 'seemly';\nimport { warn } from \"../../_utils/index.mjs\";\nexport function deriveDefaultValue(modes, showAlpha) {\n  const mode = modes[0];\n  switch (mode) {\n    case 'hex':\n      return showAlpha ? '#000000FF' : '#000000';\n    case 'rgb':\n      return showAlpha ? 'rgba(0, 0, 0, 1)' : 'rgb(0, 0, 0)';\n    case 'hsl':\n      return showAlpha ? 'hsla(0, 0%, 0%, 1)' : 'hsl(0, 0%, 0%)';\n    case 'hsv':\n      return showAlpha ? 'hsva(0, 0%, 0%, 1)' : 'hsv(0, 0%, 0%)';\n  }\n  if (process.env.NODE_ENV !== 'production') warn('color-picker', 'props.modes is invalid.');\n  // in case of invalid modes\n  return '#000000';\n}\nexport function getModeFromValue(color) {\n  if (color === null) return null;\n  if (/^ *#/.test(color)) return 'hex';\n  if (color.includes('rgb')) return 'rgb';\n  if (color.includes('hsl')) return 'hsl';\n  if (color.includes('hsv')) return 'hsv';\n  return null;\n}\nexport function floor(color) {\n  return color.map(channel => Math.floor(channel));\n}\nexport function normalizeHue(hue) {\n  hue = Math.round(hue);\n  return hue >= 360 ? 359 : hue < 0 ? 0 : hue;\n}\nexport function normalizeAlpha(alpha) {\n  alpha = Math.round(alpha * 100) / 100;\n  return alpha > 1 ? 1 : alpha < 0 ? 0 : alpha;\n}\nconst convert = {\n  rgb: {\n    hex(value) {\n      return toHexaString(rgba(value));\n    },\n    hsl(value) {\n      const [r, g, b, a] = rgba(value);\n      return toHslaString([...rgb2hsl(r, g, b), a]);\n    },\n    hsv(value) {\n      const [r, g, b, a] = rgba(value);\n      return toHsvaString([...rgb2hsv(r, g, b), a]);\n    }\n  },\n  hex: {\n    rgb(value) {\n      return toRgbaString(rgba(value));\n    },\n    hsl(value) {\n      const [r, g, b, a] = rgba(value);\n      return toHslaString([...rgb2hsl(r, g, b), a]);\n    },\n    hsv(value) {\n      const [r, g, b, a] = rgba(value);\n      return toHsvaString([...rgb2hsv(r, g, b), a]);\n    }\n  },\n  hsl: {\n    hex(value) {\n      const [h, s, l, a] = hsla(value);\n      return toHexaString([...hsl2rgb(h, s, l), a]);\n    },\n    rgb(value) {\n      const [h, s, l, a] = hsla(value);\n      return toRgbaString([...hsl2rgb(h, s, l), a]);\n    },\n    hsv(value) {\n      const [h, s, l, a] = hsla(value);\n      return toHsvaString([...hsl2hsv(h, s, l), a]);\n    }\n  },\n  hsv: {\n    hex(value) {\n      const [h, s, v, a] = hsva(value);\n      return toHexaString([...hsv2rgb(h, s, v), a]);\n    },\n    rgb(value) {\n      const [h, s, v, a] = hsva(value);\n      return toRgbaString([...hsv2rgb(h, s, v), a]);\n    },\n    hsl(value) {\n      const [h, s, v, a] = hsva(value);\n      return toHslaString([...hsv2hsl(h, s, v), a]);\n    }\n  }\n};\n// implementation\nexport function convertColor(value, mode, originalMode) {\n  originalMode = originalMode || getModeFromValue(value);\n  if (!originalMode) return null;\n  if (originalMode === mode) return value;\n  const conversions = convert[originalMode];\n  return conversions[mode](value);\n}","import { defineComponent, h, ref } from 'vue';\nimport { off, on } from 'evtd';\nimport { normalizeHue } from \"./utils.mjs\";\nconst HANDLE_SIZE = '12px';\nconst HANDLE_SIZE_NUM = 12;\nconst RADIUS = '6px';\nconst RADIUS_NUM = 6;\nconst GRADIENT = 'linear-gradient(90deg,red,#ff0 16.66%,#0f0 33.33%,#0ff 50%,#00f 66.66%,#f0f 83.33%,red)';\nexport default defineComponent({\n  name: 'HueSlider',\n  props: {\n    clsPrefix: {\n      type: String,\n      required: true\n    },\n    hue: {\n      type: Number,\n      required: true\n    },\n    onUpdateHue: {\n      type: Function,\n      required: true\n    },\n    onComplete: Function\n  },\n  setup(props) {\n    const railRef = ref(null);\n    function handleMouseDown(e) {\n      if (!railRef.value) return;\n      on('mousemove', document, handleMouseMove);\n      on('mouseup', document, handleMouseUp);\n      handleMouseMove(e);\n    }\n    function handleMouseMove(e) {\n      const {\n        value: railEl\n      } = railRef;\n      if (!railEl) return;\n      const {\n        width,\n        left\n      } = railEl.getBoundingClientRect();\n      const newHue = normalizeHue((e.clientX - left - RADIUS_NUM) / (width - HANDLE_SIZE_NUM) * 360);\n      props.onUpdateHue(newHue);\n    }\n    function handleMouseUp() {\n      var _a;\n      off('mousemove', document, handleMouseMove);\n      off('mouseup', document, handleMouseUp);\n      (_a = props.onComplete) === null || _a === void 0 ? void 0 : _a.call(props);\n    }\n    return {\n      railRef,\n      handleMouseDown\n    };\n  },\n  render() {\n    const {\n      clsPrefix\n    } = this;\n    return h(\"div\", {\n      class: `${clsPrefix}-color-picker-slider`,\n      style: {\n        height: HANDLE_SIZE,\n        borderRadius: RADIUS\n      }\n    }, h(\"div\", {\n      ref: \"railRef\",\n      style: {\n        boxShadow: 'inset 0 0 2px 0 rgba(0, 0, 0, .24)',\n        boxSizing: 'border-box',\n        backgroundImage: GRADIENT,\n        height: HANDLE_SIZE,\n        borderRadius: RADIUS,\n        position: 'relative'\n      },\n      onMousedown: this.handleMouseDown\n    }, h(\"div\", {\n      style: {\n        position: 'absolute',\n        left: RADIUS,\n        right: RADIUS,\n        top: 0,\n        bottom: 0\n      }\n    }, h(\"div\", {\n      class: `${clsPrefix}-color-picker-handle`,\n      style: {\n        left: `calc((${this.hue}%) / 359 * 100 - ${RADIUS})`,\n        borderRadius: RADIUS,\n        width: HANDLE_SIZE,\n        height: HANDLE_SIZE\n      }\n    }, h(\"div\", {\n      class: `${clsPrefix}-color-picker-handle__fill`,\n      style: {\n        backgroundColor: `hsl(${this.hue}, 100%, 50%)`,\n        borderRadius: RADIUS,\n        width: HANDLE_SIZE,\n        height: HANDLE_SIZE\n      }\n    })))));\n  }\n});","import { computed, defineComponent, h, ref } from 'vue';\nimport { off, on } from 'evtd';\nimport { toRgbaString } from 'seemly';\nimport { normalizeAlpha } from \"./utils.mjs\";\nconst HANDLE_SIZE = '12px';\nconst HANDLE_SIZE_NUM = 12;\nconst RADIUS = '6px';\nexport default defineComponent({\n  name: 'AlphaSlider',\n  props: {\n    clsPrefix: {\n      type: String,\n      required: true\n    },\n    rgba: {\n      type: Array,\n      default: null\n    },\n    alpha: {\n      type: Number,\n      default: 0\n    },\n    onUpdateAlpha: {\n      type: Function,\n      required: true\n    },\n    onComplete: Function\n  },\n  setup(props) {\n    const railRef = ref(null);\n    function handleMouseDown(e) {\n      if (!railRef.value || !props.rgba) return;\n      on('mousemove', document, handleMouseMove);\n      on('mouseup', document, handleMouseUp);\n      handleMouseMove(e);\n    }\n    function handleMouseMove(e) {\n      const {\n        value: railEl\n      } = railRef;\n      if (!railEl) return;\n      const {\n        width,\n        left\n      } = railEl.getBoundingClientRect();\n      const newAlpha = (e.clientX - left) / (width - HANDLE_SIZE_NUM);\n      props.onUpdateAlpha(normalizeAlpha(newAlpha));\n    }\n    function handleMouseUp() {\n      var _a;\n      off('mousemove', document, handleMouseMove);\n      off('mouseup', document, handleMouseUp);\n      (_a = props.onComplete) === null || _a === void 0 ? void 0 : _a.call(props);\n    }\n    return {\n      railRef,\n      railBackgroundImage: computed(() => {\n        const {\n          rgba\n        } = props;\n        if (!rgba) return '';\n        return `linear-gradient(to right, rgba(${rgba[0]}, ${rgba[1]}, ${rgba[2]}, 0) 0%, rgba(${rgba[0]}, ${rgba[1]}, ${rgba[2]}, 1) 100%)`;\n      }),\n      handleMouseDown\n    };\n  },\n  render() {\n    const {\n      clsPrefix\n    } = this;\n    return h(\"div\", {\n      class: `${clsPrefix}-color-picker-slider`,\n      ref: \"railRef\",\n      style: {\n        height: HANDLE_SIZE,\n        borderRadius: RADIUS\n      },\n      onMousedown: this.handleMouseDown\n    }, h(\"div\", {\n      style: {\n        borderRadius: RADIUS,\n        position: 'absolute',\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        overflow: 'hidden'\n      }\n    }, h(\"div\", {\n      class: `${clsPrefix}-color-picker-checkboard`\n    }), h(\"div\", {\n      class: `${clsPrefix}-color-picker-slider__image`,\n      style: {\n        backgroundImage: this.railBackgroundImage\n      }\n    })), this.rgba && h(\"div\", {\n      style: {\n        position: 'absolute',\n        left: RADIUS,\n        right: RADIUS,\n        top: 0,\n        bottom: 0\n      }\n    }, h(\"div\", {\n      class: `${clsPrefix}-color-picker-handle`,\n      style: {\n        left: `calc(${this.alpha * 100}% - ${RADIUS})`,\n        borderRadius: RADIUS,\n        width: HANDLE_SIZE,\n        height: HANDLE_SIZE\n      }\n    }, h(\"div\", {\n      class: `${clsPrefix}-color-picker-handle__fill`,\n      style: {\n        backgroundColor: toRgbaString(this.rgba),\n        borderRadius: RADIUS,\n        width: HANDLE_SIZE,\n        height: HANDLE_SIZE\n      }\n    }))));\n  }\n});","import { on, off } from 'evtd';\nimport { computed, defineComponent, h, ref } from 'vue';\nconst HANDLE_SIZE = '12px';\nconst RADIUS = '6px';\nexport default defineComponent({\n  name: 'Pallete',\n  props: {\n    clsPrefix: {\n      type: String,\n      required: true\n    },\n    rgba: {\n      type: Array,\n      default: null\n    },\n    // 0 - 360\n    displayedHue: {\n      type: Number,\n      required: true\n    },\n    displayedSv: {\n      type: Array,\n      required: true\n    },\n    onUpdateSV: {\n      type: Function,\n      required: true\n    },\n    onComplete: Function\n  },\n  setup(props) {\n    const palleteRef = ref(null);\n    function handleMouseDown(e) {\n      if (!palleteRef.value) return;\n      on('mousemove', document, handleMouseMove);\n      on('mouseup', document, handleMouseUp);\n      handleMouseMove(e);\n    }\n    function handleMouseMove(e) {\n      const {\n        value: palleteEl\n      } = palleteRef;\n      if (!palleteEl) return;\n      const {\n        width,\n        height,\n        left,\n        bottom\n      } = palleteEl.getBoundingClientRect();\n      const newV = (bottom - e.clientY) / height;\n      const newS = (e.clientX - left) / width;\n      const normalizedNewS = 100 * (newS > 1 ? 1 : newS < 0 ? 0 : newS);\n      const normalizedNewV = 100 * (newV > 1 ? 1 : newV < 0 ? 0 : newV);\n      props.onUpdateSV(normalizedNewS, normalizedNewV);\n    }\n    function handleMouseUp() {\n      var _a;\n      off('mousemove', document, handleMouseMove);\n      off('mouseup', document, handleMouseUp);\n      (_a = props.onComplete) === null || _a === void 0 ? void 0 : _a.call(props);\n    }\n    return {\n      palleteRef,\n      handleColor: computed(() => {\n        const {\n          rgba\n        } = props;\n        if (!rgba) return '';\n        return `rgb(${rgba[0]}, ${rgba[1]}, ${rgba[2]})`;\n      }),\n      handleMouseDown\n    };\n  },\n  render() {\n    const {\n      clsPrefix\n    } = this;\n    return h(\"div\", {\n      class: `${clsPrefix}-color-picker-pallete`,\n      onMousedown: this.handleMouseDown,\n      ref: \"palleteRef\"\n    }, h(\"div\", {\n      class: `${clsPrefix}-color-picker-pallete__layer`,\n      style: {\n        backgroundImage: `linear-gradient(90deg, white, hsl(${this.displayedHue}, 100%, 50%))`\n      }\n    }), h(\"div\", {\n      class: `${clsPrefix}-color-picker-pallete__layer ${clsPrefix}-color-picker-pallete__layer--shadowed`,\n      style: {\n        backgroundImage: 'linear-gradient(180deg, rgba(0, 0, 0, 0%), rgba(0, 0, 0, 100%))'\n      }\n    }), this.rgba && h(\"div\", {\n      class: `${clsPrefix}-color-picker-handle`,\n      style: {\n        width: HANDLE_SIZE,\n        height: HANDLE_SIZE,\n        borderRadius: RADIUS,\n        left: `calc(${this.displayedSv[0]}% - ${RADIUS})`,\n        bottom: `calc(${this.displayedSv[1]}% - ${RADIUS})`\n      }\n    }, h(\"div\", {\n      class: `${clsPrefix}-color-picker-handle__fill`,\n      style: {\n        backgroundColor: this.handleColor,\n        borderRadius: RADIUS,\n        width: HANDLE_SIZE,\n        height: HANDLE_SIZE\n      }\n    })));\n  }\n});","import { createInjectionKey } from \"../../_utils/index.mjs\";\nexport const colorPickerInjectionKey = createInjectionKey('n-color-picker');","import { defineComponent, h, inject, ref, watchEffect } from 'vue';\nimport { NInput } from \"../../input/index.mjs\";\nimport { colorPickerInjectionKey } from \"./context.mjs\";\n// 0 - 255\nfunction normalizeRgbUnit(value) {\n  if (/^\\d{1,3}\\.?\\d*$/.test(value.trim())) {\n    return Math.max(0, Math.min(parseInt(value), 255));\n  }\n  return false;\n}\n// 0 - 360\nfunction normalizeHueUnit(value) {\n  if (/^\\d{1,3}\\.?\\d*$/.test(value.trim())) {\n    return Math.max(0, Math.min(parseInt(value), 360));\n  }\n  return false;\n}\n// 0 - 100\nfunction normalizeSlvUnit(value) {\n  if (/^\\d{1,3}\\.?\\d*$/.test(value.trim())) {\n    return Math.max(0, Math.min(parseInt(value), 100));\n  }\n  return false;\n}\nfunction normalizeHexaUnit(value) {\n  const trimmedValue = value.trim();\n  if (/^#[0-9a-fA-F]+$/.test(trimmedValue)) {\n    return [4, 5, 7, 9].includes(trimmedValue.length);\n  }\n  return false;\n}\n// 0 - 100%\nfunction normalizeAlphaUnit(value) {\n  if (/^\\d{1,3}\\.?\\d*%$/.test(value.trim())) {\n    return Math.max(0, Math.min(parseInt(value) / 100, 100));\n  }\n  return false;\n}\nconst inputThemeOverrides = {\n  paddingSmall: '0 4px'\n};\nexport default defineComponent({\n  name: 'ColorInputUnit',\n  props: {\n    label: {\n      type: String,\n      required: true\n    },\n    value: {\n      type: [Number, String],\n      default: null\n    },\n    showAlpha: Boolean,\n    onUpdateValue: {\n      type: Function,\n      required: true\n    }\n  },\n  setup(props) {\n    const inputValueRef = ref('');\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const {\n      themeRef\n    } = inject(colorPickerInjectionKey, null);\n    watchEffect(() => {\n      inputValueRef.value = getInputString();\n    });\n    function getInputString() {\n      const {\n        value\n      } = props;\n      if (value === null) return '';\n      const {\n        label\n      } = props;\n      if (label === 'HEX') {\n        return value;\n      }\n      if (label === 'A') {\n        return `${Math.floor(value * 100)}%`;\n      }\n      return String(Math.floor(value));\n    }\n    function handleInputUpdateValue(value) {\n      inputValueRef.value = value;\n    }\n    function handleInputChange(value) {\n      let unit;\n      let valid;\n      switch (props.label) {\n        case 'HEX':\n          valid = normalizeHexaUnit(value);\n          if (valid) {\n            props.onUpdateValue(value);\n          }\n          inputValueRef.value = getInputString(); // to normalized new value\n          break;\n        case 'H':\n          unit = normalizeHueUnit(value);\n          if (unit === false) {\n            inputValueRef.value = getInputString();\n          } else {\n            props.onUpdateValue(unit);\n          }\n          break;\n        case 'S':\n        case 'L':\n        case 'V':\n          unit = normalizeSlvUnit(value);\n          if (unit === false) {\n            inputValueRef.value = getInputString();\n          } else {\n            props.onUpdateValue(unit);\n          }\n          break;\n        case 'A':\n          unit = normalizeAlphaUnit(value);\n          if (unit === false) {\n            inputValueRef.value = getInputString();\n          } else {\n            props.onUpdateValue(unit);\n          }\n          break;\n        case 'R':\n        case 'G':\n        case 'B':\n          unit = normalizeRgbUnit(value);\n          if (unit === false) {\n            inputValueRef.value = getInputString();\n          } else {\n            props.onUpdateValue(unit);\n          }\n          break;\n      }\n    }\n    return {\n      mergedTheme: themeRef,\n      inputValue: inputValueRef,\n      handleInputChange,\n      handleInputUpdateValue\n    };\n  },\n  render() {\n    const {\n      mergedTheme\n    } = this;\n    return h(NInput, {\n      size: \"small\",\n      placeholder: this.label,\n      theme: mergedTheme.peers.Input,\n      themeOverrides: mergedTheme.peerOverrides.Input,\n      builtinThemeOverrides: inputThemeOverrides,\n      value: this.inputValue,\n      onUpdateValue: this.handleInputUpdateValue,\n      onChange: this.handleInputChange,\n      // add more space for xxx% input\n      style: this.label === 'A' ? 'flex-grow: 1.25;' : ''\n    });\n  }\n});","import { toHsvaString, toRgbaString, toHslaString, toHexaString, toHexString, toHsvString, toRgbString, toHslString } from 'seemly';\nimport { h, defineComponent } from 'vue';\nimport { NInputGroup } from \"../../input/index.mjs\";\nimport ColorInputUnit from \"./ColorInputUnit.mjs\";\nexport default defineComponent({\n  name: 'ColorInput',\n  props: {\n    clsPrefix: {\n      type: String,\n      required: true\n    },\n    mode: {\n      type: String,\n      required: true\n    },\n    modes: {\n      type: Array,\n      required: true\n    },\n    showAlpha: {\n      type: Boolean,\n      required: true\n    },\n    value: {\n      // for hex to get percise value\n      type: String,\n      default: null\n    },\n    valueArr: {\n      type: Array,\n      default: null\n    },\n    onUpdateValue: {\n      type: Function,\n      required: true\n    },\n    onUpdateMode: {\n      type: Function,\n      required: true\n    }\n  },\n  setup(props) {\n    return {\n      handleUnitUpdateValue(index, value) {\n        const {\n          showAlpha\n        } = props;\n        if (props.mode === 'hex') {\n          props.onUpdateValue((showAlpha ? toHexaString : toHexString)(value));\n          return;\n        }\n        let nextValueArr;\n        if (props.valueArr === null) {\n          nextValueArr = [0, 0, 0, 0];\n        } else {\n          nextValueArr = Array.from(props.valueArr);\n        }\n        switch (props.mode) {\n          case 'hsv':\n            nextValueArr[index] = value;\n            props.onUpdateValue((showAlpha ? toHsvaString : toHsvString)(nextValueArr));\n            break;\n          case 'rgb':\n            nextValueArr[index] = value;\n            props.onUpdateValue((showAlpha ? toRgbaString : toRgbString)(nextValueArr));\n            break;\n          case 'hsl':\n            nextValueArr[index] = value;\n            props.onUpdateValue((showAlpha ? toHslaString : toHslString)(nextValueArr));\n            break;\n        }\n      }\n    };\n  },\n  render() {\n    const {\n      clsPrefix,\n      modes\n    } = this;\n    return h(\"div\", {\n      class: `${clsPrefix}-color-picker-input`\n    }, h(\"div\", {\n      class: `${clsPrefix}-color-picker-input__mode`,\n      onClick: this.onUpdateMode,\n      style: {\n        cursor: modes.length === 1 ? '' : 'pointer'\n      }\n    }, this.mode.toUpperCase() + (this.showAlpha ? 'A' : '')), h(NInputGroup, null, {\n      default: () => {\n        const {\n          mode,\n          valueArr,\n          showAlpha\n        } = this;\n        if (mode === 'hex') {\n          // hex and rgba shares the same value arr\n          let hexValue = null;\n          try {\n            hexValue = valueArr === null ? null : (showAlpha ? toHexaString : toHexString)(valueArr);\n          } catch (_a) {}\n          return h(ColorInputUnit, {\n            label: 'HEX',\n            showAlpha: showAlpha,\n            value: hexValue,\n            onUpdateValue: unitValue => {\n              this.handleUnitUpdateValue(0, unitValue);\n            }\n          });\n        }\n        return (mode + (showAlpha ? 'a' : '')).split('').map((v, i) => h(ColorInputUnit, {\n          label: v.toUpperCase(),\n          value: valueArr === null ? null : valueArr[i],\n          onUpdateValue: unitValue => {\n            this.handleUnitUpdateValue(i, unitValue);\n          }\n        }));\n      }\n    }));\n  }\n});","import { toHslaString } from 'seemly';\nimport { defineComponent, h, inject } from 'vue';\nimport { colorPickerInjectionKey } from \"./context.mjs\";\nexport default defineComponent({\n  name: 'ColorPickerTrigger',\n  props: {\n    clsPrefix: {\n      type: String,\n      required: true\n    },\n    value: {\n      type: String,\n      default: null\n    },\n    hsla: {\n      type: Array,\n      default: null\n    },\n    disabled: Boolean,\n    onClick: Function\n  },\n  setup(props) {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const {\n      colorPickerSlots,\n      renderLabelRef\n    } = inject(colorPickerInjectionKey, null);\n    return () => {\n      const {\n        hsla,\n        value,\n        clsPrefix,\n        onClick,\n        disabled\n      } = props;\n      const renderLabel = colorPickerSlots.label || renderLabelRef.value;\n      return h(\"div\", {\n        class: [`${clsPrefix}-color-picker-trigger`, disabled && `${clsPrefix}-color-picker-trigger--disabled`],\n        onClick: disabled ? undefined : onClick\n      }, h(\"div\", {\n        class: `${clsPrefix}-color-picker-trigger__fill`\n      }, h(\"div\", {\n        class: `${clsPrefix}-color-picker-checkboard`\n      }), h(\"div\", {\n        style: {\n          position: 'absolute',\n          left: 0,\n          right: 0,\n          top: 0,\n          bottom: 0,\n          backgroundColor: hsla ? toHslaString(hsla) : ''\n        }\n      }), value && hsla ? h(\"div\", {\n        class: `${clsPrefix}-color-picker-trigger__value`,\n        style: {\n          color: hsla[2] > 50 || hsla[3] < 0.5 ? 'black' : 'white'\n        }\n      }, renderLabel ? renderLabel(value) : value) : null));\n    };\n  }\n});","import { defineComponent, h, computed } from 'vue';\nimport { hsv2rgb, hsva, toRgbaString } from 'seemly';\nimport { convertColor, getModeFromValue } from \"./utils.mjs\";\nimport { warn } from \"../../_utils/index.mjs\";\n// Try to normalize the color values to ensure that they are valid CSS colors\nfunction normalizeColor(color, mode) {\n  if (mode === 'hsv') {\n    const [h, s, v, a] = hsva(color);\n    return toRgbaString([...hsv2rgb(h, s, v), a]);\n  }\n  // For the mode that is not in preset, we keep the original value.\n  // For color names, they are legal to CSS, so we donâ€™t deal with them,\n  // and only standardize them when outputting.\n  return color;\n}\nfunction getHexFromName(color) {\n  const ctx = document.createElement('canvas').getContext('2d');\n  if (!ctx) {\n    return '#000000';\n  }\n  ctx.fillStyle = color;\n  return ctx.fillStyle;\n}\nexport default defineComponent({\n  name: 'ColorPickerSwatches',\n  props: {\n    clsPrefix: {\n      type: String,\n      required: true\n    },\n    mode: {\n      type: String,\n      required: true\n    },\n    swatches: {\n      type: Array,\n      required: true\n    },\n    onUpdateColor: {\n      type: Function,\n      required: true\n    }\n  },\n  setup(props) {\n    const parsedSwatchesRef = computed(() => props.swatches.map(value => {\n      const mode = getModeFromValue(value);\n      return {\n        value,\n        mode,\n        legalValue: normalizeColor(value, mode)\n      };\n    }));\n    function normalizeOutput(parsed) {\n      const {\n        mode: modeProp\n      } = props;\n      let {\n        value,\n        mode: swatchColorMode\n      } = parsed;\n      // color name is converted to hex\n      if (!swatchColorMode) {\n        swatchColorMode = 'hex';\n        if (/^[a-zA-Z]+$/.test(value)) {\n          value = getHexFromName(value);\n        } else {\n          // for invalid color, we make it black\n          warn('color-picker', `color ${value} in swatches is invalid.`);\n          value = '#000000';\n        }\n      }\n      if (swatchColorMode === modeProp) return value;\n      // swatch value to current mode value\n      return convertColor(value, modeProp, swatchColorMode);\n    }\n    function handleSwatchSelect(parsed) {\n      props.onUpdateColor(normalizeOutput(parsed));\n    }\n    function handleSwatchKeyDown(e, parsed) {\n      if (e.key === 'Enter') handleSwatchSelect(parsed);\n    }\n    return {\n      parsedSwatchesRef,\n      handleSwatchSelect,\n      handleSwatchKeyDown\n    };\n  },\n  render() {\n    const {\n      clsPrefix\n    } = this;\n    return h(\"div\", {\n      class: `${clsPrefix}-color-picker-swatches`\n    }, this.parsedSwatchesRef.map(swatch => h(\"div\", {\n      class: `${clsPrefix}-color-picker-swatch`,\n      tabindex: 0,\n      onClick: () => {\n        this.handleSwatchSelect(swatch);\n      },\n      onKeydown: e => {\n        this.handleSwatchKeyDown(e, swatch);\n      }\n    }, h(\"div\", {\n      class: `${clsPrefix}-color-picker-swatch__fill`,\n      style: {\n        background: swatch.legalValue\n      }\n    }))));\n  }\n});","import { defineComponent, h } from 'vue';\nimport { convertColor, getModeFromValue } from \"./utils.mjs\";\nexport default defineComponent({\n  name: 'ColorPreview',\n  props: {\n    clsPrefix: {\n      type: String,\n      required: true\n    },\n    mode: {\n      type: String,\n      required: true\n    },\n    color: {\n      type: String,\n      default: null,\n      validator: value => {\n        const mode = getModeFromValue(value);\n        return Boolean(!value || mode && mode !== 'hsv');\n      }\n    },\n    onUpdateColor: {\n      type: Function,\n      required: true\n    }\n  },\n  setup(props) {\n    function handleChange(e) {\n      var _a;\n      // hex\n      const value = e.target.value;\n      (_a = props.onUpdateColor) === null || _a === void 0 ? void 0 : _a.call(props, convertColor(value.toUpperCase(), props.mode, 'hex'));\n      e.stopPropagation();\n    }\n    return {\n      handleChange\n    };\n  },\n  render() {\n    const {\n      clsPrefix\n    } = this;\n    return h(\"div\", {\n      class: `${clsPrefix}-color-picker-preview__preview`\n    }, h(\"span\", {\n      class: `${clsPrefix}-color-picker-preview__fill`,\n      style: {\n        background: this.color || '#000000'\n      }\n    }), h(\"input\", {\n      class: `${clsPrefix}-color-picker-preview__input`,\n      type: \"color\",\n      value: this.color,\n      onChange: this.handleChange\n    }));\n  }\n});","import { c, cB, cE, cM } from \"../../../_utils/cssr/index.mjs\";\nimport { fadeInScaleUpTransition } from \"../../../_styles/transitions/fade-in-scale-up.cssr.mjs\";\n// vars:\n// --n-color\n// --n-text-color\n// --n-border-radius\n// --n-panel-font-size\n// --n-font-size\n// --n-bezier\n// --n-height\n// --n-box-shadow\n// --n-divider-color\nexport default c([cB('color-picker', `\n display: inline-block;\n box-sizing: border-box;\n height: var(--n-height);\n font-size: var(--n-font-size);\n width: 100%;\n position: relative;\n `), cB('color-picker-panel', `\n margin: 4px 0;\n width: 240px;\n font-size: var(--n-panel-font-size);\n color: var(--n-text-color);\n background-color: var(--n-color);\n transition:\n box-shadow .3s var(--n-bezier),\n color .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n border-radius: var(--n-border-radius);\n box-shadow: var(--n-box-shadow);\n `, [fadeInScaleUpTransition(), cB('input', `\n text-align: center;\n `)]), cB('color-picker-checkboard', `\n background: white; \n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n `, [c('&::after', `\n background-image: linear-gradient(45deg, #DDD 25%, #0000 25%), linear-gradient(-45deg, #DDD 25%, #0000 25%), linear-gradient(45deg, #0000 75%, #DDD 75%), linear-gradient(-45deg, #0000 75%, #DDD 75%);\n background-size: 12px 12px;\n background-position: 0 0, 0 6px, 6px -6px, -6px 0px;\n background-repeat: repeat;\n content: \"\";\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n `)]), cB('color-picker-slider', `\n margin-bottom: 8px;\n position: relative;\n box-sizing: border-box;\n `, [cE('image', `\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n `), c('&::after', `\n content: \"\";\n position: absolute;\n border-radius: inherit;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n box-shadow: inset 0 0 2px 0 rgba(0, 0, 0, .24);\n pointer-events: none;\n `)]), cB('color-picker-handle', `\n z-index: 1;\n box-shadow: 0 0 2px 0 rgba(0, 0, 0, .45);\n position: absolute;\n background-color: white;\n overflow: hidden;\n `, [cE('fill', `\n box-sizing: border-box;\n border: 2px solid white;\n `)]), cB('color-picker-pallete', `\n height: 180px;\n position: relative;\n margin-bottom: 8px;\n cursor: crosshair;\n `, [cE('layer', `\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n `, [cM('shadowed', `\n box-shadow: inset 0 0 2px 0 rgba(0, 0, 0, .24);\n `)])]), cB('color-picker-preview', `\n display: flex;\n `, [cE('sliders', `\n flex: 1 0 auto;\n `), cE('preview', `\n position: relative;\n height: 30px;\n width: 30px;\n margin: 0 0 8px 6px;\n border-radius: 50%;\n box-shadow: rgba(0, 0, 0, .15) 0px 0px 0px 1px inset;\n overflow: hidden;\n `), cE('fill', `\n display: block;\n width: 30px;\n height: 30px;\n `), cE('input', `\n position: absolute;\n top: 0;\n left: 0;\n width: 30px;\n height: 30px;\n opacity: 0;\n z-index: 1;\n `)]), cB('color-picker-input', `\n display: flex;\n align-items: center;\n `, [cB('input', `\n flex-grow: 1;\n flex-basis: 0;\n `), cE('mode', `\n width: 72px;\n text-align: center;\n `)]), cB('color-picker-control', `\n padding: 12px;\n `), cB('color-picker-action', `\n display: flex;\n margin-top: -4px;\n border-top: 1px solid var(--n-divider-color);\n padding: 8px 12px;\n justify-content: flex-end;\n `, [cB('button', 'margin-left: 8px;')]), cB('color-picker-trigger', `\n border: var(--n-border);\n height: 100%;\n box-sizing: border-box;\n border-radius: var(--n-border-radius);\n transition: border-color .3s var(--n-bezier);\n cursor: pointer;\n `, [cE('value', `\n white-space: nowrap;\n position: relative;\n `), cE('fill', `\n border-radius: var(--n-border-radius);\n position: absolute;\n display: flex;\n align-items: center;\n justify-content: center;\n left: 4px;\n right: 4px;\n top: 4px;\n bottom: 4px;\n `), cM('disabled', 'cursor: not-allowed'), cB('color-picker-checkboard', `\n border-radius: var(--n-border-radius);\n `, [c('&::after', `\n --n-block-size: calc((var(--n-height) - 8px) / 3);\n background-size: calc(var(--n-block-size) * 2) calc(var(--n-block-size) * 2);\n background-position: 0 0, 0 var(--n-block-size), var(--n-block-size) calc(-1 * var(--n-block-size)), calc(-1 * var(--n-block-size)) 0px; \n `)])]), cB('color-picker-swatches', `\n display: grid;\n grid-gap: 8px;\n flex-wrap: wrap;\n position: relative;\n grid-template-columns: repeat(auto-fill, 18px);\n margin-top: 10px;\n `, [cB('color-picker-swatch', `\n width: 18px;\n height: 18px;\n background-image: linear-gradient(45deg, #DDD 25%, #0000 25%), linear-gradient(-45deg, #DDD 25%, #0000 25%), linear-gradient(45deg, #0000 75%, #DDD 75%), linear-gradient(-45deg, #0000 75%, #DDD 75%);\n background-size: 8px 8px;\n background-position: 0px 0, 0px 4px, 4px -4px, -4px 0px;\n background-repeat: repeat;\n `, [cE('fill', `\n position: relative;\n width: 100%;\n height: 100%;\n border-radius: 3px;\n box-shadow: rgba(0, 0, 0, .15) 0px 0px 0px 1px inset;\n cursor: pointer;\n `), c('&:focus', `\n outline: none;\n `, [cE('fill', [c('&::after', `\n position: absolute;\n top: 0;\n right: 0;\n bottom: 0;\n left: 0;\n background: inherit;\n filter: blur(2px);\n content: \"\";\n `)])])])])]);","import { h, defineComponent, ref, computed, toRef, watchEffect, withDirectives, Transition, provide, watch, nextTick } from 'vue';\nimport { hsv2rgb, rgb2hsv, rgba, hsva, hsla, hsl2hsv, hsv2hsl, rgb2hsl, hsl2rgb, toRgbaString, toHsvaString, toHslaString, toHexaString, toHsvString, toRgbString, toHexString, toHslString, getPreciseEventTarget } from 'seemly';\nimport { useIsMounted, useMergedState } from 'vooks';\nimport { VBinder, VFollower, VTarget } from 'vueuc';\nimport { clickoutside } from 'vdirs';\nimport { colorPickerLight } from \"../styles/index.mjs\";\nimport { useFormItem, useConfig, useTheme, useLocale, useThemeClass } from \"../../_mixins/index.mjs\";\nimport { call, createKey, useAdjustedTo } from \"../../_utils/index.mjs\";\nimport { NButton } from \"../../button/index.mjs\";\nimport HueSlider from \"./HueSlider.mjs\";\nimport AlphaSlider from \"./AlphaSlider.mjs\";\nimport Pallete from \"./Pallete.mjs\";\nimport ColorInput from \"./ColorInput.mjs\";\nimport ColorPickerTrigger from \"./ColorPickerTrigger.mjs\";\nimport { deriveDefaultValue, getModeFromValue } from \"./utils.mjs\";\nimport ColorPickerSwatches from \"./ColorPickerSwatches.mjs\";\nimport ColorPreview from \"./ColorPreview.mjs\";\nimport { colorPickerInjectionKey } from \"./context.mjs\";\nimport style from \"./styles/index.cssr.mjs\";\nexport const colorPickerProps = Object.assign(Object.assign({}, useTheme.props), {\n  value: String,\n  show: {\n    type: Boolean,\n    default: undefined\n  },\n  defaultShow: Boolean,\n  defaultValue: String,\n  modes: {\n    type: Array,\n    // no hsva by default since browser doesn't support it\n    default: () => ['rgb', 'hex', 'hsl']\n  },\n  placement: {\n    type: String,\n    default: 'bottom-start'\n  },\n  to: useAdjustedTo.propTo,\n  showAlpha: {\n    type: Boolean,\n    default: true\n  },\n  showPreview: Boolean,\n  swatches: Array,\n  disabled: {\n    type: Boolean,\n    default: undefined\n  },\n  actions: {\n    type: Array,\n    default: null\n  },\n  internalActions: Array,\n  size: String,\n  renderLabel: Function,\n  onComplete: Function,\n  onConfirm: Function,\n  'onUpdate:show': [Function, Array],\n  onUpdateShow: [Function, Array],\n  'onUpdate:value': [Function, Array],\n  onUpdateValue: [Function, Array]\n});\nexport default defineComponent({\n  name: 'ColorPicker',\n  props: colorPickerProps,\n  setup(props, {\n    slots\n  }) {\n    const selfRef = ref(null);\n    let upcomingValue = null;\n    const formItem = useFormItem(props);\n    const {\n      mergedSizeRef,\n      mergedDisabledRef\n    } = formItem;\n    const {\n      localeRef\n    } = useLocale('global');\n    const {\n      mergedClsPrefixRef,\n      namespaceRef,\n      inlineThemeDisabled\n    } = useConfig(props);\n    const themeRef = useTheme('ColorPicker', '-color-picker', style, colorPickerLight, props, mergedClsPrefixRef);\n    provide(colorPickerInjectionKey, {\n      themeRef,\n      renderLabelRef: toRef(props, 'renderLabel'),\n      colorPickerSlots: slots\n    });\n    const uncontrolledShowRef = ref(props.defaultShow);\n    const mergedShowRef = useMergedState(toRef(props, 'show'), uncontrolledShowRef);\n    function doUpdateShow(value) {\n      const {\n        onUpdateShow,\n        'onUpdate:show': _onUpdateShow\n      } = props;\n      if (onUpdateShow) call(onUpdateShow, value);\n      if (_onUpdateShow) call(_onUpdateShow, value);\n      uncontrolledShowRef.value = value;\n    }\n    const {\n      defaultValue\n    } = props;\n    const uncontrolledValueRef = ref(defaultValue === undefined ? deriveDefaultValue(props.modes, props.showAlpha) : defaultValue);\n    const mergedValueRef = useMergedState(toRef(props, 'value'), uncontrolledValueRef);\n    const undoStackRef = ref([mergedValueRef.value]);\n    const valueIndexRef = ref(0);\n    const valueModeRef = computed(() => getModeFromValue(mergedValueRef.value));\n    const {\n      modes\n    } = props;\n    const displayedModeRef = ref(getModeFromValue(mergedValueRef.value) || modes[0] || 'rgb');\n    function handleUpdateDisplayedMode() {\n      const {\n        modes\n      } = props;\n      const {\n        value: displayedMode\n      } = displayedModeRef;\n      const currentModeIndex = modes.findIndex(mode => mode === displayedMode);\n      if (~currentModeIndex) {\n        displayedModeRef.value = modes[(currentModeIndex + 1) % modes.length];\n      } else {\n        displayedModeRef.value = 'rgb';\n      }\n    }\n    let _h,\n      // avoid conflict with render function's h\n      s, l, v, r, g, b, a;\n    const hsvaRef = computed(() => {\n      const {\n        value: mergedValue\n      } = mergedValueRef;\n      if (!mergedValue) return null;\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      switch (valueModeRef.value) {\n        case 'hsv':\n          return hsva(mergedValue);\n        case 'hsl':\n          ;\n          [_h, s, l, a] = hsla(mergedValue);\n          return [...hsl2hsv(_h, s, l), a];\n        case 'rgb':\n        case 'hex':\n          ;\n          [r, g, b, a] = rgba(mergedValue);\n          return [...rgb2hsv(r, g, b), a];\n      }\n    });\n    const rgbaRef = computed(() => {\n      const {\n        value: mergedValue\n      } = mergedValueRef;\n      if (!mergedValue) return null;\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      switch (valueModeRef.value) {\n        case 'rgb':\n        case 'hex':\n          return rgba(mergedValue);\n        case 'hsv':\n          ;\n          [_h, s, v, a] = hsva(mergedValue);\n          return [...hsv2rgb(_h, s, v), a];\n        case 'hsl':\n          ;\n          [_h, s, l, a] = hsla(mergedValue);\n          return [...hsl2rgb(_h, s, l), a];\n      }\n    });\n    const hslaRef = computed(() => {\n      const {\n        value: mergedValue\n      } = mergedValueRef;\n      if (!mergedValue) return null;\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      switch (valueModeRef.value) {\n        case 'hsl':\n          return hsla(mergedValue);\n        case 'hsv':\n          ;\n          [_h, s, v, a] = hsva(mergedValue);\n          return [...hsv2hsl(_h, s, v), a];\n        case 'rgb':\n        case 'hex':\n          ;\n          [r, g, b, a] = rgba(mergedValue);\n          return [...rgb2hsl(r, g, b), a];\n      }\n    });\n    const mergedValueArrRef = computed(() => {\n      switch (displayedModeRef.value) {\n        case 'rgb':\n        case 'hex':\n          return rgbaRef.value;\n        case 'hsv':\n          return hsvaRef.value;\n        case 'hsl':\n          return hslaRef.value;\n      }\n    });\n    const displayedHueRef = ref(0);\n    const displayedAlphaRef = ref(1);\n    const displayedSvRef = ref([0, 0]);\n    function handleUpdateSv(s, v) {\n      const {\n        value: hsvaArr\n      } = hsvaRef;\n      const hue = displayedHueRef.value;\n      const alpha = hsvaArr ? hsvaArr[3] : 1;\n      displayedSvRef.value = [s, v];\n      const {\n        showAlpha\n      } = props;\n      switch (displayedModeRef.value) {\n        case 'hsv':\n          doUpdateValue((showAlpha ? toHsvaString : toHsvString)([hue, s, v, alpha]), 'cursor');\n          break;\n        case 'hsl':\n          doUpdateValue((showAlpha ? toHslaString : toHslString)([...hsv2hsl(hue, s, v), alpha]), 'cursor');\n          break;\n        case 'rgb':\n          doUpdateValue((showAlpha ? toRgbaString : toRgbString)([...hsv2rgb(hue, s, v), alpha]), 'cursor');\n          break;\n        case 'hex':\n          doUpdateValue((showAlpha ? toHexaString : toHexString)([...hsv2rgb(hue, s, v), alpha]), 'cursor');\n          break;\n      }\n    }\n    function handleUpdateHue(hue) {\n      displayedHueRef.value = hue;\n      const {\n        value: hsvaArr\n      } = hsvaRef;\n      if (!hsvaArr) {\n        return;\n      }\n      const [, s, v, a] = hsvaArr;\n      const {\n        showAlpha\n      } = props;\n      switch (displayedModeRef.value) {\n        case 'hsv':\n          doUpdateValue((showAlpha ? toHsvaString : toHsvString)([hue, s, v, a]), 'cursor');\n          break;\n        case 'rgb':\n          doUpdateValue((showAlpha ? toRgbaString : toRgbString)([...hsv2rgb(hue, s, v), a]), 'cursor');\n          break;\n        case 'hex':\n          doUpdateValue((showAlpha ? toHexaString : toHexString)([...hsv2rgb(hue, s, v), a]), 'cursor');\n          break;\n        case 'hsl':\n          doUpdateValue((showAlpha ? toHslaString : toHslString)([...hsv2hsl(hue, s, v), a]), 'cursor');\n          break;\n      }\n    }\n    function handleUpdateAlpha(alpha) {\n      switch (displayedModeRef.value) {\n        case 'hsv':\n          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n          ;\n          [_h, s, v] = hsvaRef.value;\n          doUpdateValue(toHsvaString([_h, s, v, alpha]), 'cursor');\n          break;\n        case 'rgb':\n          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n          ;\n          [r, g, b] = rgbaRef.value;\n          doUpdateValue(toRgbaString([r, g, b, alpha]), 'cursor');\n          break;\n        case 'hex':\n          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n          ;\n          [r, g, b] = rgbaRef.value;\n          doUpdateValue(toHexaString([r, g, b, alpha]), 'cursor');\n          break;\n        case 'hsl':\n          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n          ;\n          [_h, s, l] = hslaRef.value;\n          doUpdateValue(toHslaString([_h, s, l, alpha]), 'cursor');\n          break;\n      }\n      displayedAlphaRef.value = alpha;\n    }\n    function doUpdateValue(value, updateSource) {\n      if (updateSource === 'cursor') {\n        upcomingValue = value;\n      } else {\n        upcomingValue = null;\n      }\n      const {\n        nTriggerFormChange,\n        nTriggerFormInput\n      } = formItem;\n      const {\n        onUpdateValue,\n        'onUpdate:value': _onUpdateValue\n      } = props;\n      if (onUpdateValue) call(onUpdateValue, value);\n      if (_onUpdateValue) call(_onUpdateValue, value);\n      nTriggerFormChange();\n      nTriggerFormInput();\n      uncontrolledValueRef.value = value;\n    }\n    function handleInputUpdateValue(value) {\n      doUpdateValue(value, 'input');\n      void nextTick(handleComplete);\n    }\n    function handleComplete(pushStack = true) {\n      const {\n        value\n      } = mergedValueRef;\n      // no value & only hue changes will complete with no value\n      if (value) {\n        const {\n          nTriggerFormChange,\n          nTriggerFormInput\n        } = formItem;\n        const {\n          onComplete\n        } = props;\n        if (onComplete) {\n          ;\n          onComplete(value);\n        }\n        const {\n          value: undoStack\n        } = undoStackRef;\n        const {\n          value: valueIndex\n        } = valueIndexRef;\n        if (pushStack) {\n          undoStack.splice(valueIndex + 1, undoStack.length, value);\n          valueIndexRef.value = valueIndex + 1;\n        }\n        nTriggerFormChange();\n        nTriggerFormInput();\n      }\n    }\n    function undo() {\n      const {\n        value: valueIndex\n      } = valueIndexRef;\n      if (valueIndex - 1 < 0) return;\n      doUpdateValue(undoStackRef.value[valueIndex - 1], 'input');\n      handleComplete(false);\n      valueIndexRef.value = valueIndex - 1;\n    }\n    function redo() {\n      const {\n        value: valueIndex\n      } = valueIndexRef;\n      if (valueIndex < 0 || valueIndex + 1 >= undoStackRef.value.length) return;\n      doUpdateValue(undoStackRef.value[valueIndex + 1], 'input');\n      handleComplete(false);\n      valueIndexRef.value = valueIndex + 1;\n    }\n    function handleClear() {\n      doUpdateValue(null, 'input');\n      doUpdateShow(false);\n    }\n    function handleConfirm() {\n      const {\n        value\n      } = mergedValueRef;\n      const {\n        onConfirm\n      } = props;\n      if (onConfirm) {\n        ;\n        onConfirm(value);\n      }\n      doUpdateShow(false);\n    }\n    const undoableRef = computed(() => valueIndexRef.value >= 1);\n    const redoableRef = computed(() => {\n      const {\n        value: undoStack\n      } = undoStackRef;\n      return undoStack.length > 1 && valueIndexRef.value < undoStack.length - 1;\n    });\n    watch(mergedShowRef, value => {\n      if (!value) {\n        undoStackRef.value = [mergedValueRef.value];\n        valueIndexRef.value = 0;\n      }\n    });\n    watchEffect(() => {\n      if (upcomingValue && upcomingValue === mergedValueRef.value) {\n        // let it works in uncontrolled mode\n      } else {\n        const {\n          value\n        } = hsvaRef;\n        if (value) {\n          displayedHueRef.value = value[0];\n          displayedAlphaRef.value = value[3];\n          displayedSvRef.value = [value[1], value[2]];\n        }\n      }\n      upcomingValue = null;\n    });\n    const cssVarsRef = computed(() => {\n      const {\n        value: mergedSize\n      } = mergedSizeRef;\n      const {\n        common: {\n          cubicBezierEaseInOut\n        },\n        self: {\n          textColor,\n          color,\n          panelFontSize,\n          boxShadow,\n          border,\n          borderRadius,\n          dividerColor,\n          [createKey('height', mergedSize)]: height,\n          [createKey('fontSize', mergedSize)]: fontSize\n        }\n      } = themeRef.value;\n      return {\n        '--n-bezier': cubicBezierEaseInOut,\n        '--n-text-color': textColor,\n        '--n-color': color,\n        '--n-panel-font-size': panelFontSize,\n        '--n-font-size': fontSize,\n        '--n-box-shadow': boxShadow,\n        '--n-border': border,\n        '--n-border-radius': borderRadius,\n        '--n-height': height,\n        '--n-divider-color': dividerColor\n      };\n    });\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('color-picker', computed(() => {\n      return mergedSizeRef.value[0];\n    }), cssVarsRef, props) : undefined;\n    function renderPanel() {\n      var _a;\n      const {\n        value: rgba\n      } = rgbaRef;\n      const {\n        value: displayedHue\n      } = displayedHueRef;\n      const {\n        internalActions,\n        modes,\n        actions\n      } = props;\n      const {\n        value: mergedTheme\n      } = themeRef;\n      const {\n        value: mergedClsPrefix\n      } = mergedClsPrefixRef;\n      return h(\"div\", {\n        class: [`${mergedClsPrefix}-color-picker-panel`, themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass.value],\n        onDragstart: e => {\n          e.preventDefault();\n        },\n        style: inlineThemeDisabled ? undefined : cssVarsRef.value\n      }, h(\"div\", {\n        class: `${mergedClsPrefix}-color-picker-control`\n      }, h(Pallete, {\n        clsPrefix: mergedClsPrefix,\n        rgba: rgba,\n        displayedHue: displayedHue,\n        displayedSv: displayedSvRef.value,\n        onUpdateSV: handleUpdateSv,\n        onComplete: handleComplete\n      }), h(\"div\", {\n        class: `${mergedClsPrefix}-color-picker-preview`\n      }, h(\"div\", {\n        class: `${mergedClsPrefix}-color-picker-preview__sliders`\n      }, h(HueSlider, {\n        clsPrefix: mergedClsPrefix,\n        hue: displayedHue,\n        onUpdateHue: handleUpdateHue,\n        onComplete: handleComplete\n      }), props.showAlpha ? h(AlphaSlider, {\n        clsPrefix: mergedClsPrefix,\n        rgba: rgba,\n        alpha: displayedAlphaRef.value,\n        onUpdateAlpha: handleUpdateAlpha,\n        onComplete: handleComplete\n      }) : null), props.showPreview ? h(ColorPreview, {\n        clsPrefix: mergedClsPrefix,\n        mode: displayedModeRef.value,\n        color: rgbaRef.value && toHexString(rgbaRef.value),\n        onUpdateColor: color => {\n          doUpdateValue(color, 'input');\n        }\n      }) : null), h(ColorInput, {\n        clsPrefix: mergedClsPrefix,\n        showAlpha: props.showAlpha,\n        mode: displayedModeRef.value,\n        modes: modes,\n        onUpdateMode: handleUpdateDisplayedMode,\n        value: mergedValueRef.value,\n        valueArr: mergedValueArrRef.value,\n        onUpdateValue: handleInputUpdateValue\n      }), ((_a = props.swatches) === null || _a === void 0 ? void 0 : _a.length) && h(ColorPickerSwatches, {\n        clsPrefix: mergedClsPrefix,\n        mode: displayedModeRef.value,\n        swatches: props.swatches,\n        onUpdateColor: color => {\n          doUpdateValue(color, 'input');\n        }\n      })), (actions === null || actions === void 0 ? void 0 : actions.length) ? h(\"div\", {\n        class: `${mergedClsPrefix}-color-picker-action`\n      }, actions.includes('confirm') && h(NButton, {\n        size: \"small\",\n        onClick: handleConfirm,\n        theme: mergedTheme.peers.Button,\n        themeOverrides: mergedTheme.peerOverrides.Button\n      }, {\n        default: () => localeRef.value.confirm\n      }), actions.includes('clear') && h(NButton, {\n        size: \"small\",\n        onClick: handleClear,\n        disabled: !mergedValueRef.value,\n        theme: mergedTheme.peers.Button,\n        themeOverrides: mergedTheme.peerOverrides.Button\n      }, {\n        default: () => localeRef.value.clear\n      })) : null, slots.action ? h(\"div\", {\n        class: `${mergedClsPrefix}-color-picker-action`\n      }, {\n        default: slots.action\n      }) : internalActions ? h(\"div\", {\n        class: `${mergedClsPrefix}-color-picker-action`\n      }, internalActions.includes('undo') && h(NButton, {\n        size: \"small\",\n        onClick: undo,\n        disabled: !undoableRef.value,\n        theme: mergedTheme.peers.Button,\n        themeOverrides: mergedTheme.peerOverrides.Button\n      }, {\n        default: () => localeRef.value.undo\n      }), internalActions.includes('redo') && h(NButton, {\n        size: \"small\",\n        onClick: redo,\n        disabled: !redoableRef.value,\n        theme: mergedTheme.peers.Button,\n        themeOverrides: mergedTheme.peerOverrides.Button\n      }, {\n        default: () => localeRef.value.redo\n      })) : null);\n    }\n    return {\n      mergedClsPrefix: mergedClsPrefixRef,\n      namespace: namespaceRef,\n      selfRef,\n      hsla: hslaRef,\n      rgba: rgbaRef,\n      mergedShow: mergedShowRef,\n      mergedDisabled: mergedDisabledRef,\n      isMounted: useIsMounted(),\n      adjustedTo: useAdjustedTo(props),\n      mergedValue: mergedValueRef,\n      handleTriggerClick() {\n        doUpdateShow(true);\n      },\n      handleClickOutside(e) {\n        var _a;\n        if ((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(getPreciseEventTarget(e))) {\n          return;\n        }\n        doUpdateShow(false);\n      },\n      renderPanel,\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n    };\n  },\n  render() {\n    const {\n      $slots,\n      mergedClsPrefix,\n      onRender\n    } = this;\n    onRender === null || onRender === void 0 ? void 0 : onRender();\n    return h(\"div\", {\n      class: [this.themeClass, `${mergedClsPrefix}-color-picker`],\n      ref: \"selfRef\",\n      style: this.cssVars\n    }, h(VBinder, null, {\n      default: () => [h(VTarget, null, {\n        default: () => h(ColorPickerTrigger, {\n          clsPrefix: mergedClsPrefix,\n          value: this.mergedValue,\n          hsla: this.hsla,\n          disabled: this.mergedDisabled,\n          onClick: this.handleTriggerClick\n        }, {\n          label: $slots.label\n        })\n      }), h(VFollower, {\n        placement: this.placement,\n        show: this.mergedShow,\n        containerClass: this.namespace,\n        teleportDisabled: this.adjustedTo === useAdjustedTo.tdkey,\n        to: this.adjustedTo\n      }, {\n        default: () => h(Transition, {\n          name: \"fade-in-scale-up-transition\",\n          appear: this.isMounted\n        }, {\n          default: () => this.mergedShow ? withDirectives(this.renderPanel(), [[clickoutside, this.handleClickOutside, undefined, {\n            capture: true\n          }]]) : null\n        })\n      })]\n    }));\n  }\n});"],"names":["hsl2hsv","h","s","l","v","Math","min","hsv2hsl","m","hsv2rgb","f","n","k","max","rgb2hsv","r","g","b","c","rgb2hsl","abs","hsl2rgb","a","style$1","cB","cE","NInputGroup","defineComponent","name","props","setup","mergedClsPrefixRef","useConfig","useStyle","style","mergedClsPrefix","render","this","class","$slots","getModeFromValue","color","test","includes","convert","rgb","hex","value","toHexaString","rgba","hsl","toHslaString","hsv","toHsvaString","toRgbaString","hsla","hsva","convertColor","mode","originalMode","HANDLE_SIZE","RADIUS","HueSlider","clsPrefix","type","String","required","hue","Number","onUpdateHue","Function","onComplete","railRef","ref","handleMouseMove","e","railEl","width","left","getBoundingClientRect","newHue","clientX","round","handleMouseUp","_a","off","document","call","handleMouseDown","on","height","borderRadius","boxShadow","boxSizing","backgroundImage","position","onMousedown","right","top","bottom","backgroundColor","AlphaSlider","Array","default","alpha","onUpdateAlpha","newAlpha","railBackgroundImage","computed","overflow","Pallete","displayedHue","displayedSv","onUpdateSV","palleteRef","palleteEl","newV","clientY","newS","normalizedNewS","normalizedNewV","handleColor","colorPickerInjectionKey","createInjectionKey","inputThemeOverrides","paddingSmall","ColorInputUnit","label","showAlpha","Boolean","onUpdateValue","inputValueRef","themeRef","inject","getInputString","floor","watchEffect","mergedTheme","inputValue","handleInputChange","unit","valid","trimmedValue","trim","length","normalizeHexaUnit","parseInt","normalizeHueUnit","normalizeSlvUnit","normalizeAlphaUnit","normalizeRgbUnit","handleInputUpdateValue","NInput","size","placeholder","theme","peers","Input","themeOverrides","peerOverrides","builtinThemeOverrides","onChange","ColorInput","modes","valueArr","onUpdateMode","handleUnitUpdateValue","index","toHexString","nextValueArr","from","toHsvString","toRgbString","toHslString","onClick","cursor","toUpperCase","hexValue","unitValue","split","map","i","ColorPickerTrigger","disabled","colorPickerSlots","renderLabelRef","renderLabel","normalizeColor","ColorPickerSwatches","swatches","onUpdateColor","normalizeOutput","parsed","modeProp","swatchColorMode","ctx","createElement","getContext","fillStyle","getHexFromName","warn","handleSwatchSelect","parsedSwatchesRef","legalValue","handleSwatchKeyDown","key","swatch","tabindex","onKeydown","background","ColorPreview","validator","handleChange","target","stopPropagation","fadeInScaleUpTransition","cM","__unplugin_components_17","Object","assign","useTheme","show","defaultShow","defaultValue","placement","to","useAdjustedTo","propTo","showPreview","actions","internalActions","onConfirm","onUpdateShow","slots","selfRef","upcomingValue","formItem","useFormItem","mergedSizeRef","mergedDisabledRef","localeRef","useLocale","namespaceRef","inlineThemeDisabled","colorPickerLight","provide","toRef","uncontrolledShowRef","mergedShowRef","useMergedState","doUpdateShow","_onUpdateShow","uncontrolledValueRef","deriveDefaultValue","mergedValueRef","undoStackRef","valueIndexRef","valueModeRef","displayedModeRef","handleUpdateDisplayedMode","displayedMode","currentModeIndex","findIndex","_h","hsvaRef","mergedValue","rgbaRef","hslaRef","mergedValueArrRef","displayedHueRef","displayedAlphaRef","displayedSvRef","handleUpdateSv","hsvaArr","doUpdateValue","handleUpdateHue","handleUpdateAlpha","updateSource","nTriggerFormChange","nTriggerFormInput","_onUpdateValue","nextTick","handleComplete","pushStack","undoStack","valueIndex","splice","undo","redo","handleClear","handleConfirm","undoableRef","redoableRef","watch","cssVarsRef","mergedSize","common","cubicBezierEaseInOut","self","textColor","panelFontSize","border","dividerColor","createKey","fontSize","themeClassHandle","useThemeClass","namespace","mergedShow","mergedDisabled","isMounted","useIsMounted","adjustedTo","handleTriggerClick","handleClickOutside","contains","getPreciseEventTarget","renderPanel","themeClass","onDragstart","preventDefault","NButton","Button","confirm","clear","action","cssVars","onRender","VBinder","VTarget","VFollower","containerClass","teleportDisabled","tdkey","Transition","appear","withDirectives","clickoutside","capture"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]}