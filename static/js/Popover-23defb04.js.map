{"version":3,"file":"Popover-23defb04.js","sources":["../../../node_modules/seemly/es/animation/next-frame-once.js","../../../node_modules/naive-ui/es/_utils/vue/keep.js","../../../node_modules/naive-ui/es/_utils/vue/get-first-slot-vnode.js","../../../node_modules/naive-ui/es/_utils/env/is-jsdom.js","../../../node_modules/naive-ui/es/_internal/select-menu/src/interface.js","../../../node_modules/naive-ui/es/modal/src/interface.js","../../../node_modules/naive-ui/es/drawer/src/interface.js","../../../node_modules/naive-ui/es/popover/src/interface.js","../../../node_modules/naive-ui/es/_utils/composable/use-adjusted-to.js","../../../node_modules/vueuc/es/shared/v-node.js","../../../node_modules/vueuc/es/binder/src/utils.js","../../../node_modules/vueuc/es/binder/src/Binder.js","../../../node_modules/vueuc/es/binder/src/Target.js","../../../node_modules/vdirs/es/mousemoveoutside.js","../../../node_modules/vdirs/es/clickoutside.js","../../../node_modules/vdirs/es/zindexable/z-index-manager.js","../../../node_modules/vdirs/es/zindexable/index.js","../../../node_modules/vueuc/es/shared/resolve-to.js","../../../node_modules/vueuc/es/lazy-teleport/src/index.js","../../../node_modules/vueuc/es/binder/src/get-placement-style.js","../../../node_modules/vueuc/es/binder/src/Follower.js","../../../node_modules/vueuc/es/focus-trap/src/utils.js","../../../node_modules/vueuc/es/focus-trap/src/index.js","../../../node_modules/lodash-es/_WeakMap.js","../../../node_modules/lodash-es/_nativeKeys.js","../../../node_modules/lodash-es/_baseKeys.js","../../../node_modules/lodash-es/keys.js","../../../node_modules/lodash-es/_getSymbols.js","../../../node_modules/lodash-es/_arrayFilter.js","../../../node_modules/lodash-es/stubArray.js","../../../node_modules/lodash-es/_getAllKeys.js","../../../node_modules/lodash-es/_baseGetAllKeys.js","../../../node_modules/lodash-es/_arrayPush.js","../../../node_modules/lodash-es/_DataView.js","../../../node_modules/lodash-es/_Promise.js","../../../node_modules/lodash-es/_Set.js","../../../node_modules/lodash-es/_getTag.js","../../../node_modules/lodash-es/_SetCache.js","../../../node_modules/lodash-es/_arraySome.js","../../../node_modules/lodash-es/_setCacheAdd.js","../../../node_modules/lodash-es/_setCacheHas.js","../../../node_modules/lodash-es/_equalArrays.js","../../../node_modules/lodash-es/_cacheHas.js","../../../node_modules/lodash-es/_mapToArray.js","../../../node_modules/lodash-es/_setToArray.js","../../../node_modules/lodash-es/_equalByTag.js","../../../node_modules/lodash-es/_equalObjects.js","../../../node_modules/lodash-es/_baseIsEqualDeep.js","../../../node_modules/lodash-es/_baseIsEqual.js","../../../node_modules/lodash-es/_baseIsMatch.js","../../../node_modules/lodash-es/_isStrictComparable.js","../../../node_modules/lodash-es/_matchesStrictComparable.js","../../../node_modules/lodash-es/_baseMatches.js","../../../node_modules/lodash-es/_getMatchData.js","../../../node_modules/lodash-es/_baseHasIn.js","../../../node_modules/lodash-es/hasIn.js","../../../node_modules/lodash-es/_hasPath.js","../../../node_modules/lodash-es/_baseMatchesProperty.js","../../../node_modules/lodash-es/property.js","../../../node_modules/lodash-es/_baseProperty.js","../../../node_modules/lodash-es/_basePropertyDeep.js","../../../node_modules/lodash-es/_baseIteratee.js","../../../node_modules/lodash-es/_baseEach.js","../../../node_modules/lodash-es/_createBaseEach.js","../../../node_modules/lodash-es/_baseForOwn.js","../../../node_modules/lodash-es/_baseMap.js","../../../node_modules/naive-ui/es/_styles/transitions/fade-in-scale-up.cssr.js","../../../node_modules/naive-ui/es/popover/src/styles/index.cssr.js","../../../node_modules/lodash-es/map.js","../../../node_modules/naive-ui/es/popover/src/PopoverBody.js","../../../node_modules/naive-ui/es/popover/src/Popover.js"],"sourcesContent":["let onceCbs = [];\nconst paramsMap = new WeakMap();\nfunction flushOnceCallbacks() {\n    onceCbs.forEach((cb) => cb(...paramsMap.get(cb)));\n    onceCbs = [];\n}\nfunction beforeNextFrameOnce(cb, ...params) {\n    paramsMap.set(cb, params);\n    if (onceCbs.includes(cb))\n        return;\n    onceCbs.push(cb) === 1 && requestAnimationFrame(flushOnceCallbacks);\n}\nexport { beforeNextFrameOnce };\n","export function keep(object, keys = [], rest) {\n    const keepedObject = {};\n    keys.forEach((key) => {\n        keepedObject[key] = object[key];\n    });\n    return Object.assign(keepedObject, rest);\n}\n","import { flatten } from './flatten';\nimport { warn } from '../naive';\nexport function getFirstSlotVNode(slots, slotName = 'default', props = undefined) {\n    const slot = slots[slotName];\n    if (!slot) {\n        warn('getFirstSlotVNode', `slot[${slotName}] is empty`);\n        return null;\n    }\n    const slotContent = flatten(slot(props));\n    // vue will normalize the slot, so slot must be an array\n    if (slotContent.length === 1) {\n        return slotContent[0];\n    }\n    else {\n        warn('getFirstSlotVNode', `slot[${slotName}] should have exactly one child`);\n        return null;\n    }\n}\n","let _isJsdom;\nexport function isJsdom() {\n    if (_isJsdom === undefined) {\n        _isJsdom =\n            navigator.userAgent.includes('Node.js') ||\n                navigator.userAgent.includes('jsdom');\n    }\n    return _isJsdom;\n}\n","import { createInjectionKey } from '../../../_utils/vue/create-injection-key';\nexport const internalSelectionMenuInjectionKey = createInjectionKey('n-internal-select-menu');\nexport const internalSelectionMenuBodyInjectionKey = createInjectionKey('n-internal-select-menu-body');\n","import { createInjectionKey } from '../../_utils/vue/create-injection-key';\nexport const modalBodyInjectionKey = createInjectionKey('n-modal-body');\nexport const modalInjectionKey = createInjectionKey('n-modal');\n","import { createInjectionKey } from '../../_utils/vue/create-injection-key';\nexport const drawerBodyInjectionKey = createInjectionKey('n-drawer-body');\nexport const drawerInjectionKey = createInjectionKey('n-drawer');\n","import { createInjectionKey } from '../../_utils/vue/create-injection-key';\nexport const popoverBodyInjectionKey = createInjectionKey('n-popover-body');\n","import { useMemo } from 'vooks';\nimport { on, off } from 'evtd';\nimport { inject, onBeforeUnmount, onMounted, ref } from 'vue';\nimport { internalSelectionMenuBodyInjectionKey } from '../../_internal/select-menu/src/interface';\nimport { modalBodyInjectionKey } from '../../modal/src/interface';\nimport { drawerBodyInjectionKey } from '../../drawer/src/interface';\nimport { popoverBodyInjectionKey } from '../../popover/src/interface';\nconst teleportDisabled = '__disabled__';\nfunction useAdjustedTo(props) {\n    const modal = inject(modalBodyInjectionKey, null);\n    const drawer = inject(drawerBodyInjectionKey, null);\n    const popover = inject(popoverBodyInjectionKey, null);\n    const selectMenu = inject(internalSelectionMenuBodyInjectionKey, null);\n    const fullscreenElementRef = ref();\n    if (typeof document !== 'undefined') {\n        fullscreenElementRef.value = document.fullscreenElement;\n        const handleFullscreenChange = () => {\n            fullscreenElementRef.value = document.fullscreenElement;\n        };\n        onMounted(() => {\n            on('fullscreenchange', document, handleFullscreenChange);\n        });\n        onBeforeUnmount(() => {\n            off('fullscreenchange', document, handleFullscreenChange);\n        });\n    }\n    return useMemo(() => {\n        var _a;\n        const { to } = props;\n        if (to !== undefined) {\n            if (to === false)\n                return teleportDisabled;\n            if (to === true)\n                return fullscreenElementRef.value || 'body';\n            return to;\n        }\n        if (modal === null || modal === void 0 ? void 0 : modal.value) {\n            return (_a = modal.value.$el) !== null && _a !== void 0 ? _a : modal.value;\n        }\n        if (drawer === null || drawer === void 0 ? void 0 : drawer.value)\n            return drawer.value;\n        if (popover === null || popover === void 0 ? void 0 : popover.value)\n            return popover.value;\n        if (selectMenu === null || selectMenu === void 0 ? void 0 : selectMenu.value)\n            return selectMenu.value;\n        return to !== null && to !== void 0 ? to : (fullscreenElementRef.value || 'body');\n    });\n}\n// teleport disabled key\nuseAdjustedTo.tdkey = teleportDisabled;\nuseAdjustedTo.propTo = {\n    type: [String, Object, Boolean],\n    default: undefined\n};\nexport { useAdjustedTo };\n","import { Fragment, createTextVNode, Comment } from 'vue';\nexport function getSlot(scope, slots, slotName = 'default') {\n    const slot = slots[slotName];\n    if (slot === undefined) {\n        throw new Error(`[vueuc/${scope}]: slot[${slotName}] is empty.`);\n    }\n    return slot();\n}\n// o(n) flatten\nexport function flatten(vNodes, filterCommentNode = true, result = []) {\n    vNodes.forEach((vNode) => {\n        if (vNode === null)\n            return;\n        if (typeof vNode !== 'object') {\n            if (typeof vNode === 'string' || typeof vNode === 'number') {\n                result.push(createTextVNode(String(vNode)));\n            }\n            return;\n        }\n        if (Array.isArray(vNode)) {\n            flatten(vNode, filterCommentNode, result);\n            return;\n        }\n        if (vNode.type === Fragment) {\n            if (vNode.children === null)\n                return;\n            if (Array.isArray(vNode.children)) {\n                flatten(vNode.children, filterCommentNode, result);\n            }\n            // rawSlot\n        }\n        else if (vNode.type !== Comment) {\n            result.push(vNode);\n        }\n    });\n    return result;\n}\nexport function getFirstVNode(scope, slots, slotName = 'default') {\n    const slot = slots[slotName];\n    if (slot === undefined) {\n        throw new Error(`[vueuc/${scope}]: slot[${slotName}] is empty.`);\n    }\n    const content = flatten(slot());\n    // vue will normalize the slot, so slot must be an array\n    if (content.length === 1) {\n        return content[0];\n    }\n    else {\n        throw new Error(`[vueuc/${scope}]: slot[${slotName}] should have exactly one child.`);\n    }\n}\n","let viewMeasurer = null;\nexport function ensureViewBoundingRect() {\n    if (viewMeasurer === null) {\n        viewMeasurer = document.getElementById('v-binder-view-measurer');\n        if (viewMeasurer === null) {\n            viewMeasurer = document.createElement('div');\n            viewMeasurer.id = 'v-binder-view-measurer';\n            const { style } = viewMeasurer;\n            style.position = 'fixed';\n            style.left = '0';\n            style.right = '0';\n            style.top = '0';\n            style.bottom = '0';\n            style.pointerEvents = 'none';\n            style.visibility = 'hidden';\n            document.body.appendChild(viewMeasurer);\n        }\n    }\n    return viewMeasurer.getBoundingClientRect();\n}\nexport function getPointRect(x, y) {\n    const viewRect = ensureViewBoundingRect();\n    return {\n        top: y,\n        left: x,\n        height: 0,\n        width: 0,\n        right: viewRect.width - x,\n        bottom: viewRect.height - y\n    };\n}\nexport function getRect(el) {\n    const elRect = el.getBoundingClientRect();\n    const viewRect = ensureViewBoundingRect();\n    return {\n        left: elRect.left - viewRect.left,\n        top: elRect.top - viewRect.top,\n        bottom: viewRect.height + viewRect.top - elRect.bottom,\n        right: viewRect.width + viewRect.left - elRect.right,\n        width: elRect.width,\n        height: elRect.height\n    };\n}\nexport function getParentNode(node) {\n    // document type\n    if (node.nodeType === 9) {\n        return null;\n    }\n    return node.parentNode;\n}\nexport function getScrollParent(node) {\n    if (node === null)\n        return null;\n    const parentNode = getParentNode(node);\n    if (parentNode === null) {\n        return null;\n    }\n    // Document\n    if (parentNode.nodeType === 9) {\n        return document;\n    }\n    // Element\n    if (parentNode.nodeType === 1) {\n        // Firefox want us to check `-x` and `-y` variations as well\n        const { overflow, overflowX, overflowY } = getComputedStyle(parentNode);\n        if (/(auto|scroll|overlay)/.test(overflow + overflowY + overflowX)) {\n            return parentNode;\n        }\n    }\n    return getScrollParent(parentNode);\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { defineComponent, provide, ref, inject, getCurrentInstance, onBeforeUnmount } from 'vue';\nimport { beforeNextFrameOnce } from 'seemly';\nimport { on, off } from 'evtd';\nimport { getSlot } from '../../shared/v-node';\nimport { getScrollParent } from './utils';\nconst Binder = defineComponent({\n    name: 'Binder',\n    props: {\n        syncTargetWithParent: Boolean,\n        syncTarget: {\n            type: Boolean,\n            default: true\n        }\n    },\n    setup(props) {\n        var _a;\n        provide('VBinder', (_a = getCurrentInstance()) === null || _a === void 0 ? void 0 : _a.proxy);\n        const VBinder = inject('VBinder', null);\n        const targetRef = ref(null);\n        /**\n         * If there's no nested vbinder, we can simply set the target ref.\n         *\n         * However, when it comes to:\n         * <VBinder> <- syncTarget = false\n         *\n         *              Should hold target DOM ref, but can't get it directly from\n         *              its VTarget. So if there are nested VBinder, we should:\n         *              1. Stop setting target DOM from level-1 VTarget\n         *              2. Set target DOM from level-2 VTarget\n         *              For (1), we need `syncTarget` to `false`\n         *              For (2), we need to set `syncTargetWithParent` to `true` on\n         *              level-2 VBinder\n         *   <VTarget>\n         *     <VBinder> <- syncTargetWithParent = true\n         *       <VTarget>target</VTarget>\n         *     </VBinder>\n         *     <VFollower>\n         *       content1\n         *     </VFollower>\n         *   </VTarget>\n         *   <VFollower>\n         *     content2\n         *   </VFollower>\n         * </VBinder>\n         */\n        const setTargetRef = (el) => {\n            targetRef.value = el;\n            // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n            if (VBinder && props.syncTargetWithParent) {\n                VBinder.setTargetRef(el);\n            }\n        };\n        // scroll related\n        let scrollableNodes = [];\n        const ensureScrollListener = () => {\n            let cursor = targetRef.value;\n            while (true) {\n                cursor = getScrollParent(cursor);\n                if (cursor === null)\n                    break;\n                scrollableNodes.push(cursor);\n            }\n            for (const el of scrollableNodes) {\n                on('scroll', el, onScroll, true);\n            }\n        };\n        const removeScrollListeners = () => {\n            for (const el of scrollableNodes) {\n                off('scroll', el, onScroll, true);\n            }\n            scrollableNodes = [];\n        };\n        const followerScrollListeners = new Set();\n        const addScrollListener = (listener) => {\n            if (followerScrollListeners.size === 0) {\n                ensureScrollListener();\n            }\n            if (!followerScrollListeners.has(listener)) {\n                followerScrollListeners.add(listener);\n            }\n        };\n        const removeScrollListener = (listener) => {\n            if (followerScrollListeners.has(listener)) {\n                followerScrollListeners.delete(listener);\n            }\n            if (followerScrollListeners.size === 0) {\n                removeScrollListeners();\n            }\n        };\n        const onScroll = () => {\n            beforeNextFrameOnce(onScrollRaf);\n        };\n        const onScrollRaf = () => {\n            followerScrollListeners.forEach((listener) => listener());\n        };\n        // resize related\n        const followerResizeListeners = new Set();\n        const addResizeListener = (listener) => {\n            if (followerResizeListeners.size === 0) {\n                on('resize', window, onResize);\n            }\n            if (!followerResizeListeners.has(listener)) {\n                followerResizeListeners.add(listener);\n            }\n        };\n        const removeResizeListener = (listener) => {\n            if (followerResizeListeners.has(listener)) {\n                followerResizeListeners.delete(listener);\n            }\n            if (followerResizeListeners.size === 0) {\n                off('resize', window, onResize);\n            }\n        };\n        const onResize = () => {\n            followerResizeListeners.forEach((listener) => listener());\n        };\n        onBeforeUnmount(() => {\n            off('resize', window, onResize);\n            removeScrollListeners();\n        });\n        return {\n            targetRef,\n            setTargetRef,\n            addScrollListener,\n            removeScrollListener,\n            addResizeListener,\n            removeResizeListener\n        };\n    },\n    render() {\n        return getSlot('binder', this.$slots);\n    }\n});\nexport default Binder;\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { defineComponent, inject, withDirectives } from 'vue';\nimport { getFirstVNode } from '../../shared/v-node';\nexport default defineComponent({\n    name: 'Target',\n    setup() {\n        const { setTargetRef, syncTarget } = inject('VBinder');\n        const setTargetDirective = {\n            mounted: setTargetRef,\n            updated: setTargetRef\n        };\n        return {\n            syncTarget,\n            setTargetDirective\n        };\n    },\n    render() {\n        const { syncTarget, setTargetDirective } = this;\n        /**\n         * If you are using VBinder as a child of VBinder, the children wouldn't be\n         * a valid DOM or component that can be attached to by directive.\n         * So we won't sync target on those kind of situation and control the\n         * target sync logic manually.\n         */\n        if (syncTarget) {\n            return withDirectives(getFirstVNode('follower', this.$slots), [\n                [setTargetDirective]\n            ]);\n        }\n        return getFirstVNode('follower', this.$slots);\n    }\n});\n","import { on, off } from 'evtd';\nconst ctxKey = '@@mmoContext';\nconst mousemoveoutside = {\n    mounted(el, { value }) {\n        el[ctxKey] = {\n            handler: undefined\n        };\n        if (typeof value === 'function') {\n            el[ctxKey].handler = value;\n            on('mousemoveoutside', el, value);\n        }\n    },\n    updated(el, { value }) {\n        const ctx = el[ctxKey];\n        if (typeof value === 'function') {\n            if (ctx.handler) {\n                if (ctx.handler !== value) {\n                    off('mousemoveoutside', el, ctx.handler);\n                    ctx.handler = value;\n                    on('mousemoveoutside', el, value);\n                }\n            }\n            else {\n                el[ctxKey].handler = value;\n                on('mousemoveoutside', el, value);\n            }\n        }\n        else {\n            if (ctx.handler) {\n                off('mousemoveoutside', el, ctx.handler);\n                ctx.handler = undefined;\n            }\n        }\n    },\n    unmounted(el) {\n        const { handler } = el[ctxKey];\n        if (handler) {\n            off('mousemoveoutside', el, handler);\n        }\n        el[ctxKey].handler = undefined;\n    }\n};\nexport default mousemoveoutside;\n","import { on, off } from 'evtd';\nconst ctxKey = '@@coContext';\nconst clickoutside = {\n    mounted(el, { value, modifiers }) {\n        el[ctxKey] = {\n            handler: undefined\n        };\n        if (typeof value === 'function') {\n            el[ctxKey].handler = value;\n            on('clickoutside', el, value, {\n                capture: modifiers.capture\n            });\n        }\n    },\n    updated(el, { value, modifiers }) {\n        const ctx = el[ctxKey];\n        if (typeof value === 'function') {\n            if (ctx.handler) {\n                if (ctx.handler !== value) {\n                    off('clickoutside', el, ctx.handler, {\n                        capture: modifiers.capture\n                    });\n                    ctx.handler = value;\n                    on('clickoutside', el, value, {\n                        capture: modifiers.capture\n                    });\n                }\n            }\n            else {\n                el[ctxKey].handler = value;\n                on('clickoutside', el, value, {\n                    capture: modifiers.capture\n                });\n            }\n        }\n        else {\n            if (ctx.handler) {\n                off('clickoutside', el, ctx.handler, {\n                    capture: modifiers.capture\n                });\n                ctx.handler = undefined;\n            }\n        }\n    },\n    unmounted(el, { modifiers }) {\n        const { handler } = el[ctxKey];\n        if (handler) {\n            off('clickoutside', el, handler, {\n                capture: modifiers.capture\n            });\n        }\n        el[ctxKey].handler = undefined;\n    }\n};\nexport default clickoutside;\n","import { warn } from '../utils';\nclass ZIndexManager {\n    constructor() {\n        this.elementZIndex = new Map();\n        this.nextZIndex = 2000;\n    }\n    get elementCount() {\n        return this.elementZIndex.size;\n    }\n    ensureZIndex(el, zIndex) {\n        const { elementZIndex } = this;\n        if (zIndex !== undefined) {\n            el.style.zIndex = `${zIndex}`;\n            elementZIndex.delete(el);\n            return;\n        }\n        const { nextZIndex } = this;\n        if (elementZIndex.has(el)) {\n            const currentZIndex = elementZIndex.get(el);\n            if (currentZIndex + 1 === this.nextZIndex)\n                return;\n        }\n        el.style.zIndex = `${nextZIndex}`;\n        elementZIndex.set(el, nextZIndex);\n        this.nextZIndex = nextZIndex + 1;\n        this.squashState();\n    }\n    unregister(el, zIndex) {\n        const { elementZIndex } = this;\n        if (elementZIndex.has(el)) {\n            elementZIndex.delete(el);\n        }\n        else if (zIndex === undefined) {\n            warn('z-index-manager/unregister-element', 'Element not found when unregistering.');\n        }\n        this.squashState();\n    }\n    squashState() {\n        const { elementCount } = this;\n        if (!elementCount) {\n            this.nextZIndex = 2000;\n        }\n        if (this.nextZIndex - elementCount > 2500)\n            this.rearrange();\n    }\n    rearrange() {\n        const elementZIndexPair = Array.from(this.elementZIndex.entries());\n        elementZIndexPair.sort((pair1, pair2) => {\n            return pair1[1] - pair2[1];\n        });\n        this.nextZIndex = 2000;\n        elementZIndexPair.forEach((pair) => {\n            const el = pair[0];\n            const zIndex = this.nextZIndex++;\n            if (`${zIndex}` !== el.style.zIndex)\n                el.style.zIndex = `${zIndex}`;\n        });\n    }\n}\nexport default new ZIndexManager();\n","import zIndexManager from './z-index-manager';\nconst ctx = '@@ziContext';\n// We don't expect manually bound zindex should be changed\nconst zindexable = {\n    mounted(el, bindings) {\n        const { value = {} } = bindings;\n        const { zIndex, enabled } = value;\n        el[ctx] = {\n            enabled: !!enabled,\n            initialized: false\n        };\n        if (enabled) {\n            zIndexManager.ensureZIndex(el, zIndex);\n            el[ctx].initialized = true;\n        }\n    },\n    updated(el, bindings) {\n        const { value = {} } = bindings;\n        const { zIndex, enabled } = value;\n        const cachedEnabled = el[ctx].enabled;\n        if (enabled && !cachedEnabled) {\n            zIndexManager.ensureZIndex(el, zIndex);\n            el[ctx].initialized = true;\n        }\n        el[ctx].enabled = !!enabled;\n    },\n    unmounted(el, bindings) {\n        if (!el[ctx].initialized)\n            return;\n        const { value = {} } = bindings;\n        const { zIndex } = value;\n        zIndexManager.unregister(el, zIndex);\n    }\n};\nexport default zindexable;\n","export function resolveTo(selector) {\n    if (typeof selector === 'string') {\n        return document.querySelector(selector);\n    }\n    return selector();\n}\n","import { Teleport, h, toRef, computed, defineComponent } from 'vue';\nimport { useFalseUntilTruthy } from 'vooks';\nimport { getSlot } from '../../shared/v-node';\nexport default defineComponent({\n    name: 'LazyTeleport',\n    props: {\n        to: {\n            type: [String, Object],\n            default: undefined\n        },\n        disabled: Boolean,\n        show: {\n            type: Boolean,\n            required: true\n        }\n    },\n    setup(props) {\n        return {\n            showTeleport: useFalseUntilTruthy(toRef(props, 'show')),\n            mergedTo: computed(() => {\n                const { to } = props;\n                return to !== null && to !== void 0 ? to : 'body';\n            })\n        };\n    },\n    render() {\n        return this.showTeleport\n            ? this.disabled\n                ? getSlot('lazy-teleport', this.$slots)\n                : h(Teleport, {\n                    disabled: this.disabled,\n                    to: this.mergedTo\n                }, getSlot('lazy-teleport', this.$slots))\n            : null;\n    }\n});\n","const oppositionPositions = {\n    top: 'bottom',\n    bottom: 'top',\n    left: 'right',\n    right: 'left'\n};\nconst oppositeAligns = {\n    start: 'end',\n    center: 'center',\n    end: 'start'\n};\nconst propToCompare = {\n    top: 'height',\n    bottom: 'height',\n    left: 'width',\n    right: 'width'\n};\nconst transformOrigins = {\n    'bottom-start': 'top left',\n    bottom: 'top center',\n    'bottom-end': 'top right',\n    'top-start': 'bottom left',\n    top: 'bottom center',\n    'top-end': 'bottom right',\n    'right-start': 'top left',\n    right: 'center left',\n    'right-end': 'bottom left',\n    'left-start': 'top right',\n    left: 'center right',\n    'left-end': 'bottom right'\n};\nconst overlapTransformOrigin = {\n    'bottom-start': 'bottom left',\n    bottom: 'bottom center',\n    'bottom-end': 'bottom right',\n    'top-start': 'top left',\n    top: 'top center',\n    'top-end': 'top right',\n    'right-start': 'top right',\n    right: 'center right',\n    'right-end': 'bottom right',\n    'left-start': 'top left',\n    left: 'center left',\n    'left-end': 'bottom left'\n};\nconst oppositeAlignCssPositionProps = {\n    'bottom-start': 'right',\n    'bottom-end': 'left',\n    'top-start': 'right',\n    'top-end': 'left',\n    'right-start': 'bottom',\n    'right-end': 'top',\n    'left-start': 'bottom',\n    'left-end': 'top'\n};\nconst keepOffsetDirection = {\n    top: true,\n    bottom: false,\n    left: true,\n    right: false // left--\n};\nconst cssPositionToOppositeAlign = {\n    top: 'end',\n    bottom: 'start',\n    left: 'end',\n    right: 'start'\n};\nexport function getPlacementAndOffsetOfFollower(placement, targetRect, followerRect, shift, flip, overlap) {\n    if (!flip || overlap) {\n        return { placement: placement, top: 0, left: 0 };\n    }\n    const [position, align] = placement.split('-');\n    let properAlign = align !== null && align !== void 0 ? align : 'center';\n    let properOffset = {\n        top: 0,\n        left: 0\n    };\n    const deriveOffset = (oppositeAlignCssSizeProp, alignCssPositionProp, offsetVertically) => {\n        let left = 0;\n        let top = 0;\n        const diff = followerRect[oppositeAlignCssSizeProp] -\n            targetRect[alignCssPositionProp] -\n            targetRect[oppositeAlignCssSizeProp];\n        if (diff > 0 && shift) {\n            if (offsetVertically) {\n                //       screen border\n                // |-----------------------------------------|\n                // |                    | f  |               |\n                // |                    | o  |               |\n                // |                    | l  |               |\n                // |                    | l  |----           |\n                // |                    | o  |tar |          |\n                // |                    | w  |get |          |\n                // |                    | e  |    |          |\n                // |                    | r  |----           |\n                // |                     ----                |\n                // |-----------------------------------------|\n                top = keepOffsetDirection[alignCssPositionProp] ? diff : -diff;\n            }\n            else {\n                //       screen border\n                // |----------------------------------------|\n                // |                                        |\n                // |          ----------                    |\n                // |          | target |                    |\n                // |       ----------------------------------\n                // |       |       follower                 |\n                // |       ----------------------------------\n                // |                                        |\n                // |----------------------------------------|\n                left = keepOffsetDirection[alignCssPositionProp] ? diff : -diff;\n            }\n        }\n        return {\n            left,\n            top\n        };\n    };\n    const offsetVertically = position === 'left' || position === 'right';\n    // choose proper placement for non-center align\n    if (properAlign !== 'center') {\n        const oppositeAlignCssPositionProp = oppositeAlignCssPositionProps[placement];\n        const currentAlignCssPositionProp = oppositionPositions[oppositeAlignCssPositionProp];\n        const oppositeAlignCssSizeProp = propToCompare[oppositeAlignCssPositionProp];\n        // if follower rect is larger than target rect in align direction\n        // ----------[ target ]---------|\n        // ----------[     follower     ]\n        if (followerRect[oppositeAlignCssSizeProp] >\n            targetRect[oppositeAlignCssSizeProp]) {\n            if (\n            // current space is not enough\n            // ----------[ target ]---------|\n            // -------[     follower        ]\n            targetRect[oppositeAlignCssPositionProp] +\n                targetRect[oppositeAlignCssSizeProp] <\n                followerRect[oppositeAlignCssSizeProp]) {\n                const followerOverTargetSize = (followerRect[oppositeAlignCssSizeProp] -\n                    targetRect[oppositeAlignCssSizeProp]) /\n                    2;\n                if (targetRect[oppositeAlignCssPositionProp] < followerOverTargetSize ||\n                    targetRect[currentAlignCssPositionProp] < followerOverTargetSize) {\n                    // opposite align has larger space\n                    // -------[ target ]-----------|\n                    // -------[     follower     ]-|\n                    if (targetRect[oppositeAlignCssPositionProp] <\n                        targetRect[currentAlignCssPositionProp]) {\n                        properAlign = oppositeAligns[align];\n                        properOffset = deriveOffset(oppositeAlignCssSizeProp, currentAlignCssPositionProp, offsetVertically);\n                    }\n                    else {\n                        // ----------------[ target ]----|\n                        // --------[   follower     ]----|\n                        properOffset = deriveOffset(oppositeAlignCssSizeProp, oppositeAlignCssPositionProp, offsetVertically);\n                    }\n                }\n                else {\n                    // 'center' align is better\n                    // ------------[ target ]--------|\n                    // -------[       follower    ]--|\n                    properAlign = 'center';\n                }\n            }\n        }\n        else if (followerRect[oppositeAlignCssSizeProp] <\n            targetRect[oppositeAlignCssSizeProp]) {\n            // TODO: maybe center is better\n            if (targetRect[currentAlignCssPositionProp] < 0 &&\n                // opposite align has larger space\n                // ------------[   target   ]\n                // ----------------[follower]\n                targetRect[oppositeAlignCssPositionProp] >\n                    targetRect[currentAlignCssPositionProp]) {\n                properAlign = oppositeAligns[align];\n            }\n        }\n    }\n    else {\n        const possibleAlternativeAlignCssPositionProp1 = position === 'bottom' || position === 'top' ? 'left' : 'top';\n        const possibleAlternativeAlignCssPositionProp2 = oppositionPositions[possibleAlternativeAlignCssPositionProp1];\n        const alternativeAlignCssSizeProp = propToCompare[possibleAlternativeAlignCssPositionProp1];\n        const followerOverTargetSize = (followerRect[alternativeAlignCssSizeProp] -\n            targetRect[alternativeAlignCssSizeProp]) /\n            2;\n        if (\n        // center is not enough\n        // ----------- [ target ]--|\n        // -------[     follower     ]\n        targetRect[possibleAlternativeAlignCssPositionProp1] <\n            followerOverTargetSize ||\n            targetRect[possibleAlternativeAlignCssPositionProp2] <\n                followerOverTargetSize) {\n            // alternative 2 position's space is larger\n            if (targetRect[possibleAlternativeAlignCssPositionProp1] >\n                targetRect[possibleAlternativeAlignCssPositionProp2]) {\n                properAlign =\n                    cssPositionToOppositeAlign[possibleAlternativeAlignCssPositionProp1];\n                properOffset = deriveOffset(alternativeAlignCssSizeProp, possibleAlternativeAlignCssPositionProp1, offsetVertically);\n            }\n            else {\n                // alternative 1 position's space is larger\n                properAlign =\n                    cssPositionToOppositeAlign[possibleAlternativeAlignCssPositionProp2];\n                properOffset = deriveOffset(alternativeAlignCssSizeProp, possibleAlternativeAlignCssPositionProp2, offsetVertically);\n            }\n        }\n    }\n    let properPosition = position;\n    if (\n    // space is not enough\n    targetRect[position] < followerRect[propToCompare[position]] &&\n        // opposite position's space is larger\n        targetRect[position] < targetRect[oppositionPositions[position]]) {\n        properPosition = oppositionPositions[position];\n    }\n    return {\n        placement: properAlign !== 'center'\n            ? `${properPosition}-${properAlign}`\n            : properPosition,\n        left: properOffset.left,\n        top: properOffset.top\n    };\n}\nexport function getProperTransformOrigin(placement, overlap) {\n    if (overlap)\n        return overlapTransformOrigin[placement];\n    return transformOrigins[placement];\n}\n// ------------\n// |  offset  |\n// |          |\n// | [target] |\n// |          |\n// ------------\n// TODO: refactor it to remove dup logic\nexport function getOffset(placement, offsetRect, targetRect, offsetTopToStandardPlacement, offsetLeftToStandardPlacement, overlap) {\n    if (overlap) {\n        switch (placement) {\n            case 'bottom-start':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left)}px`,\n                    transform: 'translateY(-100%)'\n                };\n            case 'bottom-end':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width)}px`,\n                    transform: 'translateX(-100%) translateY(-100%)'\n                };\n            case 'top-start':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left)}px`,\n                    transform: ''\n                };\n            case 'top-end':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width)}px`,\n                    transform: 'translateX(-100%)'\n                };\n            case 'right-start':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width)}px`,\n                    transform: 'translateX(-100%)'\n                };\n            case 'right-end':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width)}px`,\n                    transform: 'translateX(-100%) translateY(-100%)'\n                };\n            case 'left-start':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left)}px`,\n                    transform: ''\n                };\n            case 'left-end':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left)}px`,\n                    transform: 'translateY(-100%)'\n                };\n            case 'top':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width / 2)}px`,\n                    transform: 'translateX(-50%)'\n                };\n            case 'right':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height / 2)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width)}px`,\n                    transform: 'translateX(-100%) translateY(-50%)'\n                };\n            case 'left':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height / 2)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left)}px`,\n                    transform: 'translateY(-50%)'\n                };\n            case 'bottom':\n            default:\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width / 2)}px`,\n                    transform: 'translateX(-50%) translateY(-100%)'\n                };\n        }\n    }\n    switch (placement) {\n        case 'bottom-start':\n            return {\n                top: `${Math.round(targetRect.top -\n                    offsetRect.top +\n                    targetRect.height +\n                    offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left - offsetRect.left + offsetLeftToStandardPlacement)}px`,\n                transform: ''\n            };\n        case 'bottom-end':\n            return {\n                top: `${Math.round(targetRect.top -\n                    offsetRect.top +\n                    targetRect.height +\n                    offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left -\n                    offsetRect.left +\n                    targetRect.width +\n                    offsetLeftToStandardPlacement)}px`,\n                transform: 'translateX(-100%)'\n            };\n        case 'top-start':\n            return {\n                top: `${Math.round(targetRect.top - offsetRect.top + offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left - offsetRect.left + offsetLeftToStandardPlacement)}px`,\n                transform: 'translateY(-100%)'\n            };\n        case 'top-end':\n            return {\n                top: `${Math.round(targetRect.top - offsetRect.top + offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left -\n                    offsetRect.left +\n                    targetRect.width +\n                    offsetLeftToStandardPlacement)}px`,\n                transform: 'translateX(-100%) translateY(-100%)'\n            };\n        case 'right-start':\n            return {\n                top: `${Math.round(targetRect.top - offsetRect.top + offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left -\n                    offsetRect.left +\n                    targetRect.width +\n                    offsetLeftToStandardPlacement)}px`,\n                transform: ''\n            };\n        case 'right-end':\n            return {\n                top: `${Math.round(targetRect.top -\n                    offsetRect.top +\n                    targetRect.height +\n                    offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left -\n                    offsetRect.left +\n                    targetRect.width +\n                    offsetLeftToStandardPlacement)}px`,\n                transform: 'translateY(-100%)'\n            };\n        case 'left-start':\n            return {\n                top: `${Math.round(targetRect.top - offsetRect.top + offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left - offsetRect.left + offsetLeftToStandardPlacement)}px`,\n                transform: 'translateX(-100%)'\n            };\n        case 'left-end':\n            return {\n                top: `${Math.round(targetRect.top -\n                    offsetRect.top +\n                    targetRect.height +\n                    offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left - offsetRect.left + offsetLeftToStandardPlacement)}px`,\n                transform: 'translateX(-100%) translateY(-100%)'\n            };\n        case 'top':\n            return {\n                top: `${Math.round(targetRect.top - offsetRect.top + offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left -\n                    offsetRect.left +\n                    targetRect.width / 2 +\n                    offsetLeftToStandardPlacement)}px`,\n                transform: 'translateY(-100%) translateX(-50%)'\n            };\n        case 'right':\n            return {\n                top: `${Math.round(targetRect.top -\n                    offsetRect.top +\n                    targetRect.height / 2 +\n                    offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left -\n                    offsetRect.left +\n                    targetRect.width +\n                    offsetLeftToStandardPlacement)}px`,\n                transform: 'translateY(-50%)'\n            };\n        case 'left':\n            return {\n                top: `${Math.round(targetRect.top -\n                    offsetRect.top +\n                    targetRect.height / 2 +\n                    offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left - offsetRect.left + offsetLeftToStandardPlacement)}px`,\n                transform: 'translateY(-50%) translateX(-100%)'\n            };\n        case 'bottom':\n        default:\n            return {\n                top: `${Math.round(targetRect.top -\n                    offsetRect.top +\n                    targetRect.height +\n                    offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left -\n                    offsetRect.left +\n                    targetRect.width / 2 +\n                    offsetLeftToStandardPlacement)}px`,\n                transform: 'translateX(-50%)'\n            };\n    }\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { h, defineComponent, inject, nextTick, watch, toRef, ref, onMounted, onBeforeUnmount, withDirectives } from 'vue';\nimport { zindexable } from 'vdirs';\nimport { useMemo, useIsMounted, onFontsReady } from 'vooks';\nimport { useSsrAdapter } from '@css-render/vue3-ssr';\nimport { c, cssrAnchorMetaName } from '../../shared';\nimport LazyTeleport from '../../lazy-teleport/src/index';\nimport { getPlacementAndOffsetOfFollower, getProperTransformOrigin, getOffset } from './get-placement-style';\nimport { getPointRect, getRect } from './utils';\nconst style = c([\n    c('.v-binder-follower-container', {\n        position: 'absolute',\n        left: '0',\n        right: '0',\n        top: '0',\n        height: '0',\n        pointerEvents: 'none',\n        zIndex: 'auto'\n    }),\n    c('.v-binder-follower-content', {\n        position: 'absolute',\n        zIndex: 'auto'\n    }, [\n        c('> *', {\n            pointerEvents: 'all'\n        })\n    ])\n]);\nexport default defineComponent({\n    name: 'Follower',\n    inheritAttrs: false,\n    props: {\n        show: Boolean,\n        enabled: {\n            type: Boolean,\n            default: undefined\n        },\n        placement: {\n            type: String,\n            default: 'bottom'\n        },\n        syncTrigger: {\n            type: Array,\n            default: ['resize', 'scroll']\n        },\n        to: [String, Object],\n        flip: {\n            type: Boolean,\n            default: true\n        },\n        internalShift: Boolean,\n        x: Number,\n        y: Number,\n        width: String,\n        minWidth: String,\n        containerClass: String,\n        teleportDisabled: Boolean,\n        zindexable: {\n            type: Boolean,\n            default: true\n        },\n        zIndex: Number,\n        overlap: Boolean\n    },\n    setup(props) {\n        const VBinder = inject('VBinder');\n        const mergedEnabledRef = useMemo(() => {\n            return props.enabled !== undefined ? props.enabled : props.show;\n        });\n        const followerRef = ref(null);\n        const offsetContainerRef = ref(null);\n        const ensureListeners = () => {\n            const { syncTrigger } = props;\n            if (syncTrigger.includes('scroll')) {\n                VBinder.addScrollListener(syncPosition);\n            }\n            if (syncTrigger.includes('resize')) {\n                VBinder.addResizeListener(syncPosition);\n            }\n        };\n        const removeListeners = () => {\n            VBinder.removeScrollListener(syncPosition);\n            VBinder.removeResizeListener(syncPosition);\n        };\n        onMounted(() => {\n            if (mergedEnabledRef.value) {\n                syncPosition();\n                ensureListeners();\n            }\n        });\n        const ssrAdapter = useSsrAdapter();\n        style.mount({\n            id: 'vueuc/binder',\n            head: true,\n            anchorMetaName: cssrAnchorMetaName,\n            ssr: ssrAdapter\n        });\n        onBeforeUnmount(() => {\n            removeListeners();\n        });\n        onFontsReady(() => {\n            if (mergedEnabledRef.value) {\n                syncPosition();\n            }\n        });\n        const syncPosition = () => {\n            if (!mergedEnabledRef.value) {\n                return;\n            }\n            const follower = followerRef.value;\n            // sometimes watched props change before its dom is ready\n            // for example: show=false, x=undefined, y=undefined\n            //              show=true,  x=0,         y=0\n            // will cause error\n            // I may optimize the watch start point later\n            if (follower === null)\n                return;\n            const target = VBinder.targetRef;\n            const { x, y, overlap } = props;\n            const targetRect = x !== undefined && y !== undefined\n                ? getPointRect(x, y)\n                : getRect(target);\n            follower.style.setProperty('--v-target-width', `${Math.round(targetRect.width)}px`);\n            follower.style.setProperty('--v-target-height', `${Math.round(targetRect.height)}px`);\n            const { width, minWidth, placement, internalShift, flip } = props;\n            follower.setAttribute('v-placement', placement);\n            if (overlap) {\n                follower.setAttribute('v-overlap', '');\n            }\n            else {\n                follower.removeAttribute('v-overlap');\n            }\n            const { style } = follower;\n            if (width === 'target') {\n                style.width = `${targetRect.width}px`;\n            }\n            else if (width !== undefined) {\n                style.width = width;\n            }\n            else {\n                style.width = '';\n            }\n            if (minWidth === 'target') {\n                style.minWidth = `${targetRect.width}px`;\n            }\n            else if (minWidth !== undefined) {\n                style.minWidth = minWidth;\n            }\n            else {\n                style.minWidth = '';\n            }\n            const followerRect = getRect(follower);\n            const offsetContainerRect = getRect(offsetContainerRef.value);\n            const { left: offsetLeftToStandardPlacement, top: offsetTopToStandardPlacement, placement: properPlacement } = getPlacementAndOffsetOfFollower(placement, targetRect, followerRect, internalShift, flip, overlap);\n            const properTransformOrigin = getProperTransformOrigin(properPlacement, overlap);\n            const { left, top, transform } = getOffset(properPlacement, offsetContainerRect, targetRect, offsetTopToStandardPlacement, offsetLeftToStandardPlacement, overlap);\n            // we assume that the content size doesn't change after flip,\n            // nor we need to make sync logic more complex\n            follower.setAttribute('v-placement', properPlacement);\n            follower.style.setProperty('--v-offset-left', `${Math.round(offsetLeftToStandardPlacement)}px`);\n            follower.style.setProperty('--v-offset-top', `${Math.round(offsetTopToStandardPlacement)}px`);\n            follower.style.transform = `translateX(${left}) translateY(${top}) ${transform}`;\n            follower.style.setProperty('--v-transform-origin', properTransformOrigin);\n            follower.style.transformOrigin = properTransformOrigin;\n        };\n        watch(mergedEnabledRef, (value) => {\n            if (value) {\n                ensureListeners();\n                syncOnNextTick();\n            }\n            else {\n                removeListeners();\n            }\n        });\n        const syncOnNextTick = () => {\n            nextTick()\n                .then(syncPosition)\n                .catch((e) => console.error(e));\n        };\n        [\n            'placement',\n            'x',\n            'y',\n            'internalShift',\n            'flip',\n            'width',\n            'overlap',\n            'minWidth'\n        ].forEach((prop) => {\n            watch(toRef(props, prop), syncPosition);\n        });\n        ['teleportDisabled'].forEach((prop) => {\n            watch(toRef(props, prop), syncOnNextTick);\n        });\n        watch(toRef(props, 'syncTrigger'), (value) => {\n            if (!value.includes('resize')) {\n                VBinder.removeResizeListener(syncPosition);\n            }\n            else {\n                VBinder.addResizeListener(syncPosition);\n            }\n            if (!value.includes('scroll')) {\n                VBinder.removeScrollListener(syncPosition);\n            }\n            else {\n                VBinder.addScrollListener(syncPosition);\n            }\n        });\n        const isMountedRef = useIsMounted();\n        const mergedToRef = useMemo(() => {\n            const { to } = props;\n            if (to !== undefined)\n                return to;\n            if (isMountedRef.value) {\n                // TODO: find proper container\n                return undefined;\n            }\n            return undefined;\n        });\n        return {\n            VBinder,\n            mergedEnabled: mergedEnabledRef,\n            offsetContainerRef,\n            followerRef,\n            mergedTo: mergedToRef,\n            syncPosition\n        };\n    },\n    render() {\n        return h(LazyTeleport, {\n            show: this.show,\n            to: this.mergedTo,\n            disabled: this.teleportDisabled\n        }, {\n            default: () => {\n                var _a, _b;\n                const vNode = h('div', {\n                    class: ['v-binder-follower-container', this.containerClass],\n                    ref: 'offsetContainerRef'\n                }, [\n                    h('div', {\n                        class: 'v-binder-follower-content',\n                        ref: 'followerRef'\n                    }, (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 : _b.call(_a))\n                ]);\n                if (this.zindexable) {\n                    return withDirectives(vNode, [\n                        [\n                            zindexable,\n                            {\n                                enabled: this.mergedEnabled,\n                                zIndex: this.zIndex\n                            }\n                        ]\n                    ]);\n                }\n                return vNode;\n            }\n        });\n    }\n});\n","/* eslint-disable @typescript-eslint/strict-boolean-expressions */\n// ref https://www.w3.org/TR/wai-aria-practices-1.1/examples/dialog-modal/js/dialog.js\nfunction isHTMLElement(node) {\n    return node instanceof HTMLElement;\n}\nexport function focusFirstDescendant(node) {\n    for (let i = 0; i < node.childNodes.length; i++) {\n        const child = node.childNodes[i];\n        if (isHTMLElement(child)) {\n            if (attemptFocus(child) || focusFirstDescendant(child)) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\nexport function focusLastDescendant(element) {\n    for (let i = element.childNodes.length - 1; i >= 0; i--) {\n        const child = element.childNodes[i];\n        if (isHTMLElement(child)) {\n            if (attemptFocus(child) || focusLastDescendant(child)) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\nfunction attemptFocus(element) {\n    if (!isFocusable(element)) {\n        return false;\n    }\n    try {\n        element.focus({ preventScroll: true });\n    }\n    catch (e) { }\n    return document.activeElement === element;\n}\nfunction isFocusable(element) {\n    if (element.tabIndex > 0 ||\n        (element.tabIndex === 0 && element.getAttribute('tabIndex') !== null)) {\n        return true;\n    }\n    if (element.getAttribute('disabled')) {\n        return false;\n    }\n    switch (element.nodeName) {\n        case 'A':\n            return (!!element.href &&\n                element.rel !== 'ignore');\n        case 'INPUT':\n            return (element.type !== 'hidden' &&\n                element.type !== 'file');\n        case 'BUTTON':\n        case 'SELECT':\n        case 'TEXTAREA':\n            return true;\n        default:\n            return false;\n    }\n}\n","import { h, defineComponent, ref, Fragment, onMounted, onBeforeUnmount, watch } from 'vue';\nimport { createId, getPreciseEventTarget } from 'seemly';\nimport { on, off } from 'evtd';\nimport { focusFirstDescendant, focusLastDescendant } from './utils';\nimport { resolveTo } from '../../shared';\nlet stack = [];\nexport const FocusTrap = defineComponent({\n    name: 'FocusTrap',\n    props: {\n        disabled: Boolean,\n        active: Boolean,\n        autoFocus: {\n            type: Boolean,\n            default: true\n        },\n        onEsc: Function,\n        initialFocusTo: String,\n        finalFocusTo: String,\n        returnFocusOnDeactivated: {\n            type: Boolean,\n            default: true\n        }\n    },\n    setup(props) {\n        const id = createId();\n        const focusableStartRef = ref(null);\n        const focusableEndRef = ref(null);\n        let activated = false;\n        let ignoreInternalFocusChange = false;\n        const lastFocusedElement = typeof document === 'undefined' ? null : document.activeElement;\n        function isCurrentActive() {\n            const currentActiveId = stack[stack.length - 1];\n            return currentActiveId === id;\n        }\n        function handleDocumentKeydown(e) {\n            var _a;\n            if (e.code === 'Escape') {\n                if (isCurrentActive()) {\n                    (_a = props.onEsc) === null || _a === void 0 ? void 0 : _a.call(props, e);\n                }\n            }\n        }\n        onMounted(() => {\n            watch(() => props.active, (value) => {\n                if (value) {\n                    activate();\n                    on('keydown', document, handleDocumentKeydown);\n                }\n                else {\n                    off('keydown', document, handleDocumentKeydown);\n                    if (activated) {\n                        deactivate();\n                    }\n                }\n            }, {\n                immediate: true\n            });\n        });\n        onBeforeUnmount(() => {\n            off('keydown', document, handleDocumentKeydown);\n            if (activated)\n                deactivate();\n        });\n        function handleDocumentFocus(e) {\n            if (ignoreInternalFocusChange)\n                return;\n            if (isCurrentActive()) {\n                const mainEl = getMainEl();\n                if (mainEl === null)\n                    return;\n                if (mainEl.contains(getPreciseEventTarget(e)))\n                    return;\n                // I don't handle shift + tab status since it's too tricky to handle\n                // Not impossible but I need to sleep\n                resetFocusTo('first');\n            }\n        }\n        function getMainEl() {\n            const focusableStartEl = focusableStartRef.value;\n            if (focusableStartEl === null)\n                return null;\n            let mainEl = focusableStartEl;\n            while (true) {\n                mainEl = mainEl.nextSibling;\n                if (mainEl === null)\n                    break;\n                if (mainEl instanceof Element && mainEl.tagName === 'DIV') {\n                    break;\n                }\n            }\n            return mainEl;\n        }\n        function activate() {\n            var _a;\n            if (props.disabled)\n                return;\n            stack.push(id);\n            if (props.autoFocus) {\n                const { initialFocusTo } = props;\n                if (initialFocusTo === undefined) {\n                    resetFocusTo('first');\n                }\n                else {\n                    (_a = resolveTo(initialFocusTo)) === null || _a === void 0 ? void 0 : _a.focus({ preventScroll: true });\n                }\n            }\n            activated = true;\n            document.addEventListener('focus', handleDocumentFocus, true);\n        }\n        function deactivate() {\n            var _a;\n            if (props.disabled)\n                return;\n            document.removeEventListener('focus', handleDocumentFocus, true);\n            stack = stack.filter((idInStack) => idInStack !== id);\n            if (isCurrentActive())\n                return;\n            const { finalFocusTo } = props;\n            if (finalFocusTo !== undefined) {\n                (_a = resolveTo(finalFocusTo)) === null || _a === void 0 ? void 0 : _a.focus({ preventScroll: true });\n            }\n            else if (props.returnFocusOnDeactivated) {\n                if (lastFocusedElement instanceof HTMLElement) {\n                    ignoreInternalFocusChange = true;\n                    lastFocusedElement.focus({ preventScroll: true });\n                    ignoreInternalFocusChange = false;\n                }\n            }\n        }\n        function resetFocusTo(target) {\n            if (!isCurrentActive())\n                return;\n            if (props.active) {\n                const focusableStartEl = focusableStartRef.value;\n                const focusableEndEl = focusableEndRef.value;\n                if (focusableStartEl !== null && focusableEndEl !== null) {\n                    const mainEl = getMainEl();\n                    if (mainEl == null || mainEl === focusableEndEl) {\n                        ignoreInternalFocusChange = true;\n                        focusableStartEl.focus({ preventScroll: true });\n                        ignoreInternalFocusChange = false;\n                        return;\n                    }\n                    ignoreInternalFocusChange = true;\n                    const focused = target === 'first'\n                        ? focusFirstDescendant(mainEl)\n                        : focusLastDescendant(mainEl);\n                    ignoreInternalFocusChange = false;\n                    if (!focused) {\n                        ignoreInternalFocusChange = true;\n                        focusableStartEl.focus({ preventScroll: true });\n                        ignoreInternalFocusChange = false;\n                    }\n                }\n            }\n        }\n        function handleStartFocus(e) {\n            if (ignoreInternalFocusChange)\n                return;\n            const mainEl = getMainEl();\n            if (mainEl === null)\n                return;\n            if (e.relatedTarget !== null && mainEl.contains(e.relatedTarget)) {\n                // if it comes from inner, focus last\n                resetFocusTo('last');\n            }\n            else {\n                // otherwise focus first\n                resetFocusTo('first');\n            }\n        }\n        function handleEndFocus(e) {\n            if (ignoreInternalFocusChange)\n                return;\n            if (e.relatedTarget !== null &&\n                e.relatedTarget === focusableStartRef.value) {\n                // if it comes from first, focus last\n                resetFocusTo('last');\n            }\n            else {\n                // otherwise focus first\n                resetFocusTo('first');\n            }\n        }\n        return {\n            focusableStartRef,\n            focusableEndRef,\n            focusableStyle: 'position: absolute; height: 0; width: 0;',\n            handleStartFocus,\n            handleEndFocus\n        };\n    },\n    render() {\n        const { default: defaultSlot } = this.$slots;\n        if (defaultSlot === undefined)\n            return null;\n        if (this.disabled)\n            return defaultSlot();\n        const { active, focusableStyle } = this;\n        return h(Fragment, null, [\n            h('div', {\n                'aria-hidden': 'true',\n                tabindex: active ? '0' : '-1',\n                ref: 'focusableStartRef',\n                style: focusableStyle,\n                onFocus: this.handleStartFocus\n            }),\n            defaultSlot(),\n            h('div', {\n                'aria-hidden': 'true',\n                style: focusableStyle,\n                ref: 'focusableEndRef',\n                tabindex: active ? '0' : '-1',\n                onFocus: this.handleEndFocus\n            })\n        ]);\n    }\n});\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nexport default WeakMap;\n","import overArg from './_overArg.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nexport default nativeKeys;\n","import isPrototype from './_isPrototype.js';\nimport nativeKeys from './_nativeKeys.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeys;\n","import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeys from './_baseKeys.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nexport default keys;\n","import arrayFilter from './_arrayFilter.js';\nimport stubArray from './stubArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nexport default getSymbols;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nexport default arrayFilter;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nexport default stubArray;\n","import baseGetAllKeys from './_baseGetAllKeys.js';\nimport getSymbols from './_getSymbols.js';\nimport keys from './keys.js';\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nexport default getAllKeys;\n","import arrayPush from './_arrayPush.js';\nimport isArray from './isArray.js';\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nexport default baseGetAllKeys;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nexport default arrayPush;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nexport default DataView;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nexport default Promise;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nexport default Set;\n","import DataView from './_DataView.js';\nimport Map from './_Map.js';\nimport Promise from './_Promise.js';\nimport Set from './_Set.js';\nimport WeakMap from './_WeakMap.js';\nimport baseGetTag from './_baseGetTag.js';\nimport toSource from './_toSource.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nexport default getTag;\n","import MapCache from './_MapCache.js';\nimport setCacheAdd from './_setCacheAdd.js';\nimport setCacheHas from './_setCacheHas.js';\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nexport default SetCache;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default arraySome;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nexport default setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nexport default setCacheHas;\n","import SetCache from './_SetCache.js';\nimport arraySome from './_arraySome.js';\nimport cacheHas from './_cacheHas.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nexport default equalArrays;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nexport default cacheHas;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nexport default mapToArray;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nexport default setToArray;\n","import Symbol from './_Symbol.js';\nimport Uint8Array from './_Uint8Array.js';\nimport eq from './eq.js';\nimport equalArrays from './_equalArrays.js';\nimport mapToArray from './_mapToArray.js';\nimport setToArray from './_setToArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nexport default equalByTag;\n","import getAllKeys from './_getAllKeys.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nexport default equalObjects;\n","import Stack from './_Stack.js';\nimport equalArrays from './_equalArrays.js';\nimport equalByTag from './_equalByTag.js';\nimport equalObjects from './_equalObjects.js';\nimport getTag from './_getTag.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nexport default baseIsEqualDeep;\n","import baseIsEqualDeep from './_baseIsEqualDeep.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nexport default baseIsEqual;\n","import Stack from './_Stack.js';\nimport baseIsEqual from './_baseIsEqual.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nexport default baseIsMatch;\n","import isObject from './isObject.js';\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nexport default isStrictComparable;\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nexport default matchesStrictComparable;\n","import baseIsMatch from './_baseIsMatch.js';\nimport getMatchData from './_getMatchData.js';\nimport matchesStrictComparable from './_matchesStrictComparable.js';\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nexport default baseMatches;\n","import isStrictComparable from './_isStrictComparable.js';\nimport keys from './keys.js';\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nexport default getMatchData;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nexport default baseHasIn;\n","import baseHasIn from './_baseHasIn.js';\nimport hasPath from './_hasPath.js';\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nexport default hasIn;\n","import castPath from './_castPath.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isIndex from './_isIndex.js';\nimport isLength from './isLength.js';\nimport toKey from './_toKey.js';\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nexport default hasPath;\n","import baseIsEqual from './_baseIsEqual.js';\nimport get from './get.js';\nimport hasIn from './hasIn.js';\nimport isKey from './_isKey.js';\nimport isStrictComparable from './_isStrictComparable.js';\nimport matchesStrictComparable from './_matchesStrictComparable.js';\nimport toKey from './_toKey.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nexport default baseMatchesProperty;\n","import baseProperty from './_baseProperty.js';\nimport basePropertyDeep from './_basePropertyDeep.js';\nimport isKey from './_isKey.js';\nimport toKey from './_toKey.js';\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nexport default property;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nexport default baseProperty;\n","import baseGet from './_baseGet.js';\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nexport default basePropertyDeep;\n","import baseMatches from './_baseMatches.js';\nimport baseMatchesProperty from './_baseMatchesProperty.js';\nimport identity from './identity.js';\nimport isArray from './isArray.js';\nimport property from './property.js';\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nexport default baseIteratee;\n","import baseForOwn from './_baseForOwn.js';\nimport createBaseEach from './_createBaseEach.js';\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nexport default baseEach;\n","import isArrayLike from './isArrayLike.js';\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nexport default createBaseEach;\n","import baseFor from './_baseFor.js';\nimport keys from './keys.js';\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nexport default baseForOwn;\n","import baseEach from './_baseEach.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nexport default baseMap;\n","import { c } from '../../_utils/cssr';\nimport commonVariables from '../common/_common';\nconst {\n  cubicBezierEaseIn,\n  cubicBezierEaseOut\n} = commonVariables;\nexport function fadeInScaleUpTransition({\n  transformOrigin = 'inherit',\n  duration = '.2s',\n  enterScale = '.9',\n  originalTransform = '',\n  originalTransition = ''\n} = {}) {\n  return [c('&.fade-in-scale-up-transition-leave-active', {\n    transformOrigin,\n    transition: `opacity ${duration} ${cubicBezierEaseIn}, transform ${duration} ${cubicBezierEaseIn} ${originalTransition && ',' + originalTransition}`\n  }), c('&.fade-in-scale-up-transition-enter-active', {\n    transformOrigin,\n    transition: `opacity ${duration} ${cubicBezierEaseOut}, transform ${duration} ${cubicBezierEaseOut} ${originalTransition && ',' + originalTransition}`\n  }), c('&.fade-in-scale-up-transition-enter-from, &.fade-in-scale-up-transition-leave-to', {\n    opacity: 0,\n    transform: `${originalTransform} scale(${enterScale})`\n  }), c('&.fade-in-scale-up-transition-leave-from, &.fade-in-scale-up-transition-enter-to', {\n    opacity: 1,\n    transform: `${originalTransform} scale(1)`\n  })];\n}","import { map } from 'lodash-es';\nimport { c, cB, cM, cNotM, cE, cCB } from '../../../_utils/cssr';\nconst oppositePlacement = {\n  top: 'bottom',\n  bottom: 'top',\n  left: 'right',\n  right: 'left'\n};\nconst arrowSize = 'var(--n-arrow-height) * 1.414';\n// vars:\n// --n-bezier\n// --n-bezier-ease-in\n// --n-bezier-ease-out\n// --n-font-size\n// --n-text-color\n// --n-color\n// --n-border-radius\n// --n-arrow-height\n// --n-arrow-offset\n// --n-arrow-offset-vertical\n// --n-padding\n// --n-space\n// --n-space-arrow\n// --n-divider-color\nexport default c([cB('popover', `\n transition:\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n position: relative;\n font-size: var(--n-font-size);\n color: var(--n-text-color);\n box-shadow: var(--n-box-shadow);\n word-break: break-word;\n `, [c('>', [cB('scrollbar', `\n height: inherit;\n max-height: inherit;\n `)]), cNotM('raw', `\n background-color: var(--n-color);\n border-radius: var(--n-border-radius);\n `, [cNotM('scrollable', [cNotM('show-header-or-footer', 'padding: var(--n-padding);')])]), cE('header', `\n padding: var(--n-padding);\n border-bottom: 1px solid var(--n-divider-color);\n transition: border-color .3s var(--n-bezier);\n `), cE('footer', `\n padding: var(--n-padding);\n border-top: 1px solid var(--n-divider-color);\n transition: border-color .3s var(--n-bezier);\n `), cM('scrollable, show-header-or-footer', [cE('content', `\n padding: var(--n-padding);\n `)])]), cB('popover-shared', `\n transform-origin: inherit;\n `, [cB('popover-arrow-wrapper', `\n position: absolute;\n overflow: hidden;\n pointer-events: none;\n `, [cB('popover-arrow', `\n transition: background-color .3s var(--n-bezier);\n position: absolute;\n display: block;\n width: calc(${arrowSize});\n height: calc(${arrowSize});\n box-shadow: 0 0 8px 0 rgba(0, 0, 0, .12);\n transform: rotate(45deg);\n background-color: var(--n-color);\n pointer-events: all;\n `)]),\n// body transition\nc('&.popover-transition-enter-from, &.popover-transition-leave-to', `\n opacity: 0;\n transform: scale(.85);\n `), c('&.popover-transition-enter-to, &.popover-transition-leave-from', `\n transform: scale(1);\n opacity: 1;\n `), c('&.popover-transition-enter-active', `\n transition:\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier),\n opacity .15s var(--n-bezier-ease-out),\n transform .15s var(--n-bezier-ease-out);\n `), c('&.popover-transition-leave-active', `\n transition:\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier),\n opacity .15s var(--n-bezier-ease-in),\n transform .15s var(--n-bezier-ease-in);\n `)]), placementStyle('top-start', `\n top: calc(${arrowSize} / -2);\n left: calc(${getArrowOffset('top-start')} - var(--v-offset-left));\n `), placementStyle('top', `\n top: calc(${arrowSize} / -2);\n transform: translateX(calc(${arrowSize} / -2)) rotate(45deg);\n left: 50%;\n `), placementStyle('top-end', `\n top: calc(${arrowSize} / -2);\n right: calc(${getArrowOffset('top-end')} + var(--v-offset-left));\n `), placementStyle('bottom-start', `\n bottom: calc(${arrowSize} / -2);\n left: calc(${getArrowOffset('bottom-start')} - var(--v-offset-left));\n `), placementStyle('bottom', `\n bottom: calc(${arrowSize} / -2);\n transform: translateX(calc(${arrowSize} / -2)) rotate(45deg);\n left: 50%;\n `), placementStyle('bottom-end', `\n bottom: calc(${arrowSize} / -2);\n right: calc(${getArrowOffset('bottom-end')} + var(--v-offset-left));\n `), placementStyle('left-start', `\n left: calc(${arrowSize} / -2);\n top: calc(${getArrowOffset('left-start')} - var(--v-offset-top));\n `), placementStyle('left', `\n left: calc(${arrowSize} / -2);\n transform: translateY(calc(${arrowSize} / -2)) rotate(45deg);\n top: 50%;\n `), placementStyle('left-end', `\n left: calc(${arrowSize} / -2);\n bottom: calc(${getArrowOffset('left-end')} + var(--v-offset-top));\n `), placementStyle('right-start', `\n right: calc(${arrowSize} / -2);\n top: calc(${getArrowOffset('right-start')} - var(--v-offset-top));\n `), placementStyle('right', `\n right: calc(${arrowSize} / -2);\n transform: translateY(calc(${arrowSize} / -2)) rotate(45deg);\n top: 50%;\n `), placementStyle('right-end', `\n right: calc(${arrowSize} / -2);\n bottom: calc(${getArrowOffset('right-end')} + var(--v-offset-top));\n `), ...map({\n  top: ['right-start', 'left-start'],\n  right: ['top-end', 'bottom-end'],\n  bottom: ['right-end', 'left-end'],\n  left: ['top-start', 'bottom-start']\n}, (placements, direction) => {\n  const isVertical = ['right', 'left'].includes(direction);\n  const sizeType = isVertical ? 'width' : 'height';\n  return placements.map(placement => {\n    const isReverse = placement.split('-')[1] === 'end';\n    const targetSize = `var(--v-target-${sizeType}, 0px)`;\n    const centerOffset = `calc((${targetSize} - ${arrowSize}) / 2)`;\n    const offset = getArrowOffset(placement);\n    return c(`[v-placement=\"${placement}\"] >`, [cB('popover-shared', [cM('center-arrow', [cB('popover-arrow', `${direction}: calc(max(${centerOffset}, ${offset}) ${isReverse ? '+' : '-'} var(--v-offset-${isVertical ? 'left' : 'top'}));`)])])]);\n  });\n})]);\nfunction getArrowOffset(placement) {\n  return ['top', 'bottom'].includes(placement.split('-')[0]) ? 'var(--n-arrow-offset)' : 'var(--n-arrow-offset-vertical)';\n}\nfunction placementStyle(placement, arrowStyleLiteral) {\n  const position = placement.split('-')[0];\n  const sizeStyle = ['top', 'bottom'].includes(position) ? 'height: var(--n-space-arrow);' : 'width: var(--n-space-arrow);';\n  return c(`[v-placement=\"${placement}\"] >`, [cB('popover-shared', `\n margin-${oppositePlacement[position]}: var(--n-space);\n `, [cM('show-arrow', `\n margin-${oppositePlacement[position]}: var(--n-space-arrow);\n `), cM('overlap', `\n margin: 0;\n `), cCB('popover-arrow-wrapper', `\n right: 0;\n left: 0;\n top: 0;\n bottom: 0;\n ${position}: 100%;\n ${oppositePlacement[position]}: auto;\n ${sizeStyle}\n `, [cB('popover-arrow', arrowStyleLiteral)])])]);\n}","import arrayMap from './_arrayMap.js';\nimport baseIteratee from './_baseIteratee.js';\nimport baseMap from './_baseMap.js';\nimport isArray from './isArray.js';\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nexport default map;\n","import { h, vShow, withDirectives, Transition, ref, defineComponent, computed, mergeProps, inject, onBeforeUnmount, watch, toRef, provide, watchEffect, Fragment } from 'vue';\nimport { VFollower, VFocusTrap } from 'vueuc';\nimport { clickoutside, mousemoveoutside } from 'vdirs';\nimport { getPreciseEventTarget } from 'seemly';\nimport { NxScrollbar } from '../../_internal/scrollbar';\nimport { drawerBodyInjectionKey } from '../../drawer/src/interface';\nimport { modalBodyInjectionKey } from '../../modal/src/interface';\nimport { useTheme, useConfig, useThemeClass } from '../../_mixins';\nimport { formatLength, isSlotEmpty, resolveWrappedSlot, useAdjustedTo, isJsdom } from '../../_utils';\nimport { popoverLight } from '../styles';\nimport { popoverBodyInjectionKey } from './interface';\nimport style from './styles/index.cssr';\nexport const popoverBodyProps = Object.assign(Object.assign({}, useTheme.props), { to: useAdjustedTo.propTo, show: Boolean, trigger: String, showArrow: Boolean, delay: Number, duration: Number, raw: Boolean, arrowPointToCenter: Boolean, arrowStyle: [String, Object], displayDirective: String, x: Number, y: Number, flip: Boolean, overlap: Boolean, placement: String, width: [Number, String], keepAliveOnHover: Boolean, scrollable: Boolean, contentStyle: [Object, String], headerStyle: [Object, String], footerStyle: [Object, String], \n    // private\n    internalDeactivateImmediately: Boolean, animated: Boolean, onClickoutside: Function, internalTrapFocus: Boolean, internalOnAfterLeave: Function, \n    // deprecated\n    minWidth: Number, maxWidth: Number });\nexport const renderArrow = ({ arrowStyle, clsPrefix }) => {\n    return (h(\"div\", { key: \"__popover-arrow__\", class: `${clsPrefix}-popover-arrow-wrapper` },\n        h(\"div\", { class: `${clsPrefix}-popover-arrow`, style: arrowStyle })));\n};\nexport default defineComponent({\n    name: 'PopoverBody',\n    inheritAttrs: false,\n    props: popoverBodyProps,\n    setup(props, { slots, attrs }) {\n        const { namespaceRef, mergedClsPrefixRef, inlineThemeDisabled } = useConfig(props);\n        const themeRef = useTheme('Popover', '-popover', style, popoverLight, props, mergedClsPrefixRef);\n        const followerRef = ref(null);\n        const NPopover = inject('NPopover');\n        const bodyRef = ref(null);\n        const followerEnabledRef = ref(props.show);\n        const displayedRef = ref(false);\n        watchEffect(() => {\n            const { show } = props;\n            if (show && !isJsdom() && !props.internalDeactivateImmediately) {\n                displayedRef.value = true;\n            }\n        });\n        const directivesRef = computed(() => {\n            const { trigger, onClickoutside } = props;\n            const directives = [];\n            const { positionManuallyRef: { value: positionManually } } = NPopover;\n            if (!positionManually) {\n                if (trigger === 'click' && !onClickoutside) {\n                    directives.push([\n                        clickoutside,\n                        handleClickOutside,\n                        undefined,\n                        { capture: true }\n                    ]);\n                }\n                if (trigger === 'hover') {\n                    directives.push([mousemoveoutside, handleMouseMoveOutside]);\n                }\n            }\n            if (onClickoutside) {\n                directives.push([\n                    clickoutside,\n                    handleClickOutside,\n                    undefined,\n                    { capture: true }\n                ]);\n            }\n            if (props.displayDirective === 'show' ||\n                (props.animated && displayedRef.value)) {\n                directives.push([vShow, props.show]);\n            }\n            return directives;\n        });\n        const styleRef = computed(() => {\n            const width = props.width === 'trigger' ? undefined : formatLength(props.width);\n            const style = [];\n            if (width) {\n                style.push({ width });\n            }\n            const { maxWidth, minWidth } = props;\n            if (maxWidth) {\n                style.push({ maxWidth: formatLength(maxWidth) });\n            }\n            if (minWidth) {\n                style.push({ maxWidth: formatLength(minWidth) });\n            }\n            if (!inlineThemeDisabled) {\n                style.push(cssVarsRef.value);\n            }\n            return style;\n        });\n        const cssVarsRef = computed(() => {\n            const { common: { cubicBezierEaseInOut, cubicBezierEaseIn, cubicBezierEaseOut }, self: { space, spaceArrow, padding, fontSize, textColor, dividerColor, color, boxShadow, borderRadius, arrowHeight, arrowOffset, arrowOffsetVertical } } = themeRef.value;\n            return {\n                '--n-box-shadow': boxShadow,\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-bezier-ease-in': cubicBezierEaseIn,\n                '--n-bezier-ease-out': cubicBezierEaseOut,\n                '--n-font-size': fontSize,\n                '--n-text-color': textColor,\n                '--n-color': color,\n                '--n-divider-color': dividerColor,\n                '--n-border-radius': borderRadius,\n                '--n-arrow-height': arrowHeight,\n                '--n-arrow-offset': arrowOffset,\n                '--n-arrow-offset-vertical': arrowOffsetVertical,\n                '--n-padding': padding,\n                '--n-space': space,\n                '--n-space-arrow': spaceArrow\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('popover', undefined, cssVarsRef, props)\n            : undefined;\n        NPopover.setBodyInstance({\n            syncPosition\n        });\n        onBeforeUnmount(() => {\n            NPopover.setBodyInstance(null);\n        });\n        watch(toRef(props, 'show'), (value) => {\n            // If no animation, no transition component will be applied to the\n            // component. So we need to trigger follower manaully.\n            if (props.animated)\n                return;\n            if (value) {\n                followerEnabledRef.value = true;\n            }\n            else {\n                followerEnabledRef.value = false;\n            }\n        });\n        function syncPosition() {\n            var _a;\n            (_a = followerRef.value) === null || _a === void 0 ? void 0 : _a.syncPosition();\n        }\n        function handleMouseEnter(e) {\n            if (props.trigger === 'hover' && props.keepAliveOnHover && props.show) {\n                NPopover.handleMouseEnter(e);\n            }\n        }\n        function handleMouseLeave(e) {\n            if (props.trigger === 'hover' && props.keepAliveOnHover) {\n                NPopover.handleMouseLeave(e);\n            }\n        }\n        function handleMouseMoveOutside(e) {\n            if (props.trigger === 'hover' &&\n                !getTriggerElement().contains(getPreciseEventTarget(e))) {\n                NPopover.handleMouseMoveOutside(e);\n            }\n        }\n        function handleClickOutside(e) {\n            if ((props.trigger === 'click' &&\n                !getTriggerElement().contains(getPreciseEventTarget(e))) ||\n                props.onClickoutside) {\n                NPopover.handleClickOutside(e);\n            }\n        }\n        function getTriggerElement() {\n            return NPopover.getTriggerElement();\n        }\n        provide(popoverBodyInjectionKey, bodyRef);\n        provide(drawerBodyInjectionKey, null);\n        provide(modalBodyInjectionKey, null);\n        function renderContentNode() {\n            themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender();\n            const shouldRenderDom = props.displayDirective === 'show' ||\n                props.show ||\n                (props.animated && displayedRef.value);\n            if (!shouldRenderDom) {\n                return null;\n            }\n            let contentNode;\n            const renderBody = NPopover.internalRenderBodyRef.value;\n            const { value: mergedClsPrefix } = mergedClsPrefixRef;\n            if (!renderBody) {\n                const { value: extraClass } = NPopover.extraClassRef;\n                const { internalTrapFocus } = props;\n                const hasHeaderOrFooter = !isSlotEmpty(slots.header) || !isSlotEmpty(slots.footer);\n                const renderContentInnerNode = () => {\n                    var _a;\n                    const body = hasHeaderOrFooter ? (h(Fragment, null,\n                        resolveWrappedSlot(slots.header, (children) => {\n                            return children ? (h(\"div\", { class: `${mergedClsPrefix}-popover__header`, style: props.headerStyle }, children)) : null;\n                        }),\n                        resolveWrappedSlot(slots.default, (children) => {\n                            return children ? (h(\"div\", { class: `${mergedClsPrefix}-popover__content`, style: props.contentStyle }, slots)) : null;\n                        }),\n                        resolveWrappedSlot(slots.footer, (children) => {\n                            return children ? (h(\"div\", { class: `${mergedClsPrefix}-popover__footer`, style: props.footerStyle }, children)) : null;\n                        }))) : props.scrollable ? ((_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots)) : (h(\"div\", { class: `${mergedClsPrefix}-popover__content`, style: props.contentStyle }, slots));\n                    const maybeScrollableBody = props.scrollable ? (h(NxScrollbar, { contentClass: hasHeaderOrFooter\n                            ? undefined\n                            : `${mergedClsPrefix}-popover__content`, contentStyle: hasHeaderOrFooter ? undefined : props.contentStyle }, {\n                        default: () => body\n                    })) : (body);\n                    const arrow = props.showArrow\n                        ? renderArrow({\n                            arrowStyle: props.arrowStyle,\n                            clsPrefix: mergedClsPrefix\n                        })\n                        : null;\n                    return [maybeScrollableBody, arrow];\n                };\n                contentNode = h('div', mergeProps({\n                    class: [\n                        `${mergedClsPrefix}-popover`,\n                        `${mergedClsPrefix}-popover-shared`,\n                        themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass.value,\n                        extraClass.map((v) => `${mergedClsPrefix}-${v}`),\n                        {\n                            [`${mergedClsPrefix}-popover--scrollable`]: props.scrollable,\n                            [`${mergedClsPrefix}-popover--show-header-or-footer`]: hasHeaderOrFooter,\n                            [`${mergedClsPrefix}-popover--raw`]: props.raw,\n                            [`${mergedClsPrefix}-popover-shared--overlap`]: props.overlap,\n                            [`${mergedClsPrefix}-popover-shared--show-arrow`]: props.showArrow,\n                            [`${mergedClsPrefix}-popover-shared--center-arrow`]: props.arrowPointToCenter\n                        }\n                    ],\n                    ref: bodyRef,\n                    style: styleRef.value,\n                    onKeydown: NPopover.handleKeydown,\n                    onMouseenter: handleMouseEnter,\n                    onMouseleave: handleMouseLeave\n                }, attrs), internalTrapFocus ? (h(VFocusTrap, { active: props.show, autoFocus: true }, { default: renderContentInnerNode })) : (renderContentInnerNode()));\n            }\n            else {\n                contentNode = renderBody(\n                // The popover class and overlap class must exists, they will be used\n                // to place the body & transition animation.\n                // Shadow class exists for reuse box-shadow.\n                [\n                    `${mergedClsPrefix}-popover-shared`,\n                    themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass.value,\n                    props.overlap && `${mergedClsPrefix}-popover-shared--overlap`,\n                    props.showArrow && `${mergedClsPrefix}-popover-shared--show-arrow`,\n                    props.arrowPointToCenter &&\n                        `${mergedClsPrefix}-popover-shared--center-arrow`\n                ], bodyRef, styleRef.value, handleMouseEnter, handleMouseLeave);\n            }\n            return withDirectives(contentNode, directivesRef.value);\n        }\n        return {\n            displayed: displayedRef,\n            namespace: namespaceRef,\n            isMounted: NPopover.isMountedRef,\n            zIndex: NPopover.zIndexRef,\n            followerRef,\n            adjustedTo: useAdjustedTo(props),\n            followerEnabled: followerEnabledRef,\n            renderContentNode\n        };\n    },\n    render() {\n        return (h(VFollower, { ref: \"followerRef\", zIndex: this.zIndex, show: this.show, enabled: this.followerEnabled, to: this.adjustedTo, x: this.x, y: this.y, flip: this.flip, placement: this.placement, containerClass: this.namespace, overlap: this.overlap, width: this.width === 'trigger' ? 'target' : undefined, teleportDisabled: this.adjustedTo === useAdjustedTo.tdkey }, {\n            default: () => {\n                return this.animated ? (h(Transition, { name: \"popover-transition\", appear: this.isMounted, \n                    // Don't use watch to enable follower, since the transition may\n                    // make position sync timing very subtle and buggy.\n                    onEnter: () => {\n                        this.followerEnabled = true;\n                    }, onAfterLeave: () => {\n                        var _a;\n                        (_a = this.internalOnAfterLeave) === null || _a === void 0 ? void 0 : _a.call(this);\n                        this.followerEnabled = false;\n                        this.displayed = false;\n                    } }, {\n                    default: this.renderContentNode\n                })) : (this.renderContentNode());\n            }\n        }));\n    }\n});\n","import { h, ref, computed, defineComponent, provide, toRef, cloneVNode, watchEffect, withDirectives, Text } from 'vue';\nimport { VBinder, VTarget } from 'vueuc';\nimport { useMergedState, useCompitable, useIsMounted, useMemo } from 'vooks';\nimport { zindexable } from 'vdirs';\nimport { call, keep, getFirstSlotVNode, warnOnce, useAdjustedTo } from '../../_utils';\nimport { useTheme } from '../../_mixins';\nimport NPopoverBody, { popoverBodyProps } from './PopoverBody';\nconst bodyPropKeys = Object.keys(popoverBodyProps);\nconst triggerEventMap = {\n    focus: ['onFocus', 'onBlur'],\n    click: ['onClick'],\n    hover: ['onMouseenter', 'onMouseleave'],\n    manual: [],\n    nested: ['onFocus', 'onBlur', 'onMouseenter', 'onMouseleave', 'onClick']\n};\nfunction appendEvents(vNode, trigger, events) {\n    triggerEventMap[trigger].forEach((eventName) => {\n        if (!vNode.props)\n            vNode.props = {};\n        else {\n            vNode.props = Object.assign({}, vNode.props);\n        }\n        const originalHandler = vNode.props[eventName];\n        const handler = events[eventName];\n        if (!originalHandler)\n            vNode.props[eventName] = handler;\n        else {\n            vNode.props[eventName] = (...args) => {\n                originalHandler(...args);\n                handler(...args);\n            };\n        }\n    });\n}\nexport const popoverBaseProps = {\n    show: {\n        type: Boolean,\n        default: undefined\n    },\n    defaultShow: Boolean,\n    showArrow: {\n        type: Boolean,\n        default: true\n    },\n    trigger: {\n        type: String,\n        default: 'hover'\n    },\n    delay: {\n        type: Number,\n        default: 100\n    },\n    duration: {\n        type: Number,\n        default: 100\n    },\n    raw: Boolean,\n    placement: {\n        type: String,\n        default: 'top'\n    },\n    x: Number,\n    y: Number,\n    arrowPointToCenter: Boolean,\n    disabled: Boolean,\n    getDisabled: Function,\n    displayDirective: {\n        type: String,\n        default: 'if'\n    },\n    arrowStyle: [String, Object],\n    flip: {\n        type: Boolean,\n        default: true\n    },\n    animated: {\n        type: Boolean,\n        default: true\n    },\n    width: {\n        type: [Number, String],\n        default: undefined\n    },\n    overlap: Boolean,\n    keepAliveOnHover: {\n        type: Boolean,\n        default: true\n    },\n    zIndex: Number,\n    to: useAdjustedTo.propTo,\n    scrollable: Boolean,\n    contentStyle: [Object, String],\n    headerStyle: [Object, String],\n    footerStyle: [Object, String],\n    // events\n    onClickoutside: Function,\n    'onUpdate:show': [Function, Array],\n    onUpdateShow: [Function, Array],\n    // internal\n    internalDeactivateImmediately: Boolean,\n    internalSyncTargetWithParent: Boolean,\n    internalInheritedEventHandlers: {\n        type: Array,\n        default: () => []\n    },\n    internalTrapFocus: Boolean,\n    internalExtraClass: {\n        type: Array,\n        default: () => []\n    },\n    // deprecated\n    onShow: [Function, Array],\n    onHide: [Function, Array],\n    arrow: {\n        type: Boolean,\n        default: undefined\n    },\n    minWidth: Number,\n    maxWidth: Number\n};\nexport const popoverProps = Object.assign(Object.assign(Object.assign({}, useTheme.props), popoverBaseProps), { internalOnAfterLeave: Function, internalRenderBody: Function });\nexport default defineComponent({\n    name: 'Popover',\n    inheritAttrs: false,\n    props: popoverProps,\n    __popover__: true,\n    setup(props) {\n        if (process.env.NODE_ENV !== 'production') {\n            watchEffect(() => {\n                if (props.maxWidth !== undefined) {\n                    warnOnce('popover', '`max-width` is deprecated, please use `style` instead.');\n                }\n                if (props.minWidth !== undefined) {\n                    warnOnce('popover', '`min-width` is deprecated, please use `style` instead.');\n                }\n                if (props.arrow !== undefined) {\n                    warnOnce('popover', '`arrow` is deprecated, please use `showArrow` instead.');\n                }\n                if (props.onHide !== undefined) {\n                    warnOnce('popover', '`on-hide` is deprecated, please use `on-update:show` instead.');\n                }\n                if (props.onShow !== undefined) {\n                    warnOnce('popover', '`on-show` is deprecated, please use `on-update:show` instead.');\n                }\n            });\n        }\n        const isMountedRef = useIsMounted();\n        const binderInstRef = ref(null);\n        // setup show\n        const controlledShowRef = computed(() => props.show);\n        const uncontrolledShowRef = ref(props.defaultShow);\n        const mergedShowWithoutDisabledRef = useMergedState(controlledShowRef, uncontrolledShowRef);\n        const mergedShowConsideringDisabledPropRef = useMemo(() => {\n            if (props.disabled)\n                return false;\n            return mergedShowWithoutDisabledRef.value;\n        });\n        const getMergedDisabled = () => {\n            if (props.disabled)\n                return true;\n            const { getDisabled } = props;\n            if (getDisabled === null || getDisabled === void 0 ? void 0 : getDisabled())\n                return true;\n            return false;\n        };\n        const getMergedShow = () => {\n            if (getMergedDisabled())\n                return false;\n            return mergedShowWithoutDisabledRef.value;\n        };\n        // setup show-arrow\n        const compatibleShowArrowRef = useCompitable(props, ['arrow', 'showArrow']);\n        const mergedShowArrowRef = computed(() => {\n            if (props.overlap)\n                return false;\n            return compatibleShowArrowRef.value;\n        });\n        // bodyInstance\n        let bodyInstance = null;\n        const showTimerIdRef = ref(null);\n        const hideTimerIdRef = ref(null);\n        const positionManuallyRef = useMemo(() => {\n            return props.x !== undefined && props.y !== undefined;\n        });\n        // methods\n        function doUpdateShow(value) {\n            const { 'onUpdate:show': _onUpdateShow, onUpdateShow, onShow, onHide } = props;\n            uncontrolledShowRef.value = value;\n            if (_onUpdateShow) {\n                call(_onUpdateShow, value);\n            }\n            if (onUpdateShow) {\n                call(onUpdateShow, value);\n            }\n            if (value && onShow) {\n                call(onShow, true);\n            }\n            if (value && onHide) {\n                call(onHide, false);\n            }\n        }\n        function syncPosition() {\n            if (bodyInstance) {\n                bodyInstance.syncPosition();\n            }\n        }\n        function clearShowTimer() {\n            const { value: showTimerId } = showTimerIdRef;\n            if (showTimerId) {\n                window.clearTimeout(showTimerId);\n                showTimerIdRef.value = null;\n            }\n        }\n        function clearHideTimer() {\n            const { value: hideTimerId } = hideTimerIdRef;\n            if (hideTimerId) {\n                window.clearTimeout(hideTimerId);\n                hideTimerIdRef.value = null;\n            }\n        }\n        function handleFocus() {\n            const mergedDisabled = getMergedDisabled();\n            if (props.trigger === 'focus' && !mergedDisabled) {\n                if (getMergedShow())\n                    return;\n                doUpdateShow(true);\n            }\n        }\n        function handleBlur() {\n            const mergedDisabled = getMergedDisabled();\n            if (props.trigger === 'focus' && !mergedDisabled) {\n                if (!getMergedShow())\n                    return;\n                doUpdateShow(false);\n            }\n        }\n        function handleMouseEnter() {\n            const mergedDisabled = getMergedDisabled();\n            if (props.trigger === 'hover' && !mergedDisabled) {\n                clearHideTimer();\n                if (showTimerIdRef.value !== null)\n                    return;\n                if (getMergedShow())\n                    return;\n                const delayCallback = () => {\n                    doUpdateShow(true);\n                    showTimerIdRef.value = null;\n                };\n                const { delay } = props;\n                if (delay === 0) {\n                    delayCallback();\n                }\n                else {\n                    showTimerIdRef.value = window.setTimeout(delayCallback, delay);\n                }\n            }\n        }\n        function handleMouseLeave() {\n            const mergedDisabled = getMergedDisabled();\n            if (props.trigger === 'hover' && !mergedDisabled) {\n                clearShowTimer();\n                if (hideTimerIdRef.value !== null)\n                    return;\n                if (!getMergedShow())\n                    return;\n                const delayedCallback = () => {\n                    doUpdateShow(false);\n                    hideTimerIdRef.value = null;\n                };\n                const { duration } = props;\n                if (duration === 0) {\n                    delayedCallback();\n                }\n                else {\n                    hideTimerIdRef.value = window.setTimeout(delayedCallback, duration);\n                }\n            }\n        }\n        // will be called in popover-content\n        function handleMouseMoveOutside() {\n            handleMouseLeave();\n        }\n        // will be called in popover-content\n        function handleClickOutside(e) {\n            var _a;\n            if (!getMergedShow())\n                return;\n            if (props.trigger === 'click') {\n                clearShowTimer();\n                clearHideTimer();\n                doUpdateShow(false);\n            }\n            (_a = props.onClickoutside) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        }\n        function handleClick() {\n            if (props.trigger === 'click' && !getMergedDisabled()) {\n                clearShowTimer();\n                clearHideTimer();\n                const nextShow = !getMergedShow();\n                doUpdateShow(nextShow);\n            }\n        }\n        function handleKeydown(e) {\n            if (!props.internalTrapFocus)\n                return;\n            if (e.key === 'Escape') {\n                clearShowTimer();\n                clearHideTimer();\n                doUpdateShow(false);\n            }\n        }\n        function setShow(value) {\n            uncontrolledShowRef.value = value;\n        }\n        function getTriggerElement() {\n            var _a;\n            return (_a = binderInstRef.value) === null || _a === void 0 ? void 0 : _a.targetRef;\n        }\n        function setBodyInstance(value) {\n            bodyInstance = value;\n        }\n        provide('NPopover', {\n            getTriggerElement,\n            handleKeydown,\n            handleMouseEnter,\n            handleMouseLeave,\n            handleClickOutside,\n            handleMouseMoveOutside,\n            setBodyInstance,\n            positionManuallyRef,\n            isMountedRef,\n            zIndexRef: toRef(props, 'zIndex'),\n            extraClassRef: toRef(props, 'internalExtraClass'),\n            internalRenderBodyRef: toRef(props, 'internalRenderBody')\n        });\n        watchEffect(() => {\n            if (mergedShowWithoutDisabledRef.value && getMergedDisabled()) {\n                doUpdateShow(false);\n            }\n        });\n        return {\n            binderInstRef,\n            positionManually: positionManuallyRef,\n            mergedShowConsideringDisabledProp: mergedShowConsideringDisabledPropRef,\n            // if to show popover body\n            uncontrolledShow: uncontrolledShowRef,\n            mergedShowArrow: mergedShowArrowRef,\n            getMergedShow,\n            setShow,\n            handleClick,\n            handleMouseEnter,\n            handleMouseLeave,\n            handleFocus,\n            handleBlur,\n            syncPosition\n        };\n    },\n    render() {\n        var _a;\n        const { positionManually, $slots: slots } = this;\n        let triggerVNode;\n        let popoverInside = false;\n        if (!positionManually) {\n            if (slots.activator) {\n                triggerVNode = getFirstSlotVNode(slots, 'activator');\n            }\n            else {\n                triggerVNode = getFirstSlotVNode(slots, 'trigger');\n            }\n            if (triggerVNode) {\n                triggerVNode = cloneVNode(triggerVNode);\n                triggerVNode =\n                    triggerVNode.type === Text\n                        ? h('span', [triggerVNode])\n                        : triggerVNode;\n                const handlers = {\n                    onClick: this.handleClick,\n                    onMouseenter: this.handleMouseEnter,\n                    onMouseleave: this.handleMouseLeave,\n                    onFocus: this.handleFocus,\n                    onBlur: this.handleBlur\n                };\n                if ((_a = triggerVNode.type) === null || _a === void 0 ? void 0 : _a.__popover__) {\n                    popoverInside = true;\n                    // We assume that there's no DOM event handlers on popover element\n                    if (!triggerVNode.props) {\n                        triggerVNode.props = {\n                            internalSyncTargetWithParent: true,\n                            internalInheritedEventHandlers: []\n                        };\n                    }\n                    triggerVNode.props.internalSyncTargetWithParent = true;\n                    if (!triggerVNode.props.internalInheritedEventHandlers) {\n                        triggerVNode.props.internalInheritedEventHandlers = [handlers];\n                    }\n                    else {\n                        triggerVNode.props.internalInheritedEventHandlers = [\n                            handlers,\n                            ...triggerVNode.props.internalInheritedEventHandlers\n                        ];\n                    }\n                }\n                else {\n                    const { internalInheritedEventHandlers } = this;\n                    const ascendantAndCurrentHandlers = [\n                        handlers,\n                        ...internalInheritedEventHandlers\n                    ];\n                    const mergedHandlers = {\n                        onBlur: (e) => {\n                            ascendantAndCurrentHandlers.forEach((_handlers) => {\n                                _handlers.onBlur(e);\n                            });\n                        },\n                        onFocus: (e) => {\n                            ascendantAndCurrentHandlers.forEach((_handlers) => {\n                                _handlers.onFocus(e);\n                            });\n                        },\n                        onClick: (e) => {\n                            ascendantAndCurrentHandlers.forEach((_handlers) => {\n                                _handlers.onClick(e);\n                            });\n                        },\n                        onMouseenter: (e) => {\n                            ascendantAndCurrentHandlers.forEach((_handlers) => {\n                                _handlers.onMouseenter(e);\n                            });\n                        },\n                        onMouseleave: (e) => {\n                            ascendantAndCurrentHandlers.forEach((_handlers) => {\n                                _handlers.onMouseleave(e);\n                            });\n                        }\n                    };\n                    appendEvents(triggerVNode, internalInheritedEventHandlers\n                        ? 'nested'\n                        : positionManually\n                            ? 'manual'\n                            : this.trigger, mergedHandlers);\n                }\n            }\n        }\n        return (h(VBinder, { ref: \"binderInstRef\", syncTarget: !popoverInside, syncTargetWithParent: this.internalSyncTargetWithParent }, {\n            default: () => {\n                // We need to subscribe it. Sometimes rerender won't ge triggered.\n                // `mergedShowConsideringDisabledProp` is not the final disabled status.\n                // In ellpisis it's dynamic.\n                void this.mergedShowConsideringDisabledProp;\n                const mergedShow = this.getMergedShow();\n                return [\n                    this.internalTrapFocus && mergedShow\n                        ? withDirectives(h(\"div\", { style: { position: 'fixed', inset: 0 } }), [\n                            [\n                                zindexable,\n                                {\n                                    enabled: mergedShow,\n                                    zIndex: this.zIndex\n                                }\n                            ]\n                        ])\n                        : null,\n                    positionManually\n                        ? null\n                        : h(VTarget, null, {\n                            default: () => triggerVNode\n                        }),\n                    h(NPopoverBody, keep(this.$props, bodyPropKeys, Object.assign(Object.assign({}, this.$attrs), { showArrow: this.mergedShowArrow, show: mergedShow })), {\n                        default: () => { var _a, _b; return (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 : _b.call(_a); },\n                        header: () => { var _a, _b; return (_b = (_a = this.$slots).header) === null || _b === void 0 ? void 0 : _b.call(_a); },\n                        footer: () => { var _a, _b; return (_b = (_a = this.$slots).footer) === null || _b === void 0 ? void 0 : _b.call(_a); }\n                    })\n                ];\n            }\n        }));\n    }\n});\n"],"names":["onceCbs","paramsMap","WeakMap","flushOnceCallbacks","forEach","cb","get","beforeNextFrameOnce","params","set","includes","push","requestAnimationFrame","keep","object","keys","rest","keepedObject","key","Object","assign","getFirstSlotVNode","slots","slotName","props","slot","warn$1","slotContent","flatten","length","_isJsdom","internalSelectionMenuInjectionKey","createInjectionKey","internalSelectionMenuBodyInjectionKey","modalBodyInjectionKey","modalInjectionKey","drawerBodyInjectionKey","popoverBodyInjectionKey","teleportDisabled","useAdjustedTo","modal","inject","drawer","popover","selectMenu","fullscreenElementRef","ref","document","value","fullscreenElement","handleFullscreenChange","onMounted","on","onBeforeUnmount","off","useMemo","_a","to","$el","getSlot","scope","Error","vNodes","filterCommentNode","result","vNode","Array","isArray","type","Fragment","children","Comment","createTextVNode","String","getFirstVNode","content","tdkey","propTo","Boolean","default","viewMeasurer","ensureViewBoundingRect","getElementById","createElement","id","style","position","left","right","top","bottom","pointerEvents","visibility","body","appendChild","getBoundingClientRect","getRect","el","elRect","viewRect","height","width","getScrollParent","node","parentNode","nodeType","getParentNode","overflow","overflowX","overflowY","getComputedStyle","test","VBinder","defineComponent","name","syncTargetWithParent","syncTarget","setup","provide","getCurrentInstance","proxy","targetRef","scrollableNodes","removeScrollListeners","onScroll","followerScrollListeners","Set","onScrollRaf","listener","followerResizeListeners","onResize","window","setTargetRef","addScrollListener","size","cursor","has","add","removeScrollListener","delete","addResizeListener","removeResizeListener","render","this","$slots","VTarget","setTargetDirective","mounted","updated","withDirectives","ctxKey","mousemoveoutside$1","handler","ctx","unmounted","clickoutside$1","modifiers","capture","zIndexManager","constructor","elementZIndex","Map","nextZIndex","elementCount","ensureZIndex","zIndex","squashState","unregister","rearrange","elementZIndexPair","from","entries","sort","pair1","pair2","pair","zindexable$1","bindings","enabled","initialized","cachedEnabled","resolveTo","selector","querySelector","LazyTeleport","disabled","show","required","showTeleport","useFalseUntilTruthy","toRef","mergedTo","computed","h","Teleport","oppositionPositions","oppositeAligns","start","center","end","propToCompare","transformOrigins","overlapTransformOrigin","oppositeAlignCssPositionProps","keepOffsetDirection","cssPositionToOppositeAlign","c","VFollower","inheritAttrs","placement","syncTrigger","flip","internalShift","x","Number","y","minWidth","containerClass","zindexable","overlap","mergedEnabledRef","followerRef","offsetContainerRef","ensureListeners","syncPosition","removeListeners","ssrAdapter","useSsrAdapter","mount","head","anchorMetaName","cssrAnchorMetaName","ssr","onFontsReady","follower","target","targetRect","getPointRect","setProperty","Math","round","setAttribute","removeAttribute","followerRect","offsetContainerRect","offsetLeftToStandardPlacement","offsetTopToStandardPlacement","properPlacement","shift","align","split","properAlign","properOffset","deriveOffset","oppositeAlignCssSizeProp","alignCssPositionProp","offsetVertically","diff","oppositeAlignCssPositionProp","currentAlignCssPositionProp","followerOverTargetSize","possibleAlternativeAlignCssPositionProp1","possibleAlternativeAlignCssPositionProp2","alternativeAlignCssSizeProp","properPosition","getPlacementAndOffsetOfFollower","properTransformOrigin","getProperTransformOrigin","transform","offsetRect","getOffset","transformOrigin","watch","syncOnNextTick","nextTick","then","catch","e","prop","isMountedRef","useIsMounted","mergedToRef","mergedEnabled","_b","class","call","isHTMLElement","HTMLElement","focusFirstDescendant","i","childNodes","child","attemptFocus","focusLastDescendant","element","tabIndex","getAttribute","nodeName","href","rel","isFocusable","focus","preventScroll","activeElement","stack","FocusTrap","active","autoFocus","onEsc","Function","initialFocusTo","finalFocusTo","returnFocusOnDeactivated","createId","focusableStartRef","focusableEndRef","activated","ignoreInternalFocusChange","lastFocusedElement","isCurrentActive","handleDocumentKeydown","code","handleDocumentFocus","mainEl","getMainEl","contains","getPreciseEventTarget","resetFocusTo","focusableStartEl","nextSibling","Element","tagName","deactivate","removeEventListener","filter","idInStack","focusableEndEl","focused","addEventListener","immediate","focusableStyle","handleStartFocus","relatedTarget","handleEndFocus","defaultSlot","tabindex","onFocus","WeakMap$2","getNative","root","nativeKeys$1","overArg","hasOwnProperty","prototype","isArrayLike","arrayLikeKeys","isPrototype","nativeKeys","baseKeys","propertyIsEnumerable","nativeGetSymbols","getOwnPropertySymbols","getSymbols$1","array","predicate","index","resIndex","arrayFilter","symbol","getAllKeys","keysFunc","symbolsFunc","values","offset","arrayPush","baseGetAllKeys","getSymbols","DataView$1","Promise$2","Set$2","mapTag","promiseTag","setTag","weakMapTag","dataViewTag","dataViewCtorString","toSource","DataView","mapCtorString","promiseCtorString","Promise","setCtorString","weakMapCtorString","getTag","baseGetTag","ArrayBuffer","resolve","Ctor","ctorString","getTag$1","SetCache","__data__","MapCache","arraySome","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","equalArrays","other","bitmask","customizer","equalFunc","isPartial","arrLength","othLength","arrStacked","othStacked","seen","arrValue","othValue","compared","othIndex","mapToArray","map","setToArray","boolTag","dateTag","errorTag","numberTag","regexpTag","stringTag","symbolTag","arrayBufferTag","symbolProto","Symbol","symbolValueOf","valueOf","argsTag","arrayTag","objectTag","baseIsEqualDeep","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","isBuffer","Stack","isTypedArray","tag","byteLength","byteOffset","buffer","Uint8Array","eq","message","convert","stacked","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","objLength","objStacked","skipCtor","objValue","objCtor","othCtor","equalObjects","baseIsEqual","isObjectLike","isStrictComparable","isObject","matchesStrictComparable","srcValue","baseMatches","source","matchData","getMatchData","noCustomizer","data","baseIsMatch","baseHasIn","hasIn","path","hasFunc","castPath","toKey","isLength","isIndex","isArguments","hasPath","property","isKey","baseGet","basePropertyDeep","baseIteratee","identity","eachFunc","fromRight","baseEach","iteratee","baseFor","collection","iterable","baseEach$1","baseMap","cubicBezierEaseIn","cubicBezierEaseOut","commonVariables","fadeInScaleUpTransition","duration","enterScale","originalTransform","originalTransition","transition","opacity","oppositePlacement","arrowSize","cB","cNotM","cE","cM","placementStyle","getArrowOffset","placements","direction","isVertical","sizeType","isReverse","centerOffset","arrayMap","arrowStyleLiteral","sizeStyle","cCB","popoverBodyProps","useTheme","trigger","showArrow","delay","raw","arrowPointToCenter","arrowStyle","displayDirective","keepAliveOnHover","scrollable","contentStyle","headerStyle","footerStyle","internalDeactivateImmediately","animated","onClickoutside","internalTrapFocus","internalOnAfterLeave","maxWidth","renderArrow","clsPrefix","NPopoverBody","attrs","namespaceRef","mergedClsPrefixRef","inlineThemeDisabled","useConfig","themeRef","popoverLight","NPopover","bodyRef","followerEnabledRef","displayedRef","watchEffect","navigator","userAgent","directivesRef","directives","positionManuallyRef","positionManually","clickoutside","handleClickOutside","mousemoveoutside","handleMouseMoveOutside","vShow","styleRef","formatLength","cssVarsRef","common","cubicBezierEaseInOut","self","space","spaceArrow","padding","fontSize","textColor","dividerColor","color","boxShadow","borderRadius","arrowHeight","arrowOffset","arrowOffsetVertical","themeClassHandle","useThemeClass","handleMouseEnter","handleMouseLeave","getTriggerElement","setBodyInstance","displayed","namespace","isMounted","zIndexRef","adjustedTo","followerEnabled","renderContentNode","onRender","contentNode","renderBody","internalRenderBodyRef","mergedClsPrefix","themeClass","extraClass","extraClassRef","hasHeaderOrFooter","isSlotEmpty","header","footer","renderContentInnerNode","resolveWrappedSlot","NxScrollbar","contentClass","mergeProps","v","onKeydown","handleKeydown","onMouseenter","onMouseleave","VFocusTrap","Transition","appear","onEnter","onAfterLeave","bodyPropKeys","triggerEventMap","click","hover","manual","nested","popoverBaseProps","defaultShow","getDisabled","onUpdateShow","internalSyncTargetWithParent","internalInheritedEventHandlers","internalExtraClass","onShow","onHide","arrow","internalRenderBody","__popover__","warnOnce","binderInstRef","controlledShowRef","uncontrolledShowRef","mergedShowWithoutDisabledRef","useMergedState","mergedShowConsideringDisabledPropRef","getMergedDisabled","getMergedShow","compatibleShowArrowRef","useCompitable","mergedShowArrowRef","bodyInstance","showTimerIdRef","hideTimerIdRef","doUpdateShow","_onUpdateShow","clearShowTimer","showTimerId","clearTimeout","clearHideTimer","hideTimerId","mergedDisabled","delayCallback","setTimeout","delayedCallback","mergedShowConsideringDisabledProp","uncontrolledShow","mergedShowArrow","setShow","handleClick","handleFocus","handleBlur","triggerVNode","popoverInside","activator","cloneVNode","Text","handlers","onClick","onBlur","ascendantAndCurrentHandlers","mergedHandlers","_handlers","events","eventName","originalHandler","args","mergedShow","inset","$props","$attrs"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70]}