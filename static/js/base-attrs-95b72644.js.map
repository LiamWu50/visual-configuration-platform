{"version":3,"file":"base-attrs-95b72644.js","sources":["../../../src/primitives/base-attrs.tsx"],"sourcesContent":["import { debounce } from 'lodash'\nimport {\n  NCollapse,\n  NCollapseItem,\n  NForm,\n  NFormItem,\n  NInputNumber\n} from 'naive-ui'\n\nimport { useEditorStore } from '@/store/editor'\n\nexport default defineComponent({\n  name: 'BaseAttrs',\n  setup(props, { slots }) {\n    const editorStore = useEditorStore()\n    const { curPrimitive } = storeToRefs(editorStore)\n    const curStyleAttrs = computed(() => curPrimitive.value?.style)\n\n    const baseAttrsSource = [\n      {\n        label: '左边距',\n        type: 'left'\n      },\n      {\n        label: '上边距',\n        type: 'top'\n      },\n      {\n        label: '宽度',\n        type: 'width'\n      },\n      {\n        label: '高度',\n        type: 'height'\n      }\n    ]\n\n    // 动态修改primitive样式\n    const handleChangStyle = debounce((key: string, val: any) => {\n      const locationKeys = ['top', 'left', 'width', 'height']\n      if (locationKeys.includes(key)) {\n        curPrimitive.value?.updateStyleByKey(key, val)\n      }\n    }, 300)\n\n    return () => (\n      <NCollapse default-expanded-names='0' accordion>\n        <NCollapseItem\n          title='基础样式'\n          name='baseAttrs'\n          v-slots={{\n            default: () => (\n              <NForm size='small' labelPlacement='left' labelAlign='left'>\n                {baseAttrsSource.map((item) => (\n                  <NFormItem label={item.label}>\n                    <NInputNumber\n                      v-model:value={curStyleAttrs.value![item.type]}\n                      onUpdateValue={(e) => handleChangStyle(item.type, e)}\n                      max={9999}\n                      min={-9999}\n                      precision={0}\n                      clearable={true}\n                      placeholder={`请输入${item.label}`}\n                    />\n                  </NFormItem>\n                ))}\n              </NForm>\n            )\n          }}\n        ></NCollapseItem>\n        {slots.default?.()}\n      </NCollapse>\n    )\n  }\n})\n"],"names":["BaseAttrs","defineComponent","name","slots","editorStore","useEditorStore","curPrimitive","storeToRefs","label","type","includes","key","accordion","default","title","_slot","size","labelPlacement","labelAlign","s","baseAttrsSource","map","item","_createVNode","NFormItem","value","curStyleAttrs","max","min","precision","clearable","Object","prototype","toString","call","_isVNode","_a"],"mappings":"uSAWA,MAAAA,EAAAC,EAAA,CACEC,KAAAA,2BACeC,IACb,MAAAC,EAAAC,kBACQC,GAAaC,EAAAH,kEAKjBI,MAAAA,MACAC,KAAAA,QACF,CAEED,MAAAA,MACAC,KAAAA,OACF,CAEED,MAAAA,KACAC,KAAAA,SACF,CAEED,MAAAA,KACAC,KAAAA,uEAOFC,SAAAC,gDAEA,uBAGK,yBAAA,IAAAC,WAAA,GAAA,CAAAC,QAAAA,WAAAA,MAAAA,CAAAA,EAAAA,EAAAA,CAAAC,MAAA,OAAAZ,KAAA,cAMCW,QAAAA,KAAS,IAAAE,cAAAC,KAAA,QAAAC,eAAA,OAAAC,WAAA,QA1C0B,mBAAAC,EA0C1BJ,EAAAK,EAAAC,KAAAC,GAAAC,EAAAC,EAAA,CAEqBhB,MAAAc,EAAAd,OACI,CAAAK,QAAAA,IAAAA,CAAAA,EAAAA,EAAAA,CAAAY,MAAAC,EAAAD,MAAAH,EAAAb,yEAG4BkB,IAAA,KAC3CC,KAAA,KACCC,UAAA,EACEC,WAAA,+BAEmB,aArDN,oBAAAC,OAAAC,UAAAC,SAAAC,KAAAf,KAAAgB,EAAAhB,wBAAA,IAAAA,CAwD7B,IAGR,OAAAiB,EAAAjC,EAAAU,cAAA,EAAAuB,EAAAF,KAAA/B,GAAA,GAKR"}