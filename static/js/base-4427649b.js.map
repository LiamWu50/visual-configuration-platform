{"version":3,"file":"base-4427649b.js","sources":["../../../src/primitives/attrs/base.tsx"],"sourcesContent":["import { CaretForwardOutline } from '@vicons/ionicons5'\nimport { debounce } from 'lodash'\nimport {\n  NCollapse,\n  NCollapseItem,\n  NForm,\n  NFormItem,\n  NGi,\n  NGrid,\n  NIcon,\n  NInputNumber\n} from 'naive-ui'\n\nimport { useEditorStore } from '@/store/editor'\n\nexport default defineComponent({\n  name: 'BaseAttrs',\n  setup(props, { slots }) {\n    const editorStore = useEditorStore()\n    const { curPrimitive } = storeToRefs(editorStore)\n    const curStyleAttrs = computed(() => curPrimitive.value?.style)\n\n    const baseAttrsSource = [\n      {\n        label: 'X',\n        type: 'left'\n      },\n      {\n        label: 'Y',\n        type: 'top'\n      },\n      {\n        label: 'W',\n        type: 'width'\n      },\n      {\n        label: 'H',\n        type: 'height'\n      }\n    ]\n\n    // 动态修改primitive样式\n    const handleChangStyle = debounce((key: string, val: any) => {\n      const locationKeys = ['top', 'left', 'width', 'height']\n      if (locationKeys.includes(key)) {\n        curPrimitive.value?.updateStyleByKey(key, val)\n      }\n    }, 300)\n\n    return () => (\n      <NCollapse\n        defaultExpandedNames='baseAttrs'\n        v-slots={{\n          arrow: () => (\n            <NIcon size={12}>\n              <CaretForwardOutline />\n            </NIcon>\n          )\n        }}\n      >\n        <NCollapseItem\n          title='基础样式'\n          name='baseAttrs'\n          v-slots={{\n            default: () => (\n              <NForm size='small' showLabel={false}>\n                <NGrid xGap={12} cols={2}>\n                  {baseAttrsSource.map((item) => (\n                    <NGi>\n                      <NFormItem>\n                        <NInputNumber\n                          v-model:value={curStyleAttrs.value![item.type]}\n                          onUpdateValue={(e) => handleChangStyle(item.type, e)}\n                          max={9999}\n                          min={-9999}\n                          showButton={false}\n                          precision={0}\n                          clearable={true}\n                          placeholder={`请输入${item.label}`}\n                          v-slots={{\n                            prefix: () => item.label\n                          }}\n                        />\n                      </NFormItem>\n                    </NGi>\n                  ))}\n                </NGrid>\n              </NForm>\n            )\n          }}\n        ></NCollapseItem>\n        {slots.default?.()}\n      </NCollapse>\n    )\n  }\n})\n"],"names":["BaseAttrs","defineComponent","name","slots","editorStore","useEditorStore","curPrimitive","storeToRefs","label","type","includes","key","defaultExpandedNames","default","title","_slot","size","xGap","s","baseAttrsSource","map","_createVNode","NGi","value","curStyleAttrs","item","max","min","showButton","precision","clearable","prefix","Object","prototype","toString","call","_isVNode","_a","arrow"],"mappings":"8aAeA,MAAAA,EAAAC,EAAA,CACEC,KAAAA,2BACeC,IACb,MAAAC,EAAAC,kBACQC,GAAaC,EAAAH,kEAKjBI,MAAAA,IACAC,KAAAA,QACF,CAEED,MAAAA,IACAC,KAAAA,OACF,CAEED,MAAAA,IACAC,KAAAA,SACF,CAEED,MAAAA,IACAC,KAAAA,uEAOFC,SAAAC,gDAEA,uBAGKC,qBAAA,aAAA,CAAAC,QAAAA,WAAAA,MAAAA,CAAAA,EAAAA,EAAAA,CAAAC,MAAA,OAAAZ,KAAA,cAeCW,QAAAA,KAAS,IAAAE,cAAAC,KAAA,sBAC6B,CAAAH,QAAAA,KAAAA,OAAAA,EAAAA,EAAAA,CAAAI,KAAA,YApDHC,EAqDPH,EAAAI,EAAAC,KAAAC,GAAAA,EAAAC,EAAA,KAAA,CACIT,QAAAA,IAAAA,CAAAA,EAAAA,EAAAA,KAAAA,CAAAA,QAAAA,IAAAA,CAAAA,EAAAA,EAAAA,CAAAU,MAAAC,EAAAD,MAAAE,EAAAhB,yEAKkCiB,IAAA,KAC3CC,KAAA,KACCC,YAAA,EACOC,UAAA,EACLC,WAAA,gCAIVC,OAAAA,IAAAA,EAAAA,gBAnEmB,mBAAAb,GAAA,oBAAAc,OAAAC,UAAAC,SAAAC,KAAAjB,KAAAkB,EAAAlB,0BAAA,IAAAA,CAwE3B,GAAA,IAIV,OAAAmB,EAAAlC,EAAAU,cAAA,EAAAwB,EAAAF,KAAAhC,GAAA,EApCAmC,MAAAA,IAAAA,EAAAA,EAAAA,UACiB,CAAAzB,QAAAA,IAAAA,CAAAA,EAAAA,EAAAA,KAAAA,UAwCzB"}