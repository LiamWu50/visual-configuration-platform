{"version":3,"file":"RadioGroup-a0c3dee9.js","sources":["../../../node_modules/seemly/es/color/convert.js","../../../node_modules/naive-ui/es/_utils/naive/attribute.js","../../../node_modules/naive-ui/es/_utils/vue/merge-handlers.js","../../../node_modules/naive-ui/es/_utils/event/index.js","../../../node_modules/vueuc/es/shared/finweck-tree.js","../../../node_modules/vueuc/es/virtual-list/src/config.js","../../../node_modules/vueuc/es/virtual-list/src/VirtualList.js","../../../node_modules/vueuc/es/overflow/src/index.js","../../../node_modules/naive-ui/es/_utils/composable/use-resize.js","../../../node_modules/naive-ui/es/_internal/icons/Checkmark.js","../../../node_modules/naive-ui/es/_internal/icons/Empty.js","../../../node_modules/naive-ui/es/_internal/focus-detector/src/FocusDetector.js","../../../node_modules/naive-ui/es/empty/src/styles/index.cssr.js","../../../node_modules/naive-ui/es/empty/src/Empty.js","../../../node_modules/naive-ui/es/_internal/select-menu/src/SelectOption.js","../../../node_modules/naive-ui/es/_internal/select-menu/src/SelectGroupHeader.js","../../../node_modules/naive-ui/es/_internal/select-menu/src/styles/index.cssr.js","../../../node_modules/naive-ui/es/_internal/select-menu/src/SelectMenu.js","../../../node_modules/naive-ui/es/_internal/selection/src/styles/index.cssr.js","../../../node_modules/naive-ui/es/_internal/selection/src/Selection.js","../../../node_modules/naive-ui/es/select/src/utils.js","../../../node_modules/naive-ui/es/input/src/styles/input-group.cssr.js","../../../node_modules/naive-ui/es/input/src/InputGroup.js","../../../node_modules/naive-ui/es/color-picker/src/utils.js","../../../node_modules/naive-ui/es/color-picker/src/HueSlider.js","../../../node_modules/naive-ui/es/color-picker/src/AlphaSlider.js","../../../node_modules/naive-ui/es/color-picker/src/Pallete.js","../../../node_modules/naive-ui/es/color-picker/src/context.js","../../../node_modules/naive-ui/es/color-picker/src/ColorInputUnit.js","../../../node_modules/naive-ui/es/color-picker/src/ColorInput.js","../../../node_modules/naive-ui/es/color-picker/src/ColorPickerTrigger.js","../../../node_modules/naive-ui/es/color-picker/src/ColorPickerSwatches.js","../../../node_modules/naive-ui/es/color-picker/src/ColorPreview.js","../../../node_modules/naive-ui/es/color-picker/src/styles/index.cssr.js","../../../node_modules/naive-ui/es/color-picker/src/ColorPicker.js","../../../node_modules/naive-ui/es/select/src/styles/index.cssr.js","../../../node_modules/naive-ui/es/select/src/Select.js","../../../node_modules/naive-ui/es/radio/styles/light.js","../../../node_modules/naive-ui/es/radio/src/use-radio.js","../../../node_modules/naive-ui/es/radio/src/styles/radio-group.cssr.js","../../../node_modules/naive-ui/es/radio/src/RadioGroup.js"],"sourcesContent":["// All the algorithms credit to https://stackoverflow.com/questions/36721830/convert-hsl-to-rgb-and-hex/54014428#54014428\n// original author: Kamil KieÅ‚czewski\n/**\n * @param h 360\n * @param s 100\n * @param l 100\n * @returns [h, s, v] 360, 100, 100\n */\nexport function hsl2hsv(h, s, l) {\n    s /= 100;\n    l /= 100;\n    const v = s * Math.min(l, 1 - l) + l;\n    return [h, v ? (2 - (2 * l) / v) * 100 : 0, v * 100];\n}\n/**\n * @param h 360\n * @param s 100\n * @param v 100\n * @returns [h, s, l] 360, 100, 100\n */\nexport function hsv2hsl(h, s, v) {\n    s /= 100;\n    v /= 100;\n    const l = v - (v * s) / 2;\n    const m = Math.min(l, 1 - l);\n    return [h, m ? ((v - l) / m) * 100 : 0, l * 100];\n}\n/**\n * @param h 360\n * @param s 100\n * @param v 100\n * @returns [r, g, b] 255, 255, 255\n */\nexport function hsv2rgb(h, s, v) {\n    s /= 100;\n    v /= 100;\n    let f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);\n    return [f(5) * 255, f(3) * 255, f(1) * 255];\n}\n/**\n * @param r 255\n * @param g 255\n * @param b 255\n * @returns [360, 100, 100]\n */\nexport function rgb2hsv(r, g, b) {\n    r /= 255;\n    g /= 255;\n    b /= 255;\n    let v = Math.max(r, g, b), c = v - Math.min(r, g, b);\n    let h = c && (v == r ? (g - b) / c : v == g ? 2 + (b - r) / c : 4 + (r - g) / c);\n    return [60 * (h < 0 ? h + 6 : h), v && (c / v) * 100, v * 100];\n}\n/**\n * @param r 255\n * @param g 255\n * @param b 255\n * @returns [360, 100, 100]\n */\nexport function rgb2hsl(r, g, b) {\n    r /= 255;\n    g /= 255;\n    b /= 255;\n    let v = Math.max(r, g, b), c = v - Math.min(r, g, b), f = 1 - Math.abs(v + v - c - 1);\n    let h = c && (v == r ? (g - b) / c : v == g ? 2 + (b - r) / c : 4 + (r - g) / c);\n    return [60 * (h < 0 ? h + 6 : h), f ? (c / f) * 100 : 0, (v + v - c) * 50];\n}\n/**\n * @param h 360\n * @param s 100\n * @param l 100\n * @returns [255, 255, 255]\n */\nexport function hsl2rgb(h, s, l) {\n    s /= 100;\n    l /= 100;\n    let a = s * Math.min(l, 1 - l);\n    let f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n    return [f(0) * 255, f(8) * 255, f(4) * 255];\n}\n","export function getTitleAttribute(value) {\n    switch (typeof value) {\n        case 'string':\n            // The empty string should also be reset to undefined.\n            return value || undefined;\n        case 'number':\n            return String(value);\n        default:\n            return undefined;\n    }\n}\n","export function mergeEventHandlers(handlers) {\n    const filteredHandlers = handlers.filter((handler) => handler !== undefined);\n    if (filteredHandlers.length === 0)\n        return undefined;\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    if (filteredHandlers.length === 1)\n        return filteredHandlers[0];\n    return (e) => {\n        handlers.forEach((handler) => {\n            if (handler) {\n                handler(e);\n            }\n        });\n    };\n}\n","const eventSet = new WeakSet();\nexport function markEventEffectPerformed(event) {\n    eventSet.add(event);\n}\nexport function eventEffectNotPerformed(event) {\n    return !eventSet.has(event);\n}\n","function lowBit(n) {\n    return n & -n;\n}\nexport class FinweckTree {\n    /**\n     * @param l length of the array\n     * @param min min value of the array\n     */\n    constructor(l, min) {\n        this.l = l;\n        this.min = min;\n        const ft = new Array(l + 1);\n        for (let i = 0; i < l + 1; ++i) {\n            ft[i] = 0;\n        }\n        this.ft = ft;\n    }\n    /**\n     * Add arr[i] by n, start from 0\n     * @param i the index of the element to be added\n     * @param n the value to be added\n     */\n    add(i, n) {\n        if (n === 0)\n            return;\n        const { l, ft } = this;\n        i += 1;\n        while (i <= l) {\n            ft[i] += n;\n            i += lowBit(i);\n        }\n    }\n    /**\n     * Get the value of index i\n     * @param i index\n     * @returns value of the index\n     */\n    get(i) {\n        return this.sum(i + 1) - this.sum(i);\n    }\n    /**\n     * Get the sum of first i elements\n     * @param i count of head elements to be added\n     * @returns the sum of first i elements\n     */\n    sum(i) {\n        if (i === undefined)\n            i = this.l;\n        if (i <= 0)\n            return 0;\n        const { ft, min, l } = this;\n        if (i > l)\n            throw new Error('[FinweckTree.sum]: `i` is larger than length.');\n        let ret = i * min;\n        while (i > 0) {\n            ret += ft[i];\n            i -= lowBit(i);\n        }\n        return ret;\n    }\n    /**\n     * Get the largest count of head elements whose sum are <= threshold\n     * @param threshold\n     * @returns the largest count of head elements whose sum are <= threshold\n     */\n    getBound(threshold) {\n        let l = 0;\n        let r = this.l;\n        while (r > l) {\n            const m = Math.floor((l + r) / 2);\n            const sumM = this.sum(m);\n            if (sumM > threshold) {\n                r = m;\n                continue;\n            }\n            else if (sumM < threshold) {\n                if (l === m) {\n                    if (this.sum(l + 1) <= threshold)\n                        return l + 1;\n                    return m;\n                }\n                l = m;\n            }\n            else {\n                return m;\n            }\n        }\n        return l;\n    }\n}\n","let maybeTouch;\nexport function ensureMaybeTouch() {\n    if (maybeTouch === undefined) {\n        if ('matchMedia' in window) {\n            maybeTouch = window.matchMedia('(pointer:coarse)').matches;\n        }\n        else {\n            maybeTouch = false;\n        }\n    }\n    return maybeTouch;\n}\nlet wheelScale;\nexport function ensureWheelScale() {\n    if (wheelScale === undefined) {\n        wheelScale = 'chrome' in window\n            ? window.devicePixelRatio\n            : 1;\n    }\n    return wheelScale;\n}\n","/* eslint-disable no-void */\n/* eslint-disable @typescript-eslint/restrict-plus-operands */\nimport { mergeProps, computed, defineComponent, ref, onMounted, h, onActivated, onDeactivated } from 'vue';\nimport { beforeNextFrameOnce, depx, pxfy } from 'seemly';\nimport { useMemo } from 'vooks';\nimport { useSsrAdapter } from '@css-render/vue3-ssr';\nimport VResizeObserver from '../../resize-observer/src/VResizeObserver';\nimport { c, cssrAnchorMetaName, FinweckTree } from '../../shared';\nimport { ensureMaybeTouch, ensureWheelScale } from './config';\nconst styles = c('.v-vl', {\n    maxHeight: 'inherit',\n    height: '100%',\n    overflow: 'auto',\n    minWidth: '1px' // a zero width container won't be scrollable\n}, [\n    c('&:not(.v-vl--show-scrollbar)', {\n        scrollbarWidth: 'none'\n    }, [\n        c('&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb', {\n            width: 0,\n            height: 0,\n            display: 'none'\n        })\n    ])\n]);\nexport default defineComponent({\n    name: 'VirtualList',\n    inheritAttrs: false,\n    props: {\n        showScrollbar: {\n            type: Boolean,\n            default: true\n        },\n        items: {\n            type: Array,\n            default: () => []\n        },\n        // it is suppose to be the min height\n        itemSize: {\n            type: Number,\n            required: true\n        },\n        itemResizable: Boolean,\n        itemsStyle: [String, Object],\n        visibleItemsTag: {\n            type: [String, Object],\n            default: 'div'\n        },\n        visibleItemsProps: Object,\n        ignoreItemResize: Boolean,\n        onScroll: Function,\n        onWheel: Function,\n        onResize: Function,\n        defaultScrollKey: [Number, String],\n        defaultScrollIndex: Number,\n        keyField: {\n            type: String,\n            default: 'key'\n        },\n        // Whether it is a good API?\n        // ResizeObserver + footer & header is not enough.\n        // Too complex for simple case\n        paddingTop: {\n            type: [Number, String],\n            default: 0\n        },\n        paddingBottom: {\n            type: [Number, String],\n            default: 0\n        }\n    },\n    setup(props) {\n        const ssrAdapter = useSsrAdapter();\n        styles.mount({\n            id: 'vueuc/virtual-list',\n            head: true,\n            anchorMetaName: cssrAnchorMetaName,\n            ssr: ssrAdapter\n        });\n        onMounted(() => {\n            const { defaultScrollIndex, defaultScrollKey } = props;\n            if (defaultScrollIndex !== undefined && defaultScrollIndex !== null) {\n                scrollTo({ index: defaultScrollIndex });\n            }\n            else if (defaultScrollKey !== undefined && defaultScrollKey !== null) {\n                scrollTo({ key: defaultScrollKey });\n            }\n        });\n        let isDeactivated = false;\n        let activateStateInitialized = false;\n        onActivated(() => {\n            isDeactivated = false;\n            if (!activateStateInitialized) {\n                activateStateInitialized = true;\n                return;\n            }\n            // remount\n            scrollTo({ top: scrollTopRef.value, left: scrollLeft });\n        });\n        onDeactivated(() => {\n            isDeactivated = true;\n            if (!activateStateInitialized) {\n                activateStateInitialized = true;\n            }\n        });\n        const keyIndexMapRef = computed(() => {\n            const map = new Map();\n            const { keyField } = props;\n            props.items.forEach((item, index) => {\n                map.set(item[keyField], index);\n            });\n            return map;\n        });\n        const listElRef = ref(null);\n        const listHeightRef = ref(undefined);\n        const keyToHeightOffset = new Map();\n        const finweckTreeRef = computed(() => {\n            const { items, itemSize, keyField } = props;\n            const ft = new FinweckTree(items.length, itemSize);\n            items.forEach((item, index) => {\n                const key = item[keyField];\n                const heightOffset = keyToHeightOffset.get(key);\n                if (heightOffset !== undefined) {\n                    ft.add(index, heightOffset);\n                }\n            });\n            return ft;\n        });\n        const finweckTreeUpdateTrigger = ref(0);\n        let scrollLeft = 0;\n        const scrollTopRef = ref(0);\n        const startIndexRef = useMemo(() => {\n            return Math.max(finweckTreeRef.value.getBound(scrollTopRef.value - depx(props.paddingTop)) - 1, 0);\n        });\n        const viewportItemsRef = computed(() => {\n            const { value: listHeight } = listHeightRef;\n            if (listHeight === undefined)\n                return [];\n            const { items, itemSize } = props;\n            const startIndex = startIndexRef.value;\n            const endIndex = Math.min(startIndex + Math.ceil(listHeight / itemSize + 1), items.length - 1);\n            const viewportItems = [];\n            for (let i = startIndex; i <= endIndex; ++i) {\n                viewportItems.push(items[i]);\n            }\n            return viewportItems;\n        });\n        const scrollTo = (options, y) => {\n            if (typeof options === 'number') {\n                scrollToPosition(options, y, 'auto');\n                return;\n            }\n            const { left, top, index, key, position, behavior, debounce = true } = options;\n            if (left !== undefined || top !== undefined) {\n                scrollToPosition(left, top, behavior);\n            }\n            else if (index !== undefined) {\n                scrollToIndex(index, behavior, debounce);\n            }\n            else if (key !== undefined) {\n                const toIndex = keyIndexMapRef.value.get(key);\n                if (toIndex !== undefined)\n                    scrollToIndex(toIndex, behavior, debounce);\n            }\n            else if (position === 'bottom') {\n                scrollToPosition(0, Number.MAX_SAFE_INTEGER, behavior);\n            }\n            else if (position === 'top') {\n                scrollToPosition(0, 0, behavior);\n            }\n        };\n        let anchorIndex;\n        let anchorTimerId = null;\n        function scrollToIndex(index, behavior, debounce) {\n            const { value: ft } = finweckTreeRef;\n            const targetTop = ft.sum(index) + depx(props.paddingTop);\n            if (!debounce) {\n                listElRef.value.scrollTo({\n                    left: 0,\n                    top: targetTop,\n                    behavior\n                });\n            }\n            else {\n                anchorIndex = index;\n                if (anchorTimerId !== null) {\n                    window.clearTimeout(anchorTimerId);\n                }\n                anchorTimerId = window.setTimeout(() => {\n                    anchorIndex = undefined;\n                    anchorTimerId = null;\n                }, 16); // use 0 ms may be ealier than resize callback...\n                const { scrollTop, offsetHeight } = listElRef.value;\n                if (targetTop > scrollTop) {\n                    const itemSize = ft.get(index);\n                    if (targetTop + itemSize <= scrollTop + offsetHeight) {\n                        // do nothing\n                    }\n                    else {\n                        listElRef.value.scrollTo({\n                            left: 0,\n                            top: targetTop + itemSize - offsetHeight,\n                            behavior\n                        });\n                    }\n                }\n                else {\n                    listElRef.value.scrollTo({\n                        left: 0,\n                        top: targetTop,\n                        behavior\n                    });\n                }\n            }\n        }\n        function scrollToPosition(left, top, behavior) {\n            listElRef.value.scrollTo({\n                left,\n                top,\n                behavior\n            });\n        }\n        function handleItemResize(key, entry) {\n            var _a, _b, _c;\n            if (isDeactivated)\n                return;\n            if (props.ignoreItemResize)\n                return;\n            if (isHideByVShow(entry.target))\n                return;\n            const { value: ft } = finweckTreeRef;\n            const index = keyIndexMapRef.value.get(key);\n            const previousHeight = ft.get(index);\n            const height = (_c = (_b = (_a = entry.borderBoxSize) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.blockSize) !== null && _c !== void 0 ? _c : entry.contentRect.height;\n            if (height === previousHeight)\n                return;\n            // height offset based on itemSize\n            // used when rebuild the finweck tree\n            const offset = height - props.itemSize;\n            if (offset === 0) {\n                keyToHeightOffset.delete(key);\n            }\n            else {\n                keyToHeightOffset.set(key, height - props.itemSize);\n            }\n            // delta height based on finweck tree data\n            const delta = height - previousHeight;\n            if (delta === 0)\n                return;\n            ft.add(index, delta);\n            const listEl = listElRef.value;\n            if (listEl != null) {\n                if (anchorIndex === undefined) {\n                    const previousHeightSum = ft.sum(index);\n                    if (listEl.scrollTop > previousHeightSum) {\n                        listEl.scrollBy(0, delta);\n                    }\n                }\n                else {\n                    if (index < anchorIndex) {\n                        listEl.scrollBy(0, delta);\n                    }\n                    else if (index === anchorIndex) {\n                        const previousHeightSum = ft.sum(index);\n                        if (height + previousHeightSum >\n                            // Note, listEl shouldn't have border, nor offsetHeight won't be\n                            // correct\n                            listEl.scrollTop + listEl.offsetHeight) {\n                            listEl.scrollBy(0, delta);\n                        }\n                    }\n                }\n                syncViewport();\n            }\n            finweckTreeUpdateTrigger.value++;\n        }\n        const mayUseWheel = !ensureMaybeTouch();\n        let wheelCatched = false;\n        function handleListScroll(e) {\n            var _a;\n            (_a = props.onScroll) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            if (!mayUseWheel || !wheelCatched) {\n                syncViewport();\n            }\n        }\n        function handleListWheel(e) {\n            var _a;\n            (_a = props.onWheel) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            if (mayUseWheel) {\n                const listEl = listElRef.value;\n                if (listEl != null) {\n                    if (e.deltaX === 0) {\n                        if (listEl.scrollTop === 0 && e.deltaY <= 0) {\n                            return;\n                        }\n                        if (listEl.scrollTop + listEl.offsetHeight >= listEl.scrollHeight &&\n                            e.deltaY >= 0) {\n                            return;\n                        }\n                    }\n                    e.preventDefault();\n                    listEl.scrollTop += e.deltaY / ensureWheelScale();\n                    listEl.scrollLeft += e.deltaX / ensureWheelScale();\n                    syncViewport();\n                    wheelCatched = true;\n                    beforeNextFrameOnce(() => {\n                        wheelCatched = false;\n                    });\n                }\n            }\n        }\n        function handleListResize(entry) {\n            if (isDeactivated)\n                return;\n            // List is HTMLElement\n            if (isHideByVShow(entry.target))\n                return;\n            // If height is same, return\n            if (entry.contentRect.height === listHeightRef.value)\n                return;\n            listHeightRef.value = entry.contentRect.height;\n            const { onResize } = props;\n            if (onResize !== undefined)\n                onResize(entry);\n        }\n        function syncViewport() {\n            const { value: listEl } = listElRef;\n            // sometime ref el can be null\n            // https://github.com/TuSimple/naive-ui/issues/811\n            if (listEl == null)\n                return;\n            scrollTopRef.value = listEl.scrollTop;\n            scrollLeft = listEl.scrollLeft;\n        }\n        function isHideByVShow(el) {\n            let cursor = el;\n            while (cursor !== null) {\n                if (cursor.style.display === 'none')\n                    return true;\n                cursor = cursor.parentElement;\n            }\n            return false;\n        }\n        return {\n            listHeight: listHeightRef,\n            listStyle: {\n                overflow: 'auto'\n            },\n            keyToIndex: keyIndexMapRef,\n            itemsStyle: computed(() => {\n                const { itemResizable } = props;\n                const height = pxfy(finweckTreeRef.value.sum());\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                finweckTreeUpdateTrigger.value;\n                return [\n                    props.itemsStyle,\n                    {\n                        boxSizing: 'content-box',\n                        height: itemResizable ? '' : height,\n                        minHeight: itemResizable ? height : '',\n                        paddingTop: pxfy(props.paddingTop),\n                        paddingBottom: pxfy(props.paddingBottom)\n                    }\n                ];\n            }),\n            visibleItemsStyle: computed(() => {\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                finweckTreeUpdateTrigger.value;\n                return {\n                    transform: `translateY(${pxfy(finweckTreeRef.value.sum(startIndexRef.value))})`\n                };\n            }),\n            viewportItems: viewportItemsRef,\n            listElRef,\n            itemsElRef: ref(null),\n            scrollTo,\n            handleListResize,\n            handleListScroll,\n            handleListWheel,\n            handleItemResize\n        };\n    },\n    render() {\n        const { itemResizable, keyField, keyToIndex, visibleItemsTag } = this;\n        return h(VResizeObserver, {\n            onResize: this.handleListResize\n        }, {\n            default: () => {\n                var _a, _b;\n                return h('div', mergeProps(this.$attrs, {\n                    class: ['v-vl', this.showScrollbar && 'v-vl--show-scrollbar'],\n                    onScroll: this.handleListScroll,\n                    onWheel: this.handleListWheel,\n                    ref: 'listElRef'\n                }), [\n                    this.items.length !== 0\n                        ? h('div', {\n                            ref: 'itemsElRef',\n                            class: 'v-vl-items',\n                            style: this.itemsStyle\n                        }, [\n                            h(visibleItemsTag, Object.assign({\n                                class: 'v-vl-visible-items',\n                                style: this.visibleItemsStyle\n                            }, this.visibleItemsProps), {\n                                default: () => this.viewportItems.map((item) => {\n                                    const key = item[keyField];\n                                    const index = keyToIndex.get(key);\n                                    const itemVNode = this.$slots.default({\n                                        item,\n                                        index\n                                    })[0];\n                                    if (itemResizable) {\n                                        return h(VResizeObserver, {\n                                            key,\n                                            onResize: (entry) => this.handleItemResize(key, entry)\n                                        }, {\n                                            default: () => itemVNode\n                                        });\n                                    }\n                                    itemVNode.key = key;\n                                    return itemVNode;\n                                })\n                            })\n                        ])\n                        : (_b = (_a = this.$slots).empty) === null || _b === void 0 ? void 0 : _b.call(_a)\n                ]);\n            }\n        });\n    }\n});\n","/* eslint-disable @typescript-eslint/strict-boolean-expressions */\nimport { defineComponent, renderSlot, h, onMounted, ref, nextTick } from 'vue';\nimport { useSsrAdapter } from '@css-render/vue3-ssr';\nimport { c, cssrAnchorMetaName } from '../../shared';\nconst hiddenAttr = 'v-hidden';\nconst style = c('[v-hidden]', {\n    display: 'none!important'\n});\nexport default defineComponent({\n    name: 'Overflow',\n    props: {\n        getCounter: Function,\n        getTail: Function,\n        updateCounter: Function,\n        onUpdateOverflow: Function\n    },\n    setup(props, { slots }) {\n        const selfRef = ref(null);\n        const counterRef = ref(null);\n        function deriveCounter() {\n            const { value: self } = selfRef;\n            const { getCounter, getTail } = props;\n            let counter;\n            if (getCounter !== undefined)\n                counter = getCounter();\n            else {\n                counter = counterRef.value;\n            }\n            if (!self || !counter)\n                return;\n            if (counter.hasAttribute(hiddenAttr)) {\n                counter.removeAttribute(hiddenAttr);\n            }\n            const { children } = self;\n            const containerWidth = self.offsetWidth;\n            const childWidths = [];\n            const tail = slots.tail ? getTail === null || getTail === void 0 ? void 0 : getTail() : null;\n            let childWidthSum = tail ? tail.offsetWidth : 0;\n            let overflow = false;\n            const len = self.children.length - (slots.tail ? 1 : 0);\n            for (let i = 0; i < len - 1; ++i) {\n                if (i < 0)\n                    continue;\n                const child = children[i];\n                if (overflow) {\n                    if (!child.hasAttribute(hiddenAttr)) {\n                        child.setAttribute(hiddenAttr, '');\n                    }\n                    continue;\n                }\n                else if (child.hasAttribute(hiddenAttr)) {\n                    child.removeAttribute(hiddenAttr);\n                }\n                const childWidth = child.offsetWidth;\n                childWidthSum += childWidth;\n                childWidths[i] = childWidth;\n                if (childWidthSum > containerWidth) {\n                    const { updateCounter } = props;\n                    for (let j = i; j >= 0; --j) {\n                        const restCount = len - 1 - j;\n                        if (updateCounter !== undefined) {\n                            updateCounter(restCount);\n                        }\n                        else {\n                            counter.textContent = `${restCount}`;\n                        }\n                        const counterWidth = counter.offsetWidth;\n                        childWidthSum -= childWidths[j];\n                        if (childWidthSum + counterWidth <= containerWidth || j === 0) {\n                            overflow = true;\n                            i = j - 1;\n                            if (tail) {\n                                // tail too long or 1st element too long\n                                // we only consider tail now\n                                if (i === -1) {\n                                    tail.style.maxWidth = `${containerWidth - counterWidth}px`;\n                                    tail.style.boxSizing = 'border-box';\n                                }\n                                else {\n                                    tail.style.maxWidth = '';\n                                }\n                            }\n                            break;\n                        }\n                    }\n                }\n            }\n            const { onUpdateOverflow } = props;\n            if (!overflow) {\n                if (onUpdateOverflow !== undefined) {\n                    onUpdateOverflow(false);\n                }\n                counter.setAttribute(hiddenAttr, '');\n            }\n            else {\n                if (onUpdateOverflow !== undefined) {\n                    onUpdateOverflow(true);\n                }\n            }\n        }\n        const ssrAdapter = useSsrAdapter();\n        style.mount({\n            id: 'vueuc/overflow',\n            head: true,\n            anchorMetaName: cssrAnchorMetaName,\n            ssr: ssrAdapter\n        });\n        onMounted(deriveCounter);\n        // besides onMounted, other case should be manually triggered, or we shoud watch items\n        return {\n            selfRef,\n            counterRef,\n            sync: deriveCounter\n        };\n    },\n    render() {\n        const { $slots } = this;\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        nextTick(this.sync);\n        // It shouldn't have border\n        return h('div', {\n            class: 'v-overflow',\n            ref: 'selfRef'\n        }, [\n            renderSlot($slots, 'default'),\n            // $slots.counter should only has 1 element\n            $slots.counter\n                ? $slots.counter()\n                : h('span', {\n                    style: {\n                        display: 'inline-block'\n                    },\n                    ref: 'counterRef'\n                }),\n            // $slots.tail should only has 1 element\n            $slots.tail ? $slots.tail() : null\n        ]);\n    }\n});\n","import { onBeforeUnmount, onMounted } from 'vue';\nimport { resizeObserverManager } from 'vueuc';\nexport function useOnResize(elRef, onResize) {\n    // it needn't be reactive since it's for internal usage\n    if (onResize) {\n        onMounted(() => {\n            const { value: el } = elRef;\n            if (el) {\n                resizeObserverManager.registerHandler(el, onResize);\n            }\n        });\n        onBeforeUnmount(() => {\n            const { value: el } = elRef;\n            if (el) {\n                resizeObserverManager.unregisterHandler(el);\n            }\n        });\n    }\n}\n","import { h, defineComponent } from 'vue';\nexport default defineComponent({\n    name: 'Checkmark',\n    render() {\n        return (h(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 16 16\" },\n            h(\"g\", { fill: \"none\" },\n                h(\"path\", { d: \"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032z\", fill: \"currentColor\" }))));\n    }\n});\n","import { h, defineComponent } from 'vue';\nexport default defineComponent({\n    name: 'Empty',\n    render() {\n        return (h(\"svg\", { viewBox: \"0 0 28 28\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n            h(\"path\", { d: \"M26 7.5C26 11.0899 23.0899 14 19.5 14C15.9101 14 13 11.0899 13 7.5C13 3.91015 15.9101 1 19.5 1C23.0899 1 26 3.91015 26 7.5ZM16.8536 4.14645C16.6583 3.95118 16.3417 3.95118 16.1464 4.14645C15.9512 4.34171 15.9512 4.65829 16.1464 4.85355L18.7929 7.5L16.1464 10.1464C15.9512 10.3417 15.9512 10.6583 16.1464 10.8536C16.3417 11.0488 16.6583 11.0488 16.8536 10.8536L19.5 8.20711L22.1464 10.8536C22.3417 11.0488 22.6583 11.0488 22.8536 10.8536C23.0488 10.6583 23.0488 10.3417 22.8536 10.1464L20.2071 7.5L22.8536 4.85355C23.0488 4.65829 23.0488 4.34171 22.8536 4.14645C22.6583 3.95118 22.3417 3.95118 22.1464 4.14645L19.5 6.79289L16.8536 4.14645Z\", fill: \"currentColor\" }),\n            h(\"path\", { d: \"M25 22.75V12.5991C24.5572 13.0765 24.053 13.4961 23.5 13.8454V16H17.5L17.3982 16.0068C17.0322 16.0565 16.75 16.3703 16.75 16.75C16.75 18.2688 15.5188 19.5 14 19.5C12.4812 19.5 11.25 18.2688 11.25 16.75L11.2432 16.6482C11.1935 16.2822 10.8797 16 10.5 16H4.5V7.25C4.5 6.2835 5.2835 5.5 6.25 5.5H12.2696C12.4146 4.97463 12.6153 4.47237 12.865 4H6.25C4.45507 4 3 5.45507 3 7.25V22.75C3 24.5449 4.45507 26 6.25 26H21.75C23.5449 26 25 24.5449 25 22.75ZM4.5 22.75V17.5H9.81597L9.85751 17.7041C10.2905 19.5919 11.9808 21 14 21L14.215 20.9947C16.2095 20.8953 17.842 19.4209 18.184 17.5H23.5V22.75C23.5 23.7165 22.7165 24.5 21.75 24.5H6.25C5.2835 24.5 4.5 23.7165 4.5 22.75Z\", fill: \"currentColor\" })));\n    }\n});\n","import { h, defineComponent } from 'vue';\nexport default defineComponent({\n    props: {\n        onFocus: Function,\n        onBlur: Function\n    },\n    setup(props) {\n        return () => (h(\"div\", { style: \"width: 0; height: 0\", tabindex: 0, onFocus: props.onFocus, onBlur: props.onBlur }));\n    }\n});\n","import { c, cB, cE } from '../../../_utils/cssr';\n// vars:\n// --n-font-size\n// --n-icon-size\n// --n-icon-color\n// --n-bezier\n// --n-text-color\n// --n-extra-text-color\nexport default cB('empty', `\n display: flex;\n flex-direction: column;\n align-items: center;\n font-size: var(--n-font-size);\n`, [cE('icon', `\n width: var(--n-icon-size);\n height: var(--n-icon-size);\n font-size: var(--n-icon-size);\n line-height: var(--n-icon-size);\n color: var(--n-icon-color);\n transition:\n color .3s var(--n-bezier);\n `, [c('+', [cE('description', `\n margin-top: 8px;\n `)])]), cE('description', `\n transition: color .3s var(--n-bezier);\n color: var(--n-text-color);\n `), cE('extra', `\n text-align: center;\n transition: color .3s var(--n-bezier);\n margin-top: 12px;\n color: var(--n-extra-text-color);\n `)]);","import { h, defineComponent, computed, inject } from 'vue';\nimport { configProviderInjectionKey } from '../../config-provider/src/context';\nimport { NBaseIcon } from '../../_internal/icon';\nimport { EmptyIcon } from '../../_internal/icons';\nimport { useConfig, useLocale, useTheme, useThemeClass } from '../../_mixins';\nimport { createKey } from '../../_utils';\nimport { emptyLight } from '../styles';\nimport style from './styles/index.cssr';\nexport const emptyProps = Object.assign(Object.assign({}, useTheme.props), { description: String, showDescription: {\n        type: Boolean,\n        default: true\n    }, showIcon: {\n        type: Boolean,\n        default: true\n    }, size: {\n        type: String,\n        default: 'medium'\n    }, renderIcon: Function });\nexport default defineComponent({\n    name: 'Empty',\n    props: emptyProps,\n    setup(props) {\n        const { mergedClsPrefixRef, inlineThemeDisabled } = useConfig(props);\n        const themeRef = useTheme('Empty', '-empty', style, emptyLight, props, mergedClsPrefixRef);\n        const { localeRef } = useLocale('Empty');\n        const NConfigProvider = inject(configProviderInjectionKey, null);\n        const mergedDescriptionRef = computed(() => {\n            var _a, _b, _c;\n            return ((_a = props.description) !== null && _a !== void 0 ? _a : (_c = (_b = NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedComponentPropsRef.value) === null || _b === void 0 ? void 0 : _b.Empty) === null || _c === void 0 ? void 0 : _c.description);\n        });\n        const mergedRenderIconRef = computed(() => {\n            var _a, _b;\n            return ((_b = (_a = NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedComponentPropsRef.value) === null || _a === void 0 ? void 0 : _a.Empty) === null || _b === void 0 ? void 0 : _b.renderIcon) ||\n                (() => h(EmptyIcon, null));\n        });\n        const cssVarsRef = computed(() => {\n            const { size } = props;\n            const { common: { cubicBezierEaseInOut }, self: { [createKey('iconSize', size)]: iconSize, [createKey('fontSize', size)]: fontSize, textColor, iconColor, extraTextColor } } = themeRef.value;\n            return {\n                '--n-icon-size': iconSize,\n                '--n-font-size': fontSize,\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-text-color': textColor,\n                '--n-icon-color': iconColor,\n                '--n-extra-text-color': extraTextColor\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('empty', computed(() => {\n                let hash = '';\n                const { size } = props;\n                hash += size[0];\n                return hash;\n            }), cssVarsRef, props)\n            : undefined;\n        return {\n            mergedClsPrefix: mergedClsPrefixRef,\n            mergedRenderIcon: mergedRenderIconRef,\n            localizedDescription: computed(() => {\n                return mergedDescriptionRef.value || localeRef.value.description;\n            }),\n            cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n            themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n            onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n        };\n    },\n    render() {\n        const { $slots, mergedClsPrefix, onRender } = this;\n        onRender === null || onRender === void 0 ? void 0 : onRender();\n        return (h(\"div\", { class: [`${mergedClsPrefix}-empty`, this.themeClass], style: this.cssVars },\n            this.showIcon ? (h(\"div\", { class: `${mergedClsPrefix}-empty__icon` }, $slots.icon ? ($slots.icon()) : (h(NBaseIcon, { clsPrefix: mergedClsPrefix }, { default: this.mergedRenderIcon })))) : null,\n            this.showDescription ? (h(\"div\", { class: `${mergedClsPrefix}-empty__description` }, $slots.default ? $slots.default() : this.localizedDescription)) : null,\n            $slots.extra ? (h(\"div\", { class: `${mergedClsPrefix}-empty__extra` }, $slots.extra())) : null));\n    }\n});\n","import { h, inject, defineComponent, Transition } from 'vue';\nimport { useMemo } from 'vooks';\nimport { render, mergeEventHandlers } from '../../../_utils';\nimport { CheckmarkIcon } from '../../icons';\nimport { NBaseIcon } from '../../icon';\nimport { internalSelectionMenuInjectionKey } from './interface';\nfunction renderCheckMark(show, clsPrefix) {\n    return (h(Transition, { name: \"fade-in-scale-up-transition\" }, {\n        default: () => show ? (h(NBaseIcon, { clsPrefix: clsPrefix, class: `${clsPrefix}-base-select-option__check` }, {\n            default: () => h(CheckmarkIcon)\n        })) : null\n    }));\n}\nexport default defineComponent({\n    name: 'NBaseSelectOption',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        tmNode: {\n            type: Object,\n            required: true\n        }\n    },\n    setup(props) {\n        const { valueRef, pendingTmNodeRef, multipleRef, valueSetRef, renderLabelRef, renderOptionRef, labelFieldRef, valueFieldRef, showCheckmarkRef, nodePropsRef, handleOptionClick, handleOptionMouseEnter\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n         } = inject(internalSelectionMenuInjectionKey);\n        const isPendingRef = useMemo(() => {\n            const { value: pendingTmNode } = pendingTmNodeRef;\n            if (!pendingTmNode)\n                return false;\n            return props.tmNode.key === pendingTmNode.key;\n        });\n        function handleClick(e) {\n            const { tmNode } = props;\n            if (tmNode.disabled)\n                return;\n            handleOptionClick(e, tmNode);\n        }\n        function handleMouseEnter(e) {\n            const { tmNode } = props;\n            if (tmNode.disabled)\n                return;\n            handleOptionMouseEnter(e, tmNode);\n        }\n        function handleMouseMove(e) {\n            const { tmNode } = props;\n            const { value: isPending } = isPendingRef;\n            if (tmNode.disabled || isPending)\n                return;\n            handleOptionMouseEnter(e, tmNode);\n        }\n        return {\n            multiple: multipleRef,\n            isGrouped: useMemo(() => {\n                const { tmNode } = props;\n                const { parent } = tmNode;\n                return parent && parent.rawNode.type === 'group';\n            }),\n            showCheckmark: showCheckmarkRef,\n            nodeProps: nodePropsRef,\n            isPending: isPendingRef,\n            isSelected: useMemo(() => {\n                const { value } = valueRef;\n                const { value: multiple } = multipleRef;\n                if (value === null)\n                    return false;\n                const optionValue = props.tmNode.rawNode[valueFieldRef.value];\n                if (multiple) {\n                    const { value: valueSet } = valueSetRef;\n                    return valueSet.has(optionValue);\n                }\n                else {\n                    return value === optionValue;\n                }\n            }),\n            labelField: labelFieldRef,\n            renderLabel: renderLabelRef,\n            renderOption: renderOptionRef,\n            handleMouseMove,\n            handleMouseEnter,\n            handleClick\n        };\n    },\n    render() {\n        const { clsPrefix, tmNode: { rawNode }, isSelected, isPending, isGrouped, showCheckmark, nodeProps, renderOption, renderLabel, handleClick, handleMouseEnter, handleMouseMove } = this;\n        const checkmark = renderCheckMark(isSelected, clsPrefix);\n        const children = renderLabel\n            ? [renderLabel(rawNode, isSelected), showCheckmark && checkmark]\n            : [\n                render(rawNode[this.labelField], rawNode, isSelected),\n                showCheckmark && checkmark\n            ];\n        const attrs = nodeProps === null || nodeProps === void 0 ? void 0 : nodeProps(rawNode);\n        const node = (h(\"div\", Object.assign({}, attrs, { class: [\n                `${clsPrefix}-base-select-option`,\n                rawNode.class,\n                attrs === null || attrs === void 0 ? void 0 : attrs.class,\n                {\n                    [`${clsPrefix}-base-select-option--disabled`]: rawNode.disabled,\n                    [`${clsPrefix}-base-select-option--selected`]: isSelected,\n                    [`${clsPrefix}-base-select-option--grouped`]: isGrouped,\n                    [`${clsPrefix}-base-select-option--pending`]: isPending,\n                    [`${clsPrefix}-base-select-option--show-checkmark`]: showCheckmark\n                }\n            ], style: [(attrs === null || attrs === void 0 ? void 0 : attrs.style) || '', rawNode.style || ''], onClick: mergeEventHandlers([handleClick, attrs === null || attrs === void 0 ? void 0 : attrs.onClick]), onMouseenter: mergeEventHandlers([\n                handleMouseEnter,\n                attrs === null || attrs === void 0 ? void 0 : attrs.onMouseenter\n            ]), onMousemove: mergeEventHandlers([handleMouseMove, attrs === null || attrs === void 0 ? void 0 : attrs.onMousemove]) }),\n            h(\"div\", { class: `${clsPrefix}-base-select-option__content` }, children)));\n        return rawNode.render\n            ? rawNode.render({ node, option: rawNode, selected: isSelected })\n            : renderOption\n                ? renderOption({ node, option: rawNode, selected: isSelected })\n                : node;\n    }\n});\n","import { h, defineComponent, inject } from 'vue';\nimport { render } from '../../../_utils';\nimport { internalSelectionMenuInjectionKey } from './interface';\nexport default defineComponent({\n    name: 'NBaseSelectGroupHeader',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        tmNode: {\n            type: Object,\n            required: true\n        }\n    },\n    setup() {\n        const { renderLabelRef, renderOptionRef, labelFieldRef, nodePropsRef\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n         } = inject(internalSelectionMenuInjectionKey);\n        return {\n            labelField: labelFieldRef,\n            nodeProps: nodePropsRef,\n            renderLabel: renderLabelRef,\n            renderOption: renderOptionRef\n        };\n    },\n    render() {\n        const { clsPrefix, renderLabel, renderOption, nodeProps, tmNode: { rawNode } } = this;\n        const attrs = nodeProps === null || nodeProps === void 0 ? void 0 : nodeProps(rawNode);\n        const children = renderLabel\n            ? renderLabel(rawNode, false)\n            : render(rawNode[this.labelField], rawNode, false);\n        const node = (h(\"div\", Object.assign({}, attrs, { class: [`${clsPrefix}-base-select-group-header`, attrs === null || attrs === void 0 ? void 0 : attrs.class] }), children));\n        return rawNode.render\n            ? rawNode.render({ node, option: rawNode })\n            : renderOption\n                ? renderOption({ node, option: rawNode, selected: false })\n                : node;\n    }\n});\n","import { c, cB, cE, cM, cNotM } from '../../../../_utils/cssr';\nimport { fadeInScaleUpTransition } from '../../../../_styles/transitions/fade-in-scale-up.cssr';\n// --n-loading-color\n// --n-loading-size\n// --n-option-padding-right\nexport default cB('base-select-menu', `\n line-height: 1.5;\n outline: none;\n z-index: 0;\n position: relative;\n border-radius: var(--n-border-radius);\n transition:\n background-color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n background-color: var(--n-color);\n`, [cB('scrollbar', `\n max-height: var(--n-height);\n `), cB('virtual-list', `\n max-height: var(--n-height);\n `), cB('base-select-option', `\n min-height: var(--n-option-height);\n font-size: var(--n-option-font-size);\n display: flex;\n align-items: center;\n `, [cE('content', `\n z-index: 1;\n white-space: nowrap;\n text-overflow: ellipsis;\n overflow: hidden;\n `)]), cB('base-select-group-header', `\n min-height: var(--n-option-height);\n font-size: .93em;\n display: flex;\n align-items: center;\n `), cB('base-select-menu-option-wrapper', `\n position: relative;\n width: 100%;\n `), cE('loading, empty', `\n display: flex;\n padding: 12px 32px;\n flex: 1;\n justify-content: center;\n `), cE('loading', `\n color: var(--n-loading-color);\n font-size: var(--n-loading-size);\n `), cE('action', `\n padding: 8px var(--n-option-padding-left);\n font-size: var(--n-option-font-size);\n transition: \n color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n border-top: 1px solid var(--n-action-divider-color);\n color: var(--n-action-text-color);\n `), cB('base-select-group-header', `\n position: relative;\n cursor: default;\n padding: var(--n-option-padding);\n color: var(--n-group-header-text-color);\n `), cB('base-select-option', `\n cursor: pointer;\n position: relative;\n padding: var(--n-option-padding);\n transition:\n color .3s var(--n-bezier),\n opacity .3s var(--n-bezier);\n box-sizing: border-box;\n color: var(--n-option-text-color);\n opacity: 1;\n `, [cM('show-checkmark', `\n padding-right: calc(var(--n-option-padding-right) + 20px);\n `), c('&::before', `\n content: \"\";\n position: absolute;\n left: 4px;\n right: 4px;\n top: 0;\n bottom: 0;\n border-radius: var(--n-border-radius);\n transition: background-color .3s var(--n-bezier);\n `), c('&:active', `\n color: var(--n-option-text-color-pressed);\n `), cM('grouped', `\n padding-left: calc(var(--n-option-padding-left) * 1.5);\n `), cM('pending', [c('&::before', `\n background-color: var(--n-option-color-pending);\n `)]), cM('selected', `\n color: var(--n-option-text-color-active);\n `, [c('&::before', `\n background-color: var(--n-option-color-active);\n `), cM('pending', [c('&::before', `\n background-color: var(--n-option-color-active-pending);\n `)])]), cM('disabled', `\n cursor: not-allowed;\n `, [cNotM('selected', `\n color: var(--n-option-text-color-disabled);\n `), cM('selected', `\n opacity: var(--n-option-opacity-disabled);\n `)]), cE('check', `\n font-size: 16px;\n position: absolute;\n right: calc(var(--n-option-padding-right) - 4px);\n top: calc(50% - 7px);\n color: var(--n-option-check-color);\n transition: color .3s var(--n-bezier);\n `, [fadeInScaleUpTransition({\n  enterScale: '0.5'\n})])])]);","import { h, ref, onMounted, computed, defineComponent, toRef, provide, nextTick, watch, onBeforeUnmount } from 'vue';\nimport { createIndexGetter } from 'treemate';\nimport { VirtualList } from 'vueuc';\nimport { depx, getPadding, happensIn } from 'seemly';\nimport { NEmpty } from '../../../empty';\nimport { NScrollbar } from '../../scrollbar';\nimport { resolveSlot, resolveWrappedSlot, useOnResize } from '../../../_utils';\nimport { createKey } from '../../../_utils/cssr';\nimport { useThemeClass, useTheme } from '../../../_mixins';\nimport NInternalLoading from '../../loading';\nimport NFocusDetector from '../../focus-detector';\nimport { internalSelectMenuLight } from '../styles';\nimport NSelectOption from './SelectOption';\nimport NSelectGroupHeader from './SelectGroupHeader';\nimport { internalSelectionMenuInjectionKey, internalSelectionMenuBodyInjectionKey } from './interface';\nimport style from './styles/index.cssr';\nexport default defineComponent({\n    name: 'InternalSelectMenu',\n    props: Object.assign(Object.assign({}, useTheme.props), { clsPrefix: {\n            type: String,\n            required: true\n        }, scrollable: {\n            type: Boolean,\n            default: true\n        }, treeMate: {\n            type: Object,\n            required: true\n        }, multiple: Boolean, size: {\n            type: String,\n            default: 'medium'\n        }, value: {\n            type: [String, Number, Array],\n            default: null\n        }, autoPending: Boolean, virtualScroll: {\n            type: Boolean,\n            default: true\n        }, \n        // show is used to toggle pending state initialization\n        show: {\n            type: Boolean,\n            default: true\n        }, labelField: {\n            type: String,\n            default: 'label'\n        }, valueField: {\n            type: String,\n            default: 'value'\n        }, loading: Boolean, focusable: Boolean, renderLabel: Function, renderOption: Function, nodeProps: Function, showCheckmark: { type: Boolean, default: true }, onMousedown: Function, onScroll: Function, onFocus: Function, onBlur: Function, onKeyup: Function, onKeydown: Function, onTabOut: Function, onMouseenter: Function, onMouseleave: Function, onResize: Function, resetMenuOnOptionsChange: {\n            type: Boolean,\n            default: true\n        }, inlineThemeDisabled: Boolean, \n        // deprecated\n        onToggle: Function }),\n    setup(props) {\n        const themeRef = useTheme('InternalSelectMenu', '-internal-select-menu', style, internalSelectMenuLight, props, toRef(props, 'clsPrefix'));\n        const selfRef = ref(null);\n        const virtualListRef = ref(null);\n        const scrollbarRef = ref(null);\n        const flattenedNodesRef = computed(() => props.treeMate.getFlattenedNodes());\n        const fIndexGetterRef = computed(() => createIndexGetter(flattenedNodesRef.value));\n        const pendingNodeRef = ref(null);\n        function initPendingNode() {\n            const { treeMate } = props;\n            let defaultPendingNode = null;\n            const { value } = props;\n            if (value === null) {\n                defaultPendingNode = treeMate.getFirstAvailableNode();\n            }\n            else {\n                if (props.multiple) {\n                    defaultPendingNode = treeMate.getNode((value || [])[(value || []).length - 1]);\n                }\n                else {\n                    defaultPendingNode = treeMate.getNode(value);\n                }\n                if (!defaultPendingNode || defaultPendingNode.disabled) {\n                    defaultPendingNode = treeMate.getFirstAvailableNode();\n                }\n            }\n            if (defaultPendingNode) {\n                setPendingTmNode(defaultPendingNode);\n            }\n            else {\n                setPendingTmNode(null);\n            }\n        }\n        function clearPendingNodeIfInvalid() {\n            const { value: pendingNode } = pendingNodeRef;\n            if (pendingNode && !props.treeMate.getNode(pendingNode.key)) {\n                pendingNodeRef.value = null;\n            }\n        }\n        let initPendingNodeWatchStopHandle;\n        watch(() => props.show, (show) => {\n            if (show) {\n                initPendingNodeWatchStopHandle = watch(() => props.treeMate, () => {\n                    if (props.resetMenuOnOptionsChange) {\n                        if (props.autoPending) {\n                            initPendingNode();\n                        }\n                        else {\n                            clearPendingNodeIfInvalid();\n                        }\n                        void nextTick(scrollToPendingNode);\n                    }\n                    else {\n                        clearPendingNodeIfInvalid();\n                    }\n                }, {\n                    immediate: true\n                });\n            }\n            else {\n                initPendingNodeWatchStopHandle === null || initPendingNodeWatchStopHandle === void 0 ? void 0 : initPendingNodeWatchStopHandle();\n            }\n        }, {\n            immediate: true\n        });\n        onBeforeUnmount(() => {\n            initPendingNodeWatchStopHandle === null || initPendingNodeWatchStopHandle === void 0 ? void 0 : initPendingNodeWatchStopHandle();\n        });\n        const itemSizeRef = computed(() => {\n            return depx(themeRef.value.self[createKey('optionHeight', props.size)]);\n        });\n        const paddingRef = computed(() => {\n            return getPadding(themeRef.value.self[createKey('padding', props.size)]);\n        });\n        const valueSetRef = computed(() => {\n            if (props.multiple && Array.isArray(props.value)) {\n                return new Set(props.value);\n            }\n            return new Set();\n        });\n        const emptyRef = computed(() => {\n            const tmNodes = flattenedNodesRef.value;\n            return tmNodes && tmNodes.length === 0;\n        });\n        function doToggle(tmNode) {\n            const { onToggle } = props;\n            if (onToggle)\n                onToggle(tmNode);\n        }\n        function doScroll(e) {\n            const { onScroll } = props;\n            if (onScroll)\n                onScroll(e);\n        }\n        // required, scroller sync need to be triggered manually\n        function handleVirtualListScroll(e) {\n            var _a;\n            (_a = scrollbarRef.value) === null || _a === void 0 ? void 0 : _a.sync();\n            doScroll(e);\n        }\n        function handleVirtualListResize() {\n            var _a;\n            (_a = scrollbarRef.value) === null || _a === void 0 ? void 0 : _a.sync();\n        }\n        function getPendingTmNode() {\n            const { value: pendingTmNode } = pendingNodeRef;\n            if (pendingTmNode)\n                return pendingTmNode;\n            return null;\n        }\n        function handleOptionMouseEnter(e, tmNode) {\n            if (tmNode.disabled)\n                return;\n            setPendingTmNode(tmNode, false);\n        }\n        function handleOptionClick(e, tmNode) {\n            if (tmNode.disabled)\n                return;\n            doToggle(tmNode);\n        }\n        // keyboard related methods\n        function handleKeyUp(e) {\n            var _a;\n            if (happensIn(e, 'action'))\n                return;\n            (_a = props.onKeyup) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        }\n        function handleKeyDown(e) {\n            var _a;\n            if (happensIn(e, 'action'))\n                return;\n            (_a = props.onKeydown) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        }\n        function handleMouseDown(e) {\n            var _a;\n            (_a = props.onMousedown) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            if (props.focusable)\n                return;\n            e.preventDefault();\n        }\n        function next() {\n            const { value: pendingTmNode } = pendingNodeRef;\n            if (pendingTmNode) {\n                setPendingTmNode(pendingTmNode.getNext({ loop: true }), true);\n            }\n        }\n        function prev() {\n            const { value: pendingTmNode } = pendingNodeRef;\n            if (pendingTmNode) {\n                setPendingTmNode(pendingTmNode.getPrev({ loop: true }), true);\n            }\n        }\n        function setPendingTmNode(tmNode, doScroll = false) {\n            pendingNodeRef.value = tmNode;\n            if (doScroll)\n                scrollToPendingNode();\n        }\n        function scrollToPendingNode() {\n            var _a, _b;\n            const tmNode = pendingNodeRef.value;\n            if (!tmNode)\n                return;\n            const fIndex = fIndexGetterRef.value(tmNode.key);\n            if (fIndex === null)\n                return;\n            if (props.virtualScroll) {\n                (_a = virtualListRef.value) === null || _a === void 0 ? void 0 : _a.scrollTo({ index: fIndex });\n            }\n            else {\n                (_b = scrollbarRef.value) === null || _b === void 0 ? void 0 : _b.scrollTo({\n                    index: fIndex,\n                    elSize: itemSizeRef.value\n                });\n            }\n        }\n        function handleFocusin(e) {\n            var _a, _b;\n            if ((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.target)) {\n                (_b = props.onFocus) === null || _b === void 0 ? void 0 : _b.call(props, e);\n            }\n        }\n        function handleFocusout(e) {\n            var _a, _b;\n            if (!((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.relatedTarget))) {\n                (_b = props.onBlur) === null || _b === void 0 ? void 0 : _b.call(props, e);\n            }\n        }\n        provide(internalSelectionMenuInjectionKey, {\n            handleOptionMouseEnter,\n            handleOptionClick,\n            valueSetRef,\n            pendingTmNodeRef: pendingNodeRef,\n            nodePropsRef: toRef(props, 'nodeProps'),\n            showCheckmarkRef: toRef(props, 'showCheckmark'),\n            multipleRef: toRef(props, 'multiple'),\n            valueRef: toRef(props, 'value'),\n            renderLabelRef: toRef(props, 'renderLabel'),\n            renderOptionRef: toRef(props, 'renderOption'),\n            labelFieldRef: toRef(props, 'labelField'),\n            valueFieldRef: toRef(props, 'valueField')\n        });\n        provide(internalSelectionMenuBodyInjectionKey, selfRef);\n        onMounted(() => {\n            const { value } = scrollbarRef;\n            if (value)\n                value.sync();\n        });\n        const cssVarsRef = computed(() => {\n            const { size } = props;\n            const { common: { cubicBezierEaseInOut }, self: { height, borderRadius, color, groupHeaderTextColor, actionDividerColor, optionTextColorPressed, optionTextColor, optionTextColorDisabled, optionTextColorActive, optionOpacityDisabled, optionCheckColor, actionTextColor, optionColorPending, optionColorActive, loadingColor, loadingSize, optionColorActivePending, [createKey('optionFontSize', size)]: fontSize, [createKey('optionHeight', size)]: optionHeight, [createKey('optionPadding', size)]: optionPadding } } = themeRef.value;\n            return {\n                '--n-height': height,\n                '--n-action-divider-color': actionDividerColor,\n                '--n-action-text-color': actionTextColor,\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-border-radius': borderRadius,\n                '--n-color': color,\n                '--n-option-font-size': fontSize,\n                '--n-group-header-text-color': groupHeaderTextColor,\n                '--n-option-check-color': optionCheckColor,\n                '--n-option-color-pending': optionColorPending,\n                '--n-option-color-active': optionColorActive,\n                '--n-option-color-active-pending': optionColorActivePending,\n                '--n-option-height': optionHeight,\n                '--n-option-opacity-disabled': optionOpacityDisabled,\n                '--n-option-text-color': optionTextColor,\n                '--n-option-text-color-active': optionTextColorActive,\n                '--n-option-text-color-disabled': optionTextColorDisabled,\n                '--n-option-text-color-pressed': optionTextColorPressed,\n                '--n-option-padding': optionPadding,\n                '--n-option-padding-left': getPadding(optionPadding, 'left'),\n                '--n-option-padding-right': getPadding(optionPadding, 'right'),\n                '--n-loading-color': loadingColor,\n                '--n-loading-size': loadingSize\n            };\n        });\n        const { inlineThemeDisabled } = props;\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('internal-select-menu', computed(() => props.size[0]), cssVarsRef, props)\n            : undefined;\n        const exposedProps = {\n            selfRef,\n            next,\n            prev,\n            getPendingTmNode\n        };\n        useOnResize(selfRef, props.onResize);\n        return Object.assign({ mergedTheme: themeRef, virtualListRef,\n            scrollbarRef, itemSize: itemSizeRef, padding: paddingRef, flattenedNodes: flattenedNodesRef, empty: emptyRef, virtualListContainer() {\n                const { value } = virtualListRef;\n                return value === null || value === void 0 ? void 0 : value.listElRef;\n            },\n            virtualListContent() {\n                const { value } = virtualListRef;\n                return value === null || value === void 0 ? void 0 : value.itemsElRef;\n            },\n            doScroll,\n            handleFocusin,\n            handleFocusout,\n            handleKeyUp,\n            handleKeyDown,\n            handleMouseDown,\n            handleVirtualListResize,\n            handleVirtualListScroll, cssVars: inlineThemeDisabled ? undefined : cssVarsRef, themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass, onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender }, exposedProps);\n    },\n    render() {\n        const { $slots, virtualScroll, clsPrefix, mergedTheme, themeClass, onRender } = this;\n        onRender === null || onRender === void 0 ? void 0 : onRender();\n        return (h(\"div\", { ref: \"selfRef\", tabindex: this.focusable ? 0 : -1, class: [\n                `${clsPrefix}-base-select-menu`,\n                themeClass,\n                this.multiple && `${clsPrefix}-base-select-menu--multiple`\n            ], style: this.cssVars, onFocusin: this.handleFocusin, onFocusout: this.handleFocusout, onKeyup: this.handleKeyUp, onKeydown: this.handleKeyDown, onMousedown: this.handleMouseDown, onMouseenter: this.onMouseenter, onMouseleave: this.onMouseleave },\n            this.loading ? (h(\"div\", { class: `${clsPrefix}-base-select-menu__loading` },\n                h(NInternalLoading, { clsPrefix: clsPrefix, strokeWidth: 20 }))) : !this.empty ? (h(NScrollbar, { ref: \"scrollbarRef\", theme: mergedTheme.peers.Scrollbar, themeOverrides: mergedTheme.peerOverrides.Scrollbar, scrollable: this.scrollable, container: virtualScroll ? this.virtualListContainer : undefined, content: virtualScroll ? this.virtualListContent : undefined, onScroll: virtualScroll ? undefined : this.doScroll }, {\n                default: () => {\n                    return virtualScroll ? (h(VirtualList, { ref: \"virtualListRef\", class: `${clsPrefix}-virtual-list`, items: this.flattenedNodes, itemSize: this.itemSize, showScrollbar: false, paddingTop: this.padding.top, paddingBottom: this.padding.bottom, onResize: this.handleVirtualListResize, onScroll: this.handleVirtualListScroll, itemResizable: true }, {\n                        default: ({ item: tmNode }) => {\n                            return tmNode.isGroup ? (h(NSelectGroupHeader, { key: tmNode.key, clsPrefix: clsPrefix, tmNode: tmNode })) : tmNode.ignored ? null : (h(NSelectOption, { clsPrefix: clsPrefix, key: tmNode.key, tmNode: tmNode }));\n                        }\n                    })) : (h(\"div\", { class: `${clsPrefix}-base-select-menu-option-wrapper`, style: {\n                            paddingTop: this.padding.top,\n                            paddingBottom: this.padding.bottom\n                        } }, this.flattenedNodes.map((tmNode) => tmNode.isGroup ? (h(NSelectGroupHeader, { key: tmNode.key, clsPrefix: clsPrefix, tmNode: tmNode })) : (h(NSelectOption, { clsPrefix: clsPrefix, key: tmNode.key, tmNode: tmNode })))));\n                }\n            })) : (h(\"div\", { class: `${clsPrefix}-base-select-menu__empty`, \"data-empty\": true }, resolveSlot($slots.empty, () => [\n                h(NEmpty, { theme: mergedTheme.peers.Empty, themeOverrides: mergedTheme.peerOverrides.Empty })\n            ]))),\n            resolveWrappedSlot($slots.action, (children) => children && [\n                h(\"div\", { class: `${clsPrefix}-base-select-menu__action`, \"data-action\": true, key: \"action\" }, children),\n                h(NFocusDetector, { onFocus: this.onTabOut, key: \"focus-detector\" })\n            ])));\n    }\n});\n","import { c, cB, cE, cM, cNotM } from '../../../../_utils/cssr';\n// vars:\n// --n-bezier\n// --n-border\n// --n-border-active\n// --n-border-focus\n// --n-border-hover\n// --n-border-radius\n// --n-box-shadow-active\n// --n-box-shadow-focus\n// --n-box-shadow-hover\n// --n-caret-color\n// --n-color\n// --n-color-active\n// --n-color-disabled\n// --n-font-size\n// --n-height\n// --n-padding-single\n// --n-padding-multiple\n// --n-placeholder-color\n// --n-placeholder-color-disabled\n// --n-text-color\n// --n-text-color-disabled\n// --n-arrow-color\n// --n-arrow-size\n// --n-loading-color\n// ...clear vars\n// ...form item vars\nexport default c([cB('base-selection', `\n position: relative;\n z-index: auto;\n box-shadow: none;\n width: 100%;\n max-width: 100%;\n display: inline-block;\n vertical-align: bottom;\n border-radius: var(--n-border-radius);\n min-height: var(--n-height);\n line-height: 1.5;\n font-size: var(--n-font-size);\n `, [cB('base-loading', `\n color: var(--n-loading-color);\n `), cB('base-selection-tags', 'min-height: var(--n-height);'), cE('border, state-border', `\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n pointer-events: none;\n border: var(--n-border);\n border-radius: inherit;\n transition:\n box-shadow .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n `), cE('state-border', `\n z-index: 1;\n border-color: #0000;\n `), cB('base-suffix', `\n cursor: pointer;\n position: absolute;\n top: 50%;\n transform: translateY(-50%);\n right: 10px;\n `, [cE('arrow', `\n font-size: var(--n-arrow-size);\n color: var(--n-arrow-color);\n transition: color .3s var(--n-bezier);\n `)]), cB('base-selection-overlay', `\n display: flex;\n align-items: center;\n white-space: nowrap;\n pointer-events: none;\n position: absolute;\n top: 0;\n right: 0;\n bottom: 0;\n left: 0;\n padding: var(--n-padding-single);\n transition: color .3s var(--n-bezier);\n `, [cE('wrapper', `\n flex-basis: 0;\n flex-grow: 1;\n overflow: hidden;\n text-overflow: ellipsis;\n `)]), cB('base-selection-placeholder', `\n color: var(--n-placeholder-color);\n `, [cE('inner', `\n max-width: 100%;\n overflow: hidden;\n `)]), cB('base-selection-tags', `\n cursor: pointer;\n outline: none;\n box-sizing: border-box;\n position: relative;\n z-index: auto;\n display: flex;\n padding: var(--n-padding-multiple);\n flex-wrap: wrap;\n align-items: center;\n width: 100%;\n vertical-align: bottom;\n background-color: var(--n-color);\n border-radius: inherit;\n transition:\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n `), cB('base-selection-label', `\n height: var(--n-height);\n display: inline-flex;\n width: 100%;\n vertical-align: bottom;\n cursor: pointer;\n outline: none;\n z-index: auto;\n box-sizing: border-box;\n position: relative;\n transition:\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n border-radius: inherit;\n background-color: var(--n-color);\n align-items: center;\n `, [cB('base-selection-input', `\n font-size: inherit;\n line-height: inherit;\n outline: none;\n cursor: pointer;\n box-sizing: border-box;\n border:none;\n width: 100%;\n padding: var(--n-padding-single);\n background-color: #0000;\n color: var(--n-text-color);\n transition: color .3s var(--n-bezier);\n caret-color: var(--n-caret-color);\n `, [cE('content', `\n text-overflow: ellipsis;\n overflow: hidden;\n white-space: nowrap; \n `)]), cE('render-label', `\n color: var(--n-text-color);\n `)]), cNotM('disabled', [c('&:hover', [cE('state-border', `\n box-shadow: var(--n-box-shadow-hover);\n border: var(--n-border-hover);\n `)]), cM('focus', [cE('state-border', `\n box-shadow: var(--n-box-shadow-focus);\n border: var(--n-border-focus);\n `)]), cM('active', [cE('state-border', `\n box-shadow: var(--n-box-shadow-active);\n border: var(--n-border-active);\n `), cB('base-selection-label', 'background-color: var(--n-color-active);'), cB('base-selection-tags', 'background-color: var(--n-color-active);')])]), cM('disabled', 'cursor: not-allowed;', [cE('arrow', `\n color: var(--n-arrow-color-disabled);\n `), cB('base-selection-label', `\n cursor: not-allowed;\n background-color: var(--n-color-disabled);\n `, [cB('base-selection-input', `\n cursor: not-allowed;\n color: var(--n-text-color-disabled);\n `), cE('render-label', `\n color: var(--n-text-color-disabled);\n `)]), cB('base-selection-tags', `\n cursor: not-allowed;\n background-color: var(--n-color-disabled);\n `), cB('base-selection-placeholder', `\n cursor: not-allowed;\n color: var(--n-placeholder-color-disabled);\n `)]), cB('base-selection-input-tag', `\n height: calc(var(--n-height) - 6px);\n line-height: calc(var(--n-height) - 6px);\n outline: none;\n display: none;\n position: relative;\n margin-bottom: 3px;\n max-width: 100%;\n vertical-align: bottom;\n `, [cE('input', `\n font-size: inherit;\n font-family: inherit;\n min-width: 1px;\n padding: 0;\n background-color: #0000;\n outline: none;\n border: none;\n max-width: 100%;\n overflow: hidden;\n width: 1em;\n line-height: inherit;\n cursor: pointer;\n color: var(--n-text-color);\n caret-color: var(--n-caret-color);\n `), cE('mirror', `\n position: absolute;\n left: 0;\n top: 0;\n white-space: pre;\n visibility: hidden;\n user-select: none;\n -webkit-user-select: none;\n opacity: 0;\n `)]), ['warning', 'error'].map(status => cM(`${status}-status`, [cE('state-border', `border: var(--n-border-${status});`), cNotM('disabled', [c('&:hover', [cE('state-border', `\n box-shadow: var(--n-box-shadow-hover-${status});\n border: var(--n-border-hover-${status});\n `)]), cM('active', [cE('state-border', `\n box-shadow: var(--n-box-shadow-active-${status});\n border: var(--n-border-active-${status});\n `), cB('base-selection-label', `background-color: var(--n-color-active-${status});`), cB('base-selection-tags', `background-color: var(--n-color-active-${status});`)]), cM('focus', [cE('state-border', `\n box-shadow: var(--n-box-shadow-focus-${status});\n border: var(--n-border-focus-${status});\n `)])])]))]), cB('base-selection-popover', `\n margin-bottom: -3px;\n display: flex;\n flex-wrap: wrap;\n margin-right: -8px;\n `), cB('base-selection-tag-wrapper', `\n max-width: 100%;\n display: inline-flex;\n padding: 0 7px 3px 0;\n `, [c('&:last-child', 'padding-right: 0;'), cB('tag', `\n font-size: 14px;\n max-width: 100%;\n `, [cE('content', `\n line-height: 1.25;\n text-overflow: ellipsis;\n overflow: hidden;\n `)])])]);","/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { h, defineComponent, Fragment, ref, computed, watch, toRef, nextTick, watchEffect, onMounted } from 'vue';\nimport { VOverflow } from 'vueuc';\nimport { NPopover } from '../../../popover';\nimport { NTag } from '../../../tag';\nimport { useThemeClass, useTheme } from '../../../_mixins';\nimport { createKey, getTitleAttribute, render, useOnResize, Wrapper } from '../../../_utils';\nimport Suffix from '../../suffix';\nimport { internalSelectionLight } from '../styles';\nimport style from './styles/index.cssr';\nexport default defineComponent({\n    name: 'InternalSelection',\n    props: Object.assign(Object.assign({}, useTheme.props), { clsPrefix: {\n            type: String,\n            required: true\n        }, bordered: {\n            type: Boolean,\n            default: undefined\n        }, active: Boolean, pattern: {\n            type: String,\n            default: ''\n        }, placeholder: String, selectedOption: {\n            type: Object,\n            default: null\n        }, selectedOptions: {\n            type: Array,\n            default: null\n        }, labelField: { type: String, default: 'label' }, valueField: {\n            type: String,\n            default: 'value'\n        }, multiple: Boolean, filterable: Boolean, clearable: Boolean, disabled: Boolean, size: {\n            type: String,\n            default: 'medium'\n        }, loading: Boolean, autofocus: Boolean, showArrow: {\n            type: Boolean,\n            default: true\n        }, inputProps: Object, focused: Boolean, renderTag: Function, onKeydown: Function, onClick: Function, onBlur: Function, onFocus: Function, onDeleteOption: Function, maxTagCount: [String, Number], onClear: Function, onPatternInput: Function, onPatternFocus: Function, onPatternBlur: Function, renderLabel: Function, status: String, inlineThemeDisabled: Boolean, ignoreComposition: { type: Boolean, default: true }, onResize: Function }),\n    setup(props) {\n        const patternInputMirrorRef = ref(null);\n        const patternInputRef = ref(null);\n        const selfRef = ref(null);\n        const multipleElRef = ref(null);\n        const singleElRef = ref(null);\n        const patternInputWrapperRef = ref(null);\n        const counterRef = ref(null);\n        const counterWrapperRef = ref(null);\n        const overflowRef = ref(null);\n        const inputTagElRef = ref(null);\n        const showTagsPopoverRef = ref(false);\n        const patternInputFocusedRef = ref(false);\n        const hoverRef = ref(false);\n        const themeRef = useTheme('InternalSelection', '-internal-selection', style, internalSelectionLight, props, toRef(props, 'clsPrefix'));\n        const mergedClearableRef = computed(() => {\n            return (props.clearable && !props.disabled && (hoverRef.value || props.active));\n        });\n        const filterablePlaceholderRef = computed(() => {\n            return props.selectedOption\n                ? props.renderTag\n                    ? props.renderTag({\n                        option: props.selectedOption,\n                        handleClose: () => { }\n                    })\n                    : props.renderLabel\n                        ? props.renderLabel(props.selectedOption, true)\n                        : render(props.selectedOption[props.labelField], props.selectedOption, true)\n                : props.placeholder;\n        });\n        const labelRef = computed(() => {\n            const option = props.selectedOption;\n            if (!option)\n                return undefined;\n            return option[props.labelField];\n        });\n        const selectedRef = computed(() => {\n            if (props.multiple) {\n                return !!(Array.isArray(props.selectedOptions) && props.selectedOptions.length);\n            }\n            else {\n                return props.selectedOption !== null;\n            }\n        });\n        function syncMirrorWidth() {\n            var _a;\n            const { value: patternInputMirrorEl } = patternInputMirrorRef;\n            if (patternInputMirrorEl) {\n                const { value: patternInputEl } = patternInputRef;\n                if (patternInputEl) {\n                    patternInputEl.style.width = `${patternInputMirrorEl.offsetWidth}px`;\n                    if (props.maxTagCount !== 'responsive') {\n                        (_a = overflowRef.value) === null || _a === void 0 ? void 0 : _a.sync();\n                    }\n                }\n            }\n        }\n        function hideInputTag() {\n            const { value: inputTagEl } = inputTagElRef;\n            if (inputTagEl)\n                inputTagEl.style.display = 'none';\n        }\n        function showInputTag() {\n            const { value: inputTagEl } = inputTagElRef;\n            if (inputTagEl)\n                inputTagEl.style.display = 'inline-block';\n        }\n        watch(toRef(props, 'active'), (value) => {\n            if (!value)\n                hideInputTag();\n        });\n        watch(toRef(props, 'pattern'), () => {\n            if (props.multiple) {\n                void nextTick(syncMirrorWidth);\n            }\n        });\n        function doFocus(e) {\n            const { onFocus } = props;\n            if (onFocus)\n                onFocus(e);\n        }\n        function doBlur(e) {\n            const { onBlur } = props;\n            if (onBlur)\n                onBlur(e);\n        }\n        function doDeleteOption(value) {\n            const { onDeleteOption } = props;\n            if (onDeleteOption)\n                onDeleteOption(value);\n        }\n        function doClear(e) {\n            const { onClear } = props;\n            if (onClear)\n                onClear(e);\n        }\n        function doPatternInput(value) {\n            const { onPatternInput } = props;\n            if (onPatternInput)\n                onPatternInput(value);\n        }\n        function handleFocusin(e) {\n            var _a;\n            if (!e.relatedTarget ||\n                !((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.relatedTarget))) {\n                doFocus(e);\n            }\n        }\n        function handleFocusout(e) {\n            var _a;\n            if ((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.relatedTarget))\n                return;\n            doBlur(e);\n        }\n        function handleClear(e) {\n            doClear(e);\n        }\n        function handleMouseEnter() {\n            hoverRef.value = true;\n        }\n        function handleMouseLeave() {\n            hoverRef.value = false;\n        }\n        function handleMouseDown(e) {\n            if (!props.active || !props.filterable)\n                return;\n            if (e.target === patternInputRef.value)\n                return;\n            e.preventDefault();\n        }\n        function handleDeleteOption(option) {\n            doDeleteOption(option);\n        }\n        function handlePatternKeyDown(e) {\n            if (e.key === 'Backspace' && !isComposingRef.value) {\n                if (!props.pattern.length) {\n                    const { selectedOptions } = props;\n                    if (selectedOptions === null || selectedOptions === void 0 ? void 0 : selectedOptions.length) {\n                        handleDeleteOption(selectedOptions[selectedOptions.length - 1]);\n                    }\n                }\n            }\n        }\n        const isComposingRef = ref(false);\n        // the composition end is later than its input so we can cached the event\n        // and return the input event\n        let cachedInputEvent = null;\n        function handlePatternInputInput(e) {\n            // we should sync mirror width here\n            const { value: patternInputMirrorEl } = patternInputMirrorRef;\n            if (patternInputMirrorEl) {\n                const inputText = e.target.value;\n                patternInputMirrorEl.textContent = inputText;\n                syncMirrorWidth();\n            }\n            if (props.ignoreComposition) {\n                if (!isComposingRef.value) {\n                    doPatternInput(e);\n                }\n                else {\n                    cachedInputEvent = e;\n                }\n            }\n            else {\n                doPatternInput(e);\n            }\n        }\n        function handleCompositionStart() {\n            isComposingRef.value = true;\n        }\n        function handleCompositionEnd() {\n            isComposingRef.value = false;\n            if (props.ignoreComposition) {\n                doPatternInput(cachedInputEvent);\n            }\n            cachedInputEvent = null;\n        }\n        function handlePatternInputFocus(e) {\n            var _a;\n            patternInputFocusedRef.value = true;\n            (_a = props.onPatternFocus) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        }\n        function handlePatternInputBlur(e) {\n            var _a;\n            patternInputFocusedRef.value = false;\n            (_a = props.onPatternBlur) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        }\n        function blur() {\n            var _a, _b;\n            if (props.filterable) {\n                patternInputFocusedRef.value = false;\n                (_a = patternInputWrapperRef.value) === null || _a === void 0 ? void 0 : _a.blur();\n                (_b = patternInputRef.value) === null || _b === void 0 ? void 0 : _b.blur();\n            }\n            else if (props.multiple) {\n                const { value: multipleEl } = multipleElRef;\n                multipleEl === null || multipleEl === void 0 ? void 0 : multipleEl.blur();\n            }\n            else {\n                const { value: singleEl } = singleElRef;\n                singleEl === null || singleEl === void 0 ? void 0 : singleEl.blur();\n            }\n        }\n        function focus() {\n            var _a, _b, _c;\n            if (props.filterable) {\n                patternInputFocusedRef.value = false;\n                (_a = patternInputWrapperRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n            }\n            else if (props.multiple) {\n                (_b = multipleElRef.value) === null || _b === void 0 ? void 0 : _b.focus();\n            }\n            else {\n                (_c = singleElRef.value) === null || _c === void 0 ? void 0 : _c.focus();\n            }\n        }\n        function focusInput() {\n            const { value: patternInputEl } = patternInputRef;\n            if (patternInputEl) {\n                showInputTag();\n                patternInputEl.focus();\n            }\n        }\n        function blurInput() {\n            const { value: patternInputEl } = patternInputRef;\n            if (patternInputEl) {\n                patternInputEl.blur();\n            }\n        }\n        function updateCounter(count) {\n            const { value } = counterRef;\n            if (value) {\n                value.setTextContent(`+${count}`);\n            }\n        }\n        function getCounter() {\n            const { value } = counterWrapperRef;\n            return value;\n        }\n        function getTail() {\n            return patternInputRef.value;\n        }\n        let enterTimerId = null;\n        function clearEnterTimer() {\n            if (enterTimerId !== null)\n                window.clearTimeout(enterTimerId);\n        }\n        function handleMouseEnterCounter() {\n            if (props.disabled || props.active)\n                return;\n            clearEnterTimer();\n            enterTimerId = window.setTimeout(() => {\n                if (selectedRef.value) {\n                    showTagsPopoverRef.value = true;\n                }\n            }, 100);\n        }\n        function handleMouseLeaveCounter() {\n            clearEnterTimer();\n        }\n        function onPopoverUpdateShow(show) {\n            if (!show) {\n                clearEnterTimer();\n                showTagsPopoverRef.value = false;\n            }\n        }\n        watch(selectedRef, (value) => {\n            if (!value) {\n                showTagsPopoverRef.value = false;\n            }\n        });\n        onMounted(() => {\n            watchEffect(() => {\n                const patternInputWrapperEl = patternInputWrapperRef.value;\n                if (!patternInputWrapperEl)\n                    return;\n                patternInputWrapperEl.tabIndex =\n                    props.disabled || patternInputFocusedRef.value ? -1 : 0;\n            });\n        });\n        useOnResize(selfRef, props.onResize);\n        const { inlineThemeDisabled } = props;\n        const cssVarsRef = computed(() => {\n            const { size } = props;\n            const { common: { cubicBezierEaseInOut }, self: { borderRadius, color, placeholderColor, textColor, paddingSingle, paddingMultiple, caretColor, colorDisabled, textColorDisabled, placeholderColorDisabled, colorActive, boxShadowFocus, boxShadowActive, boxShadowHover, border, borderFocus, borderHover, borderActive, arrowColor, arrowColorDisabled, loadingColor, \n            // form warning\n            colorActiveWarning, boxShadowFocusWarning, boxShadowActiveWarning, boxShadowHoverWarning, borderWarning, borderFocusWarning, borderHoverWarning, borderActiveWarning, \n            // form error\n            colorActiveError, boxShadowFocusError, boxShadowActiveError, boxShadowHoverError, borderError, borderFocusError, borderHoverError, borderActiveError, \n            // clear\n            clearColor, clearColorHover, clearColorPressed, clearSize, \n            // arrow\n            arrowSize, [createKey('height', size)]: height, [createKey('fontSize', size)]: fontSize } } = themeRef.value;\n            return {\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-border': border,\n                '--n-border-active': borderActive,\n                '--n-border-focus': borderFocus,\n                '--n-border-hover': borderHover,\n                '--n-border-radius': borderRadius,\n                '--n-box-shadow-active': boxShadowActive,\n                '--n-box-shadow-focus': boxShadowFocus,\n                '--n-box-shadow-hover': boxShadowHover,\n                '--n-caret-color': caretColor,\n                '--n-color': color,\n                '--n-color-active': colorActive,\n                '--n-color-disabled': colorDisabled,\n                '--n-font-size': fontSize,\n                '--n-height': height,\n                '--n-padding-single': paddingSingle,\n                '--n-padding-multiple': paddingMultiple,\n                '--n-placeholder-color': placeholderColor,\n                '--n-placeholder-color-disabled': placeholderColorDisabled,\n                '--n-text-color': textColor,\n                '--n-text-color-disabled': textColorDisabled,\n                '--n-arrow-color': arrowColor,\n                '--n-arrow-color-disabled': arrowColorDisabled,\n                '--n-loading-color': loadingColor,\n                // form warning\n                '--n-color-active-warning': colorActiveWarning,\n                '--n-box-shadow-focus-warning': boxShadowFocusWarning,\n                '--n-box-shadow-active-warning': boxShadowActiveWarning,\n                '--n-box-shadow-hover-warning': boxShadowHoverWarning,\n                '--n-border-warning': borderWarning,\n                '--n-border-focus-warning': borderFocusWarning,\n                '--n-border-hover-warning': borderHoverWarning,\n                '--n-border-active-warning': borderActiveWarning,\n                // form error\n                '--n-color-active-error': colorActiveError,\n                '--n-box-shadow-focus-error': boxShadowFocusError,\n                '--n-box-shadow-active-error': boxShadowActiveError,\n                '--n-box-shadow-hover-error': boxShadowHoverError,\n                '--n-border-error': borderError,\n                '--n-border-focus-error': borderFocusError,\n                '--n-border-hover-error': borderHoverError,\n                '--n-border-active-error': borderActiveError,\n                // clear\n                '--n-clear-size': clearSize,\n                '--n-clear-color': clearColor,\n                '--n-clear-color-hover': clearColorHover,\n                '--n-clear-color-pressed': clearColorPressed,\n                // arrow-size\n                '--n-arrow-size': arrowSize\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('internal-selection', computed(() => {\n                return props.size[0];\n            }), cssVarsRef, props)\n            : undefined;\n        return {\n            mergedTheme: themeRef,\n            mergedClearable: mergedClearableRef,\n            patternInputFocused: patternInputFocusedRef,\n            filterablePlaceholder: filterablePlaceholderRef,\n            label: labelRef,\n            selected: selectedRef,\n            showTagsPanel: showTagsPopoverRef,\n            isComposing: isComposingRef,\n            // dom ref\n            counterRef,\n            counterWrapperRef,\n            patternInputMirrorRef,\n            patternInputRef,\n            selfRef,\n            multipleElRef,\n            singleElRef,\n            patternInputWrapperRef,\n            overflowRef,\n            inputTagElRef,\n            handleMouseDown,\n            handleFocusin,\n            handleClear,\n            handleMouseEnter,\n            handleMouseLeave,\n            handleDeleteOption,\n            handlePatternKeyDown,\n            handlePatternInputInput,\n            handlePatternInputBlur,\n            handlePatternInputFocus,\n            handleMouseEnterCounter,\n            handleMouseLeaveCounter,\n            handleFocusout,\n            handleCompositionEnd,\n            handleCompositionStart,\n            onPopoverUpdateShow,\n            focus,\n            focusInput,\n            blur,\n            blurInput,\n            updateCounter,\n            getCounter,\n            getTail,\n            renderLabel: props.renderLabel,\n            cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n            themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n            onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n        };\n    },\n    render() {\n        const { status, multiple, size, disabled, filterable, maxTagCount, bordered, clsPrefix, onRender, renderTag, renderLabel } = this;\n        onRender === null || onRender === void 0 ? void 0 : onRender();\n        const maxTagCountResponsive = maxTagCount === 'responsive';\n        const maxTagCountNumeric = typeof maxTagCount === 'number';\n        const useMaxTagCount = maxTagCountResponsive || maxTagCountNumeric;\n        const suffix = (h(Wrapper, null, {\n            default: () => (h(Suffix, { clsPrefix: clsPrefix, loading: this.loading, showArrow: this.showArrow, showClear: this.mergedClearable && this.selected, onClear: this.handleClear }, {\n                default: () => { var _a, _b; return (_b = (_a = this.$slots).arrow) === null || _b === void 0 ? void 0 : _b.call(_a); }\n            }))\n        }));\n        let body;\n        if (multiple) {\n            const { labelField } = this;\n            const createTag = (option) => (h(\"div\", { class: `${clsPrefix}-base-selection-tag-wrapper`, key: option.value }, renderTag ? (renderTag({\n                option,\n                handleClose: () => { this.handleDeleteOption(option); }\n            })) : (h(NTag, { size: size, closable: !option.disabled, disabled: disabled, onClose: () => { this.handleDeleteOption(option); }, internalCloseIsButtonTag: false, internalCloseFocusable: false }, {\n                default: () => renderLabel\n                    ? renderLabel(option, true)\n                    : render(option[labelField], option, true)\n            }))));\n            const createOriginalTagNodes = () => (maxTagCountNumeric\n                ? this.selectedOptions.slice(0, maxTagCount)\n                : this.selectedOptions).map(createTag);\n            const input = filterable ? (h(\"div\", { class: `${clsPrefix}-base-selection-input-tag`, ref: \"inputTagElRef\", key: \"__input-tag__\" },\n                h(\"input\", Object.assign({}, this.inputProps, { ref: \"patternInputRef\", tabindex: -1, disabled: disabled, value: this.pattern, autofocus: this.autofocus, class: `${clsPrefix}-base-selection-input-tag__input`, onBlur: this.handlePatternInputBlur, onFocus: this.handlePatternInputFocus, onKeydown: this.handlePatternKeyDown, onInput: this.handlePatternInputInput, onCompositionstart: this.handleCompositionStart, onCompositionend: this.handleCompositionEnd })),\n                h(\"span\", { ref: \"patternInputMirrorRef\", class: `${clsPrefix}-base-selection-input-tag__mirror` }, this.pattern))) : null;\n            // May Overflow\n            const renderCounter = maxTagCountResponsive\n                ? () => (h(\"div\", { class: `${clsPrefix}-base-selection-tag-wrapper`, ref: \"counterWrapperRef\" },\n                    h(NTag, { size: size, ref: \"counterRef\", onMouseenter: this.handleMouseEnterCounter, onMouseleave: this.handleMouseLeaveCounter, disabled: disabled })))\n                : undefined;\n            let counter;\n            if (maxTagCountNumeric) {\n                const rest = this.selectedOptions.length - maxTagCount;\n                if (rest > 0) {\n                    counter = (h(\"div\", { class: `${clsPrefix}-base-selection-tag-wrapper`, key: \"__counter__\" },\n                        h(NTag, { size: size, ref: \"counterRef\", onMouseenter: this.handleMouseEnterCounter, disabled: disabled }, {\n                            default: () => `+${rest}`\n                        })));\n                }\n            }\n            const tags = maxTagCountResponsive ? (filterable ? (h(VOverflow, { ref: \"overflowRef\", updateCounter: this.updateCounter, getCounter: this.getCounter, getTail: this.getTail, style: {\n                    width: '100%',\n                    display: 'flex',\n                    overflow: 'hidden'\n                } }, {\n                default: createOriginalTagNodes,\n                counter: renderCounter,\n                tail: () => input\n            })) : (h(VOverflow, { ref: \"overflowRef\", updateCounter: this.updateCounter, getCounter: this.getCounter, style: {\n                    width: '100%',\n                    display: 'flex',\n                    overflow: 'hidden'\n                } }, {\n                default: createOriginalTagNodes,\n                counter: renderCounter\n            }))) : maxTagCountNumeric ? (createOriginalTagNodes().concat(counter)) : (createOriginalTagNodes());\n            const renderPopover = useMaxTagCount\n                ? () => (h(\"div\", { class: `${clsPrefix}-base-selection-popover` }, maxTagCountResponsive\n                    ? createOriginalTagNodes()\n                    : this.selectedOptions.map(createTag)))\n                : undefined;\n            const popoverProps = useMaxTagCount\n                ? {\n                    show: this.showTagsPanel,\n                    trigger: 'hover',\n                    overlap: true,\n                    placement: 'top',\n                    width: 'trigger',\n                    onUpdateShow: this.onPopoverUpdateShow,\n                    theme: this.mergedTheme.peers.Popover,\n                    themeOverrides: this.mergedTheme.peerOverrides.Popover\n                }\n                : null;\n            const showPlaceholder = this.selected\n                ? false\n                : this.active\n                    ? !this.pattern && !this.isComposing\n                    : true;\n            const placeholder = showPlaceholder ? (h(\"div\", { class: `${clsPrefix}-base-selection-placeholder ${clsPrefix}-base-selection-overlay` },\n                h(\"div\", { class: `${clsPrefix}-base-selection-placeholder__inner` }, this.placeholder))) : null;\n            const popoverTrigger = filterable ? (h(\"div\", { ref: \"patternInputWrapperRef\", class: `${clsPrefix}-base-selection-tags` },\n                tags,\n                maxTagCountResponsive ? null : input,\n                suffix)) : (h(\"div\", { ref: \"multipleElRef\", class: `${clsPrefix}-base-selection-tags`, tabindex: disabled ? undefined : 0 },\n                tags,\n                suffix));\n            body = (h(Fragment, null,\n                useMaxTagCount ? (h(NPopover, Object.assign({}, popoverProps, { scrollable: true, style: \"max-height: calc(var(--v-target-height) * 6.6);\" }), {\n                    trigger: () => popoverTrigger,\n                    default: renderPopover\n                })) : (popoverTrigger),\n                placeholder));\n        }\n        else {\n            if (filterable) {\n                const hasInput = this.pattern || this.isComposing;\n                const showPlaceholder = this.active ? !hasInput : !this.selected;\n                const showSelectedLabel = this.active ? false : this.selected;\n                body = (h(\"div\", { ref: \"patternInputWrapperRef\", class: `${clsPrefix}-base-selection-label` },\n                    h(\"input\", Object.assign({}, this.inputProps, { ref: \"patternInputRef\", class: `${clsPrefix}-base-selection-input`, value: this.active ? this.pattern : '', placeholder: \"\", readonly: disabled, disabled: disabled, tabindex: -1, autofocus: this.autofocus, onFocus: this.handlePatternInputFocus, onBlur: this.handlePatternInputBlur, onInput: this.handlePatternInputInput, onCompositionstart: this.handleCompositionStart, onCompositionend: this.handleCompositionEnd })),\n                    showSelectedLabel ? (h(\"div\", { class: `${clsPrefix}-base-selection-label__render-label ${clsPrefix}-base-selection-overlay`, key: \"input\" },\n                        h(\"div\", { class: `${clsPrefix}-base-selection-overlay__wrapper` }, renderTag\n                            ? renderTag({\n                                option: this.selectedOption,\n                                handleClose: () => { }\n                            })\n                            : renderLabel\n                                ? renderLabel(this.selectedOption, true)\n                                : render(this.label, this.selectedOption, true)))) : null,\n                    showPlaceholder ? (h(\"div\", { class: `${clsPrefix}-base-selection-placeholder ${clsPrefix}-base-selection-overlay`, key: \"placeholder\" },\n                        h(\"div\", { class: `${clsPrefix}-base-selection-overlay__wrapper` }, this.filterablePlaceholder))) : null,\n                    suffix));\n            }\n            else {\n                body = (h(\"div\", { ref: \"singleElRef\", class: `${clsPrefix}-base-selection-label`, tabindex: this.disabled ? undefined : 0 },\n                    this.label !== undefined ? (h(\"div\", { class: `${clsPrefix}-base-selection-input`, title: getTitleAttribute(this.label), key: \"input\" },\n                        h(\"div\", { class: `${clsPrefix}-base-selection-input__content` }, renderTag\n                            ? renderTag({\n                                option: this.selectedOption,\n                                handleClose: () => { }\n                            })\n                            : renderLabel\n                                ? renderLabel(this.selectedOption, true)\n                                : render(this.label, this.selectedOption, true)))) : (h(\"div\", { class: `${clsPrefix}-base-selection-placeholder ${clsPrefix}-base-selection-overlay`, key: \"placeholder\" },\n                        h(\"div\", { class: `${clsPrefix}-base-selection-placeholder__inner` }, this.placeholder))),\n                    suffix));\n            }\n        }\n        return (h(\"div\", { ref: \"selfRef\", class: [\n                `${clsPrefix}-base-selection`,\n                this.themeClass,\n                status && `${clsPrefix}-base-selection--${status}-status`,\n                {\n                    [`${clsPrefix}-base-selection--active`]: this.active,\n                    [`${clsPrefix}-base-selection--selected`]: this.selected || (this.active && this.pattern),\n                    [`${clsPrefix}-base-selection--disabled`]: this.disabled,\n                    [`${clsPrefix}-base-selection--multiple`]: this.multiple,\n                    // focus is not controlled by selection itself since it always need\n                    // to be managed together with menu. provide :focus style will cause\n                    // many redundant codes.\n                    [`${clsPrefix}-base-selection--focus`]: this.focused\n                }\n            ], style: this.cssVars, onClick: this.onClick, onMouseenter: this.handleMouseEnter, onMouseleave: this.handleMouseLeave, onKeydown: this.onKeydown, onFocusin: this.handleFocusin, onFocusout: this.handleFocusout, onMousedown: this.handleMouseDown },\n            body,\n            bordered ? (h(\"div\", { class: `${clsPrefix}-base-selection__border` })) : null,\n            bordered ? (h(\"div\", { class: `${clsPrefix}-base-selection__state-border` })) : null));\n    }\n});\n","export function getIsGroup(option) {\n    return option.type === 'group';\n}\nexport function getIgnored(option) {\n    return option.type === 'ignored';\n}\nexport function patternMatched(pattern, value) {\n    try {\n        return !!(1 + value.toString().toLowerCase().indexOf(pattern.trim().toLowerCase()));\n    }\n    catch (err) {\n        return false;\n    }\n}\nexport function createTmOptions(valueField, childrenField) {\n    const options = {\n        getIsGroup,\n        getIgnored,\n        getKey(option) {\n            if (getIsGroup(option)) {\n                return (option.name ||\n                    option.key ||\n                    'key-required');\n            }\n            // Required for non-custom label & value field\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            return option[valueField];\n        },\n        getChildren(option) {\n            return option[childrenField];\n        }\n    };\n    return options;\n}\nexport function filterOptions(originalOpts, filter, pattern, childrenField) {\n    if (!filter)\n        return originalOpts;\n    function traverse(options) {\n        if (!Array.isArray(options))\n            return [];\n        const filteredOptions = [];\n        for (const option of options) {\n            if (getIsGroup(option)) {\n                const children = traverse(option[childrenField]);\n                if (children.length) {\n                    filteredOptions.push(Object.assign({}, option, {\n                        [childrenField]: children\n                    }));\n                }\n            }\n            else if (getIgnored(option)) {\n                continue;\n            }\n            else if (filter(pattern, option)) {\n                filteredOptions.push(option);\n            }\n        }\n        return filteredOptions;\n    }\n    return traverse(originalOpts);\n}\nexport function createValOptMap(options, valueField, childrenField) {\n    const valOptMap = new Map();\n    options.forEach((option) => {\n        if (getIsGroup(option)) {\n            ;\n            option[childrenField].forEach((selectGroupOption) => {\n                valOptMap.set(selectGroupOption[valueField], selectGroupOption);\n            });\n        }\n        else {\n            valOptMap.set(option[valueField], option);\n        }\n    });\n    return valOptMap;\n}\n","import { c, cB, cE } from '../../../_utils/cssr';\nexport default cB('input-group', `\n display: inline-flex;\n width: 100%;\n flex-wrap: nowrap;\n vertical-align: bottom;\n`, [c('>', [cB('input', [c('&:not(:last-child)', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `), c('&:not(:first-child)', `\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n margin-left: -1px!important;\n `)]), cB('button', [c('&:not(:last-child)', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `, [cE('state-border, border', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `)]), c('&:not(:first-child)', `\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n `, [cE('state-border, border', `\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n `)])]), c('*', [c('&:not(:last-child)', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `, [c('>', [cB('input', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `), cB('base-selection', [cB('base-selection-label', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `), cB('base-selection-tags', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `), cE('box-shadow, border, state-border', `\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n `)])])]), c('&:not(:first-child)', `\n margin-left: -1px!important;\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n `, [c('>', [cB('input', `\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n `), cB('base-selection', [cB('base-selection-label', `\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n `), cB('base-selection-tags', `\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n `), cE('box-shadow, border, state-border', `\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n `)])])])])])]);","import { h, defineComponent } from 'vue';\nimport { useConfig, useStyle } from '../../_mixins';\nimport style from './styles/input-group.cssr';\nexport const inputGroupProps = {};\nexport default defineComponent({\n    name: 'InputGroup',\n    props: inputGroupProps,\n    setup(props) {\n        const { mergedClsPrefixRef } = useConfig(props);\n        useStyle('-input-group', style, mergedClsPrefixRef);\n        return {\n            mergedClsPrefix: mergedClsPrefixRef\n        };\n    },\n    render() {\n        const { mergedClsPrefix } = this;\n        return h(\"div\", { class: `${mergedClsPrefix}-input-group` }, this.$slots);\n    }\n});\n","import { hsl2hsv, hsl2rgb, hsla, hsv2hsl, hsv2rgb, hsva, rgb2hsl, rgb2hsv, rgba, toHexaString, toHslaString, toHsvaString, toRgbaString } from 'seemly';\nimport { warn } from '../../_utils';\nexport function deriveDefaultValue(modes, showAlpha) {\n    const mode = modes[0];\n    switch (mode) {\n        case 'hex':\n            return showAlpha ? '#000000FF' : '#000000';\n        case 'rgb':\n            return showAlpha ? 'rgba(0, 0, 0, 1)' : 'rgb(0, 0, 0)';\n        case 'hsl':\n            return showAlpha ? 'hsla(0, 0%, 0%, 1)' : 'hsl(0, 0%, 0%)';\n        case 'hsv':\n            return showAlpha ? 'hsva(0, 0%, 0%, 1)' : 'hsv(0, 0%, 0%)';\n    }\n    if (process.env.NODE_ENV !== 'production')\n        warn('color-picker', 'props.modes is invalid.');\n    // in case of invalid modes\n    return '#000000';\n}\nexport function getModeFromValue(color) {\n    if (color === null)\n        return null;\n    if (/^ *#/.test(color))\n        return 'hex';\n    if (color.includes('rgb'))\n        return 'rgb';\n    if (color.includes('hsl'))\n        return 'hsl';\n    if (color.includes('hsv'))\n        return 'hsv';\n    return null;\n}\nexport function floor(color) {\n    return color.map((channel) => Math.floor(channel));\n}\nexport function normalizeHue(hue) {\n    hue = Math.round(hue);\n    return hue >= 360 ? 359 : hue < 0 ? 0 : hue;\n}\nexport function normalizeAlpha(alpha) {\n    alpha = Math.round(alpha * 100) / 100;\n    return alpha > 1 ? 1 : alpha < 0 ? 0 : alpha;\n}\nconst convert = {\n    rgb: {\n        hex(value) {\n            return toHexaString(rgba(value));\n        },\n        hsl(value) {\n            const [r, g, b, a] = rgba(value);\n            return toHslaString([...rgb2hsl(r, g, b), a]);\n        },\n        hsv(value) {\n            const [r, g, b, a] = rgba(value);\n            return toHsvaString([...rgb2hsv(r, g, b), a]);\n        }\n    },\n    hex: {\n        rgb(value) {\n            return toRgbaString(rgba(value));\n        },\n        hsl(value) {\n            const [r, g, b, a] = rgba(value);\n            return toHslaString([...rgb2hsl(r, g, b), a]);\n        },\n        hsv(value) {\n            const [r, g, b, a] = rgba(value);\n            return toHsvaString([...rgb2hsv(r, g, b), a]);\n        }\n    },\n    hsl: {\n        hex(value) {\n            const [h, s, l, a] = hsla(value);\n            return toHexaString([...hsl2rgb(h, s, l), a]);\n        },\n        rgb(value) {\n            const [h, s, l, a] = hsla(value);\n            return toRgbaString([...hsl2rgb(h, s, l), a]);\n        },\n        hsv(value) {\n            const [h, s, l, a] = hsla(value);\n            return toHsvaString([...hsl2hsv(h, s, l), a]);\n        }\n    },\n    hsv: {\n        hex(value) {\n            const [h, s, v, a] = hsva(value);\n            return toHexaString([...hsv2rgb(h, s, v), a]);\n        },\n        rgb(value) {\n            const [h, s, v, a] = hsva(value);\n            return toRgbaString([...hsv2rgb(h, s, v), a]);\n        },\n        hsl(value) {\n            const [h, s, v, a] = hsva(value);\n            return toHslaString([...hsv2hsl(h, s, v), a]);\n        }\n    }\n};\n// implementation\nexport function convertColor(value, mode, originalMode) {\n    originalMode = originalMode || getModeFromValue(value);\n    if (!originalMode)\n        return null;\n    if (originalMode === mode)\n        return value;\n    const conversions = convert[originalMode];\n    return conversions[mode](value);\n}\n","import { defineComponent, h, ref } from 'vue';\nimport { off, on } from 'evtd';\nimport { normalizeHue } from './utils';\nconst HANDLE_SIZE = '12px';\nconst HANDLE_SIZE_NUM = 12;\nconst RADIUS = '6px';\nconst RADIUS_NUM = 6;\nconst GRADIENT = 'linear-gradient(90deg,red,#ff0 16.66%,#0f0 33.33%,#0ff 50%,#00f 66.66%,#f0f 83.33%,red)';\nexport default defineComponent({\n    name: 'HueSlider',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        hue: {\n            type: Number,\n            required: true\n        },\n        onUpdateHue: {\n            type: Function,\n            required: true\n        },\n        onComplete: Function\n    },\n    setup(props) {\n        const railRef = ref(null);\n        function handleMouseDown(e) {\n            if (!railRef.value)\n                return;\n            on('mousemove', document, handleMouseMove);\n            on('mouseup', document, handleMouseUp);\n            handleMouseMove(e);\n        }\n        function handleMouseMove(e) {\n            const { value: railEl } = railRef;\n            if (!railEl)\n                return;\n            const { width, left } = railEl.getBoundingClientRect();\n            const newHue = normalizeHue(((e.clientX - left - RADIUS_NUM) / (width - HANDLE_SIZE_NUM)) * 360);\n            props.onUpdateHue(newHue);\n        }\n        function handleMouseUp() {\n            var _a;\n            off('mousemove', document, handleMouseMove);\n            off('mouseup', document, handleMouseUp);\n            (_a = props.onComplete) === null || _a === void 0 ? void 0 : _a.call(props);\n        }\n        return {\n            railRef,\n            handleMouseDown\n        };\n    },\n    render() {\n        const { clsPrefix } = this;\n        return (h(\"div\", { class: `${clsPrefix}-color-picker-slider`, style: {\n                height: HANDLE_SIZE,\n                borderRadius: RADIUS\n            } },\n            h(\"div\", { ref: \"railRef\", style: {\n                    boxShadow: 'inset 0 0 2px 0 rgba(0, 0, 0, .24)',\n                    boxSizing: 'border-box',\n                    backgroundImage: GRADIENT,\n                    height: HANDLE_SIZE,\n                    borderRadius: RADIUS,\n                    position: 'relative'\n                }, onMousedown: this.handleMouseDown },\n                h(\"div\", { style: {\n                        position: 'absolute',\n                        left: RADIUS,\n                        right: RADIUS,\n                        top: 0,\n                        bottom: 0\n                    } },\n                    h(\"div\", { class: `${clsPrefix}-color-picker-handle`, style: {\n                            left: `calc((${this.hue}%) / 359 * 100 - ${RADIUS})`,\n                            borderRadius: RADIUS,\n                            width: HANDLE_SIZE,\n                            height: HANDLE_SIZE\n                        } },\n                        h(\"div\", { class: `${clsPrefix}-color-picker-handle__fill`, style: {\n                                backgroundColor: `hsl(${this.hue}, 100%, 50%)`,\n                                borderRadius: RADIUS,\n                                width: HANDLE_SIZE,\n                                height: HANDLE_SIZE\n                            } }))))));\n    }\n});\n","import { computed, defineComponent, h, ref } from 'vue';\nimport { off, on } from 'evtd';\nimport { toRgbaString } from 'seemly';\nimport { normalizeAlpha } from './utils';\nconst HANDLE_SIZE = '12px';\nconst HANDLE_SIZE_NUM = 12;\nconst RADIUS = '6px';\nexport default defineComponent({\n    name: 'AlphaSlider',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        rgba: {\n            type: Array,\n            default: null\n        },\n        alpha: {\n            type: Number,\n            default: 0\n        },\n        onUpdateAlpha: {\n            type: Function,\n            required: true\n        },\n        onComplete: Function\n    },\n    setup(props) {\n        const railRef = ref(null);\n        function handleMouseDown(e) {\n            if (!railRef.value || !props.rgba)\n                return;\n            on('mousemove', document, handleMouseMove);\n            on('mouseup', document, handleMouseUp);\n            handleMouseMove(e);\n        }\n        function handleMouseMove(e) {\n            const { value: railEl } = railRef;\n            if (!railEl)\n                return;\n            const { width, left } = railEl.getBoundingClientRect();\n            const newAlpha = (e.clientX - left) / (width - HANDLE_SIZE_NUM);\n            props.onUpdateAlpha(normalizeAlpha(newAlpha));\n        }\n        function handleMouseUp() {\n            var _a;\n            off('mousemove', document, handleMouseMove);\n            off('mouseup', document, handleMouseUp);\n            (_a = props.onComplete) === null || _a === void 0 ? void 0 : _a.call(props);\n        }\n        return {\n            railRef,\n            railBackgroundImage: computed(() => {\n                const { rgba } = props;\n                if (!rgba)\n                    return '';\n                return `linear-gradient(to right, rgba(${rgba[0]}, ${rgba[1]}, ${rgba[2]}, 0) 0%, rgba(${rgba[0]}, ${rgba[1]}, ${rgba[2]}, 1) 100%)`;\n            }),\n            handleMouseDown\n        };\n    },\n    render() {\n        const { clsPrefix } = this;\n        return (h(\"div\", { class: `${clsPrefix}-color-picker-slider`, ref: \"railRef\", style: {\n                height: HANDLE_SIZE,\n                borderRadius: RADIUS\n            }, onMousedown: this.handleMouseDown },\n            h(\"div\", { style: {\n                    borderRadius: RADIUS,\n                    position: 'absolute',\n                    left: 0,\n                    right: 0,\n                    top: 0,\n                    bottom: 0,\n                    overflow: 'hidden'\n                } },\n                h(\"div\", { class: `${clsPrefix}-color-picker-checkboard` }),\n                h(\"div\", { class: `${clsPrefix}-color-picker-slider__image`, style: {\n                        backgroundImage: this.railBackgroundImage\n                    } })),\n            this.rgba && (h(\"div\", { style: {\n                    position: 'absolute',\n                    left: RADIUS,\n                    right: RADIUS,\n                    top: 0,\n                    bottom: 0\n                } },\n                h(\"div\", { class: `${clsPrefix}-color-picker-handle`, style: {\n                        left: `calc(${this.alpha * 100}% - ${RADIUS})`,\n                        borderRadius: RADIUS,\n                        width: HANDLE_SIZE,\n                        height: HANDLE_SIZE\n                    } },\n                    h(\"div\", { class: `${clsPrefix}-color-picker-handle__fill`, style: {\n                            backgroundColor: toRgbaString(this.rgba),\n                            borderRadius: RADIUS,\n                            width: HANDLE_SIZE,\n                            height: HANDLE_SIZE\n                        } }))))));\n    }\n});\n","import { on, off } from 'evtd';\nimport { computed, defineComponent, h, ref } from 'vue';\nconst HANDLE_SIZE = '12px';\nconst RADIUS = '6px';\nexport default defineComponent({\n    name: 'Pallete',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        rgba: {\n            type: Array,\n            default: null\n        },\n        // 0 - 360\n        displayedHue: {\n            type: Number,\n            required: true\n        },\n        displayedSv: {\n            type: Array,\n            required: true\n        },\n        onUpdateSV: {\n            type: Function,\n            required: true\n        },\n        onComplete: Function\n    },\n    setup(props) {\n        const palleteRef = ref(null);\n        function handleMouseDown(e) {\n            if (!palleteRef.value)\n                return;\n            on('mousemove', document, handleMouseMove);\n            on('mouseup', document, handleMouseUp);\n            handleMouseMove(e);\n        }\n        function handleMouseMove(e) {\n            const { value: palleteEl } = palleteRef;\n            if (!palleteEl)\n                return;\n            const { width, height, left, bottom } = palleteEl.getBoundingClientRect();\n            const newV = (bottom - e.clientY) / height;\n            const newS = (e.clientX - left) / width;\n            const normalizedNewS = 100 * (newS > 1 ? 1 : newS < 0 ? 0 : newS);\n            const normalizedNewV = 100 * (newV > 1 ? 1 : newV < 0 ? 0 : newV);\n            props.onUpdateSV(normalizedNewS, normalizedNewV);\n        }\n        function handleMouseUp() {\n            var _a;\n            off('mousemove', document, handleMouseMove);\n            off('mouseup', document, handleMouseUp);\n            (_a = props.onComplete) === null || _a === void 0 ? void 0 : _a.call(props);\n        }\n        return {\n            palleteRef,\n            handleColor: computed(() => {\n                const { rgba } = props;\n                if (!rgba)\n                    return '';\n                return `rgb(${rgba[0]}, ${rgba[1]}, ${rgba[2]})`;\n            }),\n            handleMouseDown\n        };\n    },\n    render() {\n        const { clsPrefix } = this;\n        return (h(\"div\", { class: `${clsPrefix}-color-picker-pallete`, onMousedown: this.handleMouseDown, ref: \"palleteRef\" },\n            h(\"div\", { class: `${clsPrefix}-color-picker-pallete__layer`, style: {\n                    backgroundImage: `linear-gradient(90deg, white, hsl(${this.displayedHue}, 100%, 50%))`\n                } }),\n            h(\"div\", { class: `${clsPrefix}-color-picker-pallete__layer ${clsPrefix}-color-picker-pallete__layer--shadowed`, style: {\n                    backgroundImage: 'linear-gradient(180deg, rgba(0, 0, 0, 0%), rgba(0, 0, 0, 100%))'\n                } }),\n            this.rgba && (h(\"div\", { class: `${clsPrefix}-color-picker-handle`, style: {\n                    width: HANDLE_SIZE,\n                    height: HANDLE_SIZE,\n                    borderRadius: RADIUS,\n                    left: `calc(${this.displayedSv[0]}% - ${RADIUS})`,\n                    bottom: `calc(${this.displayedSv[1]}% - ${RADIUS})`\n                } },\n                h(\"div\", { class: `${clsPrefix}-color-picker-handle__fill`, style: {\n                        backgroundColor: this.handleColor,\n                        borderRadius: RADIUS,\n                        width: HANDLE_SIZE,\n                        height: HANDLE_SIZE\n                    } })))));\n    }\n});\n","import { createInjectionKey } from '../../_utils';\nexport const colorPickerInjectionKey = createInjectionKey('n-color-picker');\n","import { defineComponent, h, inject, ref, watchEffect } from 'vue';\nimport { NInput } from '../../input';\nimport { colorPickerInjectionKey } from './context';\n// 0 - 255\nfunction normalizeRgbUnit(value) {\n    if (/^\\d{1,3}\\.?\\d*$/.test(value.trim())) {\n        return Math.max(0, Math.min(parseInt(value), 255));\n    }\n    return false;\n}\n// 0 - 360\nfunction normalizeHueUnit(value) {\n    if (/^\\d{1,3}\\.?\\d*$/.test(value.trim())) {\n        return Math.max(0, Math.min(parseInt(value), 360));\n    }\n    return false;\n}\n// 0 - 100\nfunction normalizeSlvUnit(value) {\n    if (/^\\d{1,3}\\.?\\d*$/.test(value.trim())) {\n        return Math.max(0, Math.min(parseInt(value), 100));\n    }\n    return false;\n}\nfunction normalizeHexaUnit(value) {\n    const trimmedValue = value.trim();\n    if (/^#[0-9a-fA-F]+$/.test(trimmedValue)) {\n        return [4, 5, 7, 9].includes(trimmedValue.length);\n    }\n    return false;\n}\n// 0 - 100%\nfunction normalizeAlphaUnit(value) {\n    if (/^\\d{1,3}\\.?\\d*%$/.test(value.trim())) {\n        return Math.max(0, Math.min(parseInt(value) / 100, 100));\n    }\n    return false;\n}\nconst inputThemeOverrides = {\n    paddingSmall: '0 4px'\n};\nexport default defineComponent({\n    name: 'ColorInputUnit',\n    props: {\n        label: {\n            type: String,\n            required: true\n        },\n        value: {\n            type: [Number, String],\n            default: null\n        },\n        showAlpha: Boolean,\n        onUpdateValue: {\n            type: Function,\n            required: true\n        }\n    },\n    setup(props) {\n        const inputValueRef = ref('');\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const { themeRef } = inject(colorPickerInjectionKey, null);\n        watchEffect(() => {\n            inputValueRef.value = getInputString();\n        });\n        function getInputString() {\n            const { value } = props;\n            if (value === null)\n                return '';\n            const { label } = props;\n            if (label === 'HEX') {\n                return value;\n            }\n            if (label === 'A') {\n                return `${Math.floor(value * 100)}%`;\n            }\n            return String(Math.floor(value));\n        }\n        function handleInputUpdateValue(value) {\n            inputValueRef.value = value;\n        }\n        function handleInputChange(value) {\n            let unit;\n            let valid;\n            switch (props.label) {\n                case 'HEX':\n                    valid = normalizeHexaUnit(value);\n                    if (valid) {\n                        props.onUpdateValue(value);\n                    }\n                    inputValueRef.value = getInputString(); // to normalized new value\n                    break;\n                case 'H':\n                    unit = normalizeHueUnit(value);\n                    if (unit === false) {\n                        inputValueRef.value = getInputString();\n                    }\n                    else {\n                        props.onUpdateValue(unit);\n                    }\n                    break;\n                case 'S':\n                case 'L':\n                case 'V':\n                    unit = normalizeSlvUnit(value);\n                    if (unit === false) {\n                        inputValueRef.value = getInputString();\n                    }\n                    else {\n                        props.onUpdateValue(unit);\n                    }\n                    break;\n                case 'A':\n                    unit = normalizeAlphaUnit(value);\n                    if (unit === false) {\n                        inputValueRef.value = getInputString();\n                    }\n                    else {\n                        props.onUpdateValue(unit);\n                    }\n                    break;\n                case 'R':\n                case 'G':\n                case 'B':\n                    unit = normalizeRgbUnit(value);\n                    if (unit === false) {\n                        inputValueRef.value = getInputString();\n                    }\n                    else {\n                        props.onUpdateValue(unit);\n                    }\n                    break;\n            }\n        }\n        return {\n            mergedTheme: themeRef,\n            inputValue: inputValueRef,\n            handleInputChange,\n            handleInputUpdateValue\n        };\n    },\n    render() {\n        const { mergedTheme } = this;\n        return (h(NInput, { size: \"small\", placeholder: this.label, theme: mergedTheme.peers.Input, themeOverrides: mergedTheme.peerOverrides.Input, builtinThemeOverrides: inputThemeOverrides, value: this.inputValue, onUpdateValue: this.handleInputUpdateValue, onChange: this.handleInputChange, \n            // add more space for xxx% input\n            style: this.label === 'A' ? 'flex-grow: 1.25;' : '' }));\n    }\n});\n","import { toHsvaString, toRgbaString, toHslaString, toHexaString, toHexString, toHsvString, toRgbString, toHslString } from 'seemly';\nimport { h, defineComponent } from 'vue';\nimport { NInputGroup } from '../../input';\nimport ColorInputUnit from './ColorInputUnit';\nexport default defineComponent({\n    name: 'ColorInput',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        mode: {\n            type: String,\n            required: true\n        },\n        modes: {\n            type: Array,\n            required: true\n        },\n        showAlpha: {\n            type: Boolean,\n            required: true\n        },\n        value: {\n            // for hex to get percise value\n            type: String,\n            default: null\n        },\n        valueArr: {\n            type: Array,\n            default: null\n        },\n        onUpdateValue: {\n            type: Function,\n            required: true\n        },\n        onUpdateMode: {\n            type: Function,\n            required: true\n        }\n    },\n    setup(props) {\n        return {\n            handleUnitUpdateValue(index, value) {\n                const { showAlpha } = props;\n                if (props.mode === 'hex') {\n                    props.onUpdateValue((showAlpha ? toHexaString : toHexString)(value));\n                    return;\n                }\n                let nextValueArr;\n                if (props.valueArr === null) {\n                    nextValueArr = [0, 0, 0, 0];\n                }\n                else {\n                    nextValueArr = Array.from(props.valueArr);\n                }\n                switch (props.mode) {\n                    case 'hsv':\n                        nextValueArr[index] = value;\n                        props.onUpdateValue((showAlpha ? toHsvaString : toHsvString)(nextValueArr));\n                        break;\n                    case 'rgb':\n                        nextValueArr[index] = value;\n                        props.onUpdateValue((showAlpha ? toRgbaString : toRgbString)(nextValueArr));\n                        break;\n                    case 'hsl':\n                        nextValueArr[index] = value;\n                        props.onUpdateValue((showAlpha ? toHslaString : toHslString)(nextValueArr));\n                        break;\n                }\n            }\n        };\n    },\n    render() {\n        const { clsPrefix, modes } = this;\n        return (h(\"div\", { class: `${clsPrefix}-color-picker-input` },\n            h(\"div\", { class: `${clsPrefix}-color-picker-input__mode`, onClick: this.onUpdateMode, style: {\n                    cursor: modes.length === 1 ? '' : 'pointer'\n                } }, this.mode.toUpperCase() + (this.showAlpha ? 'A' : '')),\n            h(NInputGroup, null, {\n                default: () => {\n                    const { mode, valueArr, showAlpha } = this;\n                    if (mode === 'hex') {\n                        // hex and rgba shares the same value arr\n                        let hexValue = null;\n                        try {\n                            hexValue =\n                                valueArr === null\n                                    ? null\n                                    : (showAlpha ? toHexaString : toHexString)(valueArr);\n                        }\n                        catch (_a) { }\n                        return (h(ColorInputUnit, { label: 'HEX', showAlpha: showAlpha, value: hexValue, onUpdateValue: (unitValue) => {\n                                this.handleUnitUpdateValue(0, unitValue);\n                            } }));\n                    }\n                    return (mode + (showAlpha ? 'a' : '')).split('').map((v, i) => (h(ColorInputUnit, { label: v.toUpperCase(), value: valueArr === null ? null : valueArr[i], onUpdateValue: (unitValue) => {\n                            this.handleUnitUpdateValue(i, unitValue);\n                        } })));\n                }\n            })));\n    }\n});\n","import { toHslaString } from 'seemly';\nimport { defineComponent, h, inject } from 'vue';\nimport { colorPickerInjectionKey } from './context';\nexport default defineComponent({\n    name: 'ColorPickerTrigger',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        value: {\n            type: String,\n            default: null\n        },\n        hsla: {\n            type: Array,\n            default: null\n        },\n        disabled: Boolean,\n        onClick: Function\n    },\n    setup(props) {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const { colorPickerSlots, renderLabelRef } = inject(colorPickerInjectionKey, null);\n        return () => {\n            const { hsla, value, clsPrefix, onClick, disabled } = props;\n            const renderLabel = colorPickerSlots.label || renderLabelRef.value;\n            return (h(\"div\", { class: [\n                    `${clsPrefix}-color-picker-trigger`,\n                    disabled && `${clsPrefix}-color-picker-trigger--disabled`\n                ], onClick: disabled ? undefined : onClick },\n                h(\"div\", { class: `${clsPrefix}-color-picker-trigger__fill` },\n                    h(\"div\", { class: `${clsPrefix}-color-picker-checkboard` }),\n                    h(\"div\", { style: {\n                            position: 'absolute',\n                            left: 0,\n                            right: 0,\n                            top: 0,\n                            bottom: 0,\n                            backgroundColor: hsla ? toHslaString(hsla) : ''\n                        } }),\n                    value && hsla ? (h(\"div\", { class: `${clsPrefix}-color-picker-trigger__value`, style: {\n                            color: hsla[2] > 50 || hsla[3] < 0.5 ? 'black' : 'white'\n                        } }, renderLabel ? renderLabel(value) : value)) : null)));\n        };\n    }\n});\n","import { defineComponent, h, computed } from 'vue';\nimport { hsv2rgb, hsva, toRgbaString } from 'seemly';\nimport { convertColor, getModeFromValue } from './utils';\nimport { warn } from '../../_utils';\n// Try to normalize the color values to ensure that they are valid CSS colors\nfunction normalizeColor(color, mode) {\n    if (mode === 'hsv') {\n        const [h, s, v, a] = hsva(color);\n        return toRgbaString([...hsv2rgb(h, s, v), a]);\n    }\n    // For the mode that is not in preset, we keep the original value.\n    // For color names, they are legal to CSS, so we donâ€™t deal with them,\n    // and only standardize them when outputting.\n    return color;\n}\nfunction getHexFromName(color) {\n    const ctx = document\n        .createElement('canvas')\n        .getContext('2d');\n    ctx.fillStyle = color;\n    return ctx.fillStyle;\n}\nexport default defineComponent({\n    name: 'ColorPickerSwatches',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        mode: {\n            type: String,\n            required: true\n        },\n        swatches: {\n            type: Array,\n            required: true\n        },\n        onUpdateColor: {\n            type: Function,\n            required: true\n        }\n    },\n    setup(props) {\n        const parsedSwatchesRef = computed(() => props.swatches.map((value) => {\n            const mode = getModeFromValue(value);\n            return {\n                value,\n                mode,\n                legalValue: normalizeColor(value, mode)\n            };\n        }));\n        function normalizeOutput(parsed) {\n            const { mode: modeProp } = props;\n            let { value, mode: swatchColorMode } = parsed;\n            // color name is converted to hex\n            if (!swatchColorMode) {\n                swatchColorMode = 'hex';\n                if (/^[a-zA-Z]+$/.test(value)) {\n                    value = getHexFromName(value);\n                }\n                else {\n                    // for invalid color, we make it black\n                    warn('color-picker', `color ${value} in swatches is invalid.`);\n                    value = '#000000';\n                }\n            }\n            if (swatchColorMode === modeProp)\n                return value;\n            // swatch value to current mode value\n            return convertColor(value, modeProp, swatchColorMode);\n        }\n        function handleSwatchSelect(parsed) {\n            props.onUpdateColor(normalizeOutput(parsed));\n        }\n        function handleSwatchKeyDown(e, parsed) {\n            if (e.key === 'Enter')\n                handleSwatchSelect(parsed);\n        }\n        return {\n            parsedSwatchesRef,\n            handleSwatchSelect,\n            handleSwatchKeyDown\n        };\n    },\n    render() {\n        const { clsPrefix } = this;\n        return (h(\"div\", { class: `${clsPrefix}-color-picker-swatches` }, this.parsedSwatchesRef.map((swatch) => (h(\"div\", { class: `${clsPrefix}-color-picker-swatch`, tabindex: 0, onClick: () => { this.handleSwatchSelect(swatch); }, onKeydown: (e) => { this.handleSwatchKeyDown(e, swatch); } },\n            h(\"div\", { class: `${clsPrefix}-color-picker-swatch__fill`, style: { background: swatch.legalValue } }))))));\n    }\n});\n","import { defineComponent, h } from 'vue';\nimport { convertColor, getModeFromValue } from './utils';\nexport default defineComponent({\n    name: 'ColorPreview',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        mode: {\n            type: String,\n            required: true\n        },\n        color: {\n            type: String,\n            default: null,\n            validator: (value) => {\n                const mode = getModeFromValue(value);\n                return Boolean(!value || (mode && mode !== 'hsv'));\n            }\n        },\n        onUpdateColor: {\n            type: Function,\n            required: true\n        }\n    },\n    setup(props) {\n        function handleChange(e) {\n            var _a;\n            // hex\n            const value = e.target.value;\n            (_a = props.onUpdateColor) === null || _a === void 0 ? void 0 : _a.call(props, convertColor(value.toUpperCase(), props.mode, 'hex'));\n            e.stopPropagation();\n        }\n        return {\n            handleChange\n        };\n    },\n    render() {\n        const { clsPrefix } = this;\n        return (h(\"div\", { class: `${clsPrefix}-color-picker-preview__preview` },\n            h(\"span\", { class: `${clsPrefix}-color-picker-preview__fill`, style: {\n                    background: this.color || '#000000'\n                } }),\n            h(\"input\", { class: `${clsPrefix}-color-picker-preview__input`, type: \"color\", value: this.color, onChange: this.handleChange })));\n    }\n});\n","import { c, cB, cE, cM } from '../../../_utils/cssr';\nimport { fadeInScaleUpTransition } from '../../../_styles/transitions/fade-in-scale-up.cssr';\n// vars:\n// --n-color\n// --n-text-color\n// --n-border-radius\n// --n-panel-font-size\n// --n-font-size\n// --n-bezier\n// --n-height\n// --n-box-shadow\n// --n-divider-color\nexport default c([cB('color-picker', `\n display: inline-block;\n box-sizing: border-box;\n height: var(--n-height);\n font-size: var(--n-font-size);\n width: 100%;\n position: relative;\n `), cB('color-picker-panel', `\n margin: 4px 0;\n width: 240px;\n font-size: var(--n-panel-font-size);\n color: var(--n-text-color);\n background-color: var(--n-color);\n transition:\n box-shadow .3s var(--n-bezier),\n color .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n border-radius: var(--n-border-radius);\n box-shadow: var(--n-box-shadow);\n `, [fadeInScaleUpTransition(), cB('input', `\n text-align: center;\n `)]), cB('color-picker-checkboard', `\n background: white; \n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n `, [c('&::after', `\n background-image: linear-gradient(45deg, #DDD 25%, #0000 25%), linear-gradient(-45deg, #DDD 25%, #0000 25%), linear-gradient(45deg, #0000 75%, #DDD 75%), linear-gradient(-45deg, #0000 75%, #DDD 75%);\n background-size: 12px 12px;\n background-position: 0 0, 0 6px, 6px -6px, -6px 0px;\n background-repeat: repeat;\n content: \"\";\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n `)]), cB('color-picker-slider', `\n margin-bottom: 8px;\n position: relative;\n box-sizing: border-box;\n `, [cE('image', `\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n `), c('&::after', `\n content: \"\";\n position: absolute;\n border-radius: inherit;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n box-shadow: inset 0 0 2px 0 rgba(0, 0, 0, .24);\n pointer-events: none;\n `)]), cB('color-picker-handle', `\n z-index: 1;\n box-shadow: 0 0 2px 0 rgba(0, 0, 0, .45);\n position: absolute;\n background-color: white;\n overflow: hidden;\n `, [cE('fill', `\n box-sizing: border-box;\n border: 2px solid white;\n `)]), cB('color-picker-pallete', `\n height: 180px;\n position: relative;\n margin-bottom: 8px;\n cursor: crosshair;\n `, [cE('layer', `\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n `, [cM('shadowed', `\n box-shadow: inset 0 0 2px 0 rgba(0, 0, 0, .24);\n `)])]), cB('color-picker-preview', `\n display: flex;\n `, [cE('sliders', `\n flex: 1 0 auto;\n `), cE('preview', `\n position: relative;\n height: 30px;\n width: 30px;\n margin: 0 0 8px 6px;\n border-radius: 50%;\n box-shadow: rgba(0, 0, 0, .15) 0px 0px 0px 1px inset;\n overflow: hidden;\n `), cE('fill', `\n display: block;\n width: 30px;\n height: 30px;\n `), cE('input', `\n position: absolute;\n top: 0;\n left: 0;\n width: 30px;\n height: 30px;\n opacity: 0;\n z-index: 1;\n `)]), cB('color-picker-input', `\n display: flex;\n align-items: center;\n `, [cB('input', `\n flex-grow: 1;\n flex-basis: 0;\n `), cE('mode', `\n width: 72px;\n text-align: center;\n `)]), cB('color-picker-control', `\n padding: 12px;\n `), cB('color-picker-action', `\n display: flex;\n margin-top: -4px;\n border-top: 1px solid var(--n-divider-color);\n padding: 8px 12px;\n justify-content: flex-end;\n `, [cB('button', 'margin-left: 8px;')]), cB('color-picker-trigger', `\n border: var(--n-border);\n height: 100%;\n box-sizing: border-box;\n border-radius: var(--n-border-radius);\n transition: border-color .3s var(--n-bezier);\n cursor: pointer;\n `, [cE('value', `\n white-space: nowrap;\n position: relative;\n `), cE('fill', `\n border-radius: var(--n-border-radius);\n position: absolute;\n display: flex;\n align-items: center;\n justify-content: center;\n left: 4px;\n right: 4px;\n top: 4px;\n bottom: 4px;\n `), cM('disabled', 'cursor: not-allowed'), cB('color-picker-checkboard', `\n border-radius: var(--n-border-radius);\n `, [c('&::after', `\n --n-block-size: calc((var(--n-height) - 8px) / 3);\n background-size: calc(var(--n-block-size) * 2) calc(var(--n-block-size) * 2);\n background-position: 0 0, 0 var(--n-block-size), var(--n-block-size) calc(-1 * var(--n-block-size)), calc(-1 * var(--n-block-size)) 0px; \n `)])]), cB('color-picker-swatches', `\n display: grid;\n grid-gap: 8px;\n flex-wrap: wrap;\n position: relative;\n grid-template-columns: repeat(auto-fill, 18px);\n margin-top: 10px;\n `, [cB('color-picker-swatch', `\n width: 18px;\n height: 18px;\n background-image: linear-gradient(45deg, #DDD 25%, #0000 25%), linear-gradient(-45deg, #DDD 25%, #0000 25%), linear-gradient(45deg, #0000 75%, #DDD 75%), linear-gradient(-45deg, #0000 75%, #DDD 75%);\n background-size: 8px 8px;\n background-position: 0px 0, 0px 4px, 4px -4px, -4px 0px;\n background-repeat: repeat;\n `, [cE('fill', `\n position: relative;\n width: 100%;\n height: 100%;\n border-radius: 3px;\n box-shadow: rgba(0, 0, 0, .15) 0px 0px 0px 1px inset;\n cursor: pointer;\n `), c('&:focus', `\n outline: none;\n `, [cE('fill', [c('&::after', `\n position: absolute;\n top: 0;\n right: 0;\n bottom: 0;\n left: 0;\n background: inherit;\n filter: blur(2px);\n content: \"\";\n `)])])])])]);","import { h, defineComponent, ref, computed, toRef, watchEffect, withDirectives, Transition, provide, watch, nextTick } from 'vue';\nimport { hsv2rgb, rgb2hsv, rgba, hsva, hsla, hsl2hsv, hsv2hsl, rgb2hsl, hsl2rgb, toRgbaString, toHsvaString, toHslaString, toHexaString, toHsvString, toRgbString, toHexString, toHslString, getPreciseEventTarget } from 'seemly';\nimport { useIsMounted, useMergedState } from 'vooks';\nimport { VBinder, VFollower, VTarget } from 'vueuc';\nimport { clickoutside } from 'vdirs';\nimport { colorPickerLight } from '../styles';\nimport { useFormItem, useConfig, useTheme, useLocale, useThemeClass } from '../../_mixins';\nimport { call, createKey, useAdjustedTo } from '../../_utils';\nimport { NButton } from '../../button';\nimport HueSlider from './HueSlider';\nimport AlphaSlider from './AlphaSlider';\nimport Pallete from './Pallete';\nimport ColorInput from './ColorInput';\nimport ColorPickerTrigger from './ColorPickerTrigger';\nimport { deriveDefaultValue, getModeFromValue } from './utils';\nimport ColorPickerSwatches from './ColorPickerSwatches';\nimport ColorPreview from './ColorPreview';\nimport { colorPickerInjectionKey } from './context';\nimport style from './styles/index.cssr';\nexport const colorPickerProps = Object.assign(Object.assign({}, useTheme.props), { value: String, show: {\n        type: Boolean,\n        default: undefined\n    }, defaultShow: Boolean, defaultValue: String, modes: {\n        type: Array,\n        // no hsva by default since browser doesn't support it\n        default: () => ['rgb', 'hex', 'hsl']\n    }, placement: {\n        type: String,\n        default: 'bottom-start'\n    }, to: useAdjustedTo.propTo, showAlpha: {\n        type: Boolean,\n        default: true\n    }, showPreview: Boolean, swatches: Array, disabled: {\n        type: Boolean,\n        default: undefined\n    }, actions: {\n        type: Array,\n        default: null\n    }, internalActions: Array, size: String, renderLabel: Function, onComplete: Function, onConfirm: Function, 'onUpdate:show': [Function, Array], onUpdateShow: [Function, Array], 'onUpdate:value': [Function, Array], onUpdateValue: [Function, Array] });\nexport default defineComponent({\n    name: 'ColorPicker',\n    props: colorPickerProps,\n    setup(props, { slots }) {\n        const selfRef = ref(null);\n        let upcomingValue = null;\n        const formItem = useFormItem(props);\n        const { mergedSizeRef, mergedDisabledRef } = formItem;\n        const { localeRef } = useLocale('global');\n        const { mergedClsPrefixRef, namespaceRef, inlineThemeDisabled } = useConfig(props);\n        const themeRef = useTheme('ColorPicker', '-color-picker', style, colorPickerLight, props, mergedClsPrefixRef);\n        provide(colorPickerInjectionKey, {\n            themeRef,\n            renderLabelRef: toRef(props, 'renderLabel'),\n            colorPickerSlots: slots\n        });\n        const uncontrolledShowRef = ref(props.defaultShow);\n        const mergedShowRef = useMergedState(toRef(props, 'show'), uncontrolledShowRef);\n        function doUpdateShow(value) {\n            const { onUpdateShow, 'onUpdate:show': _onUpdateShow } = props;\n            if (onUpdateShow)\n                call(onUpdateShow, value);\n            if (_onUpdateShow)\n                call(_onUpdateShow, value);\n            uncontrolledShowRef.value = value;\n        }\n        const { defaultValue } = props;\n        const uncontrolledValueRef = ref(defaultValue === undefined\n            ? deriveDefaultValue(props.modes, props.showAlpha)\n            : defaultValue);\n        const mergedValueRef = useMergedState(toRef(props, 'value'), uncontrolledValueRef);\n        const undoStackRef = ref([mergedValueRef.value]);\n        const valueIndexRef = ref(0);\n        const valueModeRef = computed(() => getModeFromValue(mergedValueRef.value));\n        const { modes } = props;\n        const displayedModeRef = ref(getModeFromValue(mergedValueRef.value) || modes[0] || 'rgb');\n        function handleUpdateDisplayedMode() {\n            const { modes } = props;\n            const { value: displayedMode } = displayedModeRef;\n            const currentModeIndex = modes.findIndex((mode) => mode === displayedMode);\n            if (~currentModeIndex) {\n                displayedModeRef.value = modes[(currentModeIndex + 1) % modes.length];\n            }\n            else {\n                displayedModeRef.value = 'rgb';\n            }\n        }\n        let _h, // avoid conflict with render function's h\n        s, l, v, r, g, b, a;\n        const hsvaRef = computed(() => {\n            const { value: mergedValue } = mergedValueRef;\n            if (!mergedValue)\n                return null;\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            switch (valueModeRef.value) {\n                case 'hsv':\n                    return hsva(mergedValue);\n                case 'hsl':\n                    ;\n                    [_h, s, l, a] = hsla(mergedValue);\n                    return [...hsl2hsv(_h, s, l), a];\n                case 'rgb':\n                case 'hex':\n                    ;\n                    [r, g, b, a] = rgba(mergedValue);\n                    return [...rgb2hsv(r, g, b), a];\n            }\n        });\n        const rgbaRef = computed(() => {\n            const { value: mergedValue } = mergedValueRef;\n            if (!mergedValue)\n                return null;\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            switch (valueModeRef.value) {\n                case 'rgb':\n                case 'hex':\n                    return rgba(mergedValue);\n                case 'hsv':\n                    ;\n                    [_h, s, v, a] = hsva(mergedValue);\n                    return [...hsv2rgb(_h, s, v), a];\n                case 'hsl':\n                    ;\n                    [_h, s, l, a] = hsla(mergedValue);\n                    return [...hsl2rgb(_h, s, l), a];\n            }\n        });\n        const hslaRef = computed(() => {\n            const { value: mergedValue } = mergedValueRef;\n            if (!mergedValue)\n                return null;\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            switch (valueModeRef.value) {\n                case 'hsl':\n                    return hsla(mergedValue);\n                case 'hsv':\n                    ;\n                    [_h, s, v, a] = hsva(mergedValue);\n                    return [...hsv2hsl(_h, s, v), a];\n                case 'rgb':\n                case 'hex':\n                    ;\n                    [r, g, b, a] = rgba(mergedValue);\n                    return [...rgb2hsl(r, g, b), a];\n            }\n        });\n        const mergedValueArrRef = computed(() => {\n            switch (displayedModeRef.value) {\n                case 'rgb':\n                case 'hex':\n                    return rgbaRef.value;\n                case 'hsv':\n                    return hsvaRef.value;\n                case 'hsl':\n                    return hslaRef.value;\n            }\n        });\n        const displayedHueRef = ref(0);\n        const displayedAlphaRef = ref(1);\n        const displayedSvRef = ref([0, 0]);\n        function handleUpdateSv(s, v) {\n            const { value: hsvaArr } = hsvaRef;\n            const hue = displayedHueRef.value;\n            const alpha = hsvaArr ? hsvaArr[3] : 1;\n            displayedSvRef.value = [s, v];\n            const { showAlpha } = props;\n            switch (displayedModeRef.value) {\n                case 'hsv':\n                    doUpdateValue((showAlpha ? toHsvaString : toHsvString)([hue, s, v, alpha]), 'cursor');\n                    break;\n                case 'hsl':\n                    doUpdateValue((showAlpha ? toHslaString : toHslString)([\n                        ...hsv2hsl(hue, s, v),\n                        alpha\n                    ]), 'cursor');\n                    break;\n                case 'rgb':\n                    doUpdateValue((showAlpha ? toRgbaString : toRgbString)([\n                        ...hsv2rgb(hue, s, v),\n                        alpha\n                    ]), 'cursor');\n                    break;\n                case 'hex':\n                    doUpdateValue((showAlpha ? toHexaString : toHexString)([\n                        ...hsv2rgb(hue, s, v),\n                        alpha\n                    ]), 'cursor');\n                    break;\n            }\n        }\n        function handleUpdateHue(hue) {\n            displayedHueRef.value = hue;\n            const { value: hsvaArr } = hsvaRef;\n            if (!hsvaArr) {\n                return;\n            }\n            const [, s, v, a] = hsvaArr;\n            const { showAlpha } = props;\n            switch (displayedModeRef.value) {\n                case 'hsv':\n                    doUpdateValue((showAlpha ? toHsvaString : toHsvString)([hue, s, v, a]), 'cursor');\n                    break;\n                case 'rgb':\n                    doUpdateValue((showAlpha ? toRgbaString : toRgbString)([\n                        ...hsv2rgb(hue, s, v),\n                        a\n                    ]), 'cursor');\n                    break;\n                case 'hex':\n                    doUpdateValue((showAlpha ? toHexaString : toHexString)([\n                        ...hsv2rgb(hue, s, v),\n                        a\n                    ]), 'cursor');\n                    break;\n                case 'hsl':\n                    doUpdateValue((showAlpha ? toHslaString : toHslString)([\n                        ...hsv2hsl(hue, s, v),\n                        a\n                    ]), 'cursor');\n                    break;\n            }\n        }\n        function handleUpdateAlpha(alpha) {\n            switch (displayedModeRef.value) {\n                case 'hsv':\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    ;\n                    [_h, s, v] = hsvaRef.value;\n                    doUpdateValue(toHsvaString([_h, s, v, alpha]), 'cursor');\n                    break;\n                case 'rgb':\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    ;\n                    [r, g, b] = rgbaRef.value;\n                    doUpdateValue(toRgbaString([r, g, b, alpha]), 'cursor');\n                    break;\n                case 'hex':\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    ;\n                    [r, g, b] = rgbaRef.value;\n                    doUpdateValue(toHexaString([r, g, b, alpha]), 'cursor');\n                    break;\n                case 'hsl':\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    ;\n                    [_h, s, l] = hslaRef.value;\n                    doUpdateValue(toHslaString([_h, s, l, alpha]), 'cursor');\n                    break;\n            }\n            displayedAlphaRef.value = alpha;\n        }\n        function doUpdateValue(value, updateSource) {\n            if (updateSource === 'cursor') {\n                upcomingValue = value;\n            }\n            else {\n                upcomingValue = null;\n            }\n            const { nTriggerFormChange, nTriggerFormInput } = formItem;\n            const { onUpdateValue, 'onUpdate:value': _onUpdateValue } = props;\n            if (onUpdateValue)\n                call(onUpdateValue, value);\n            if (_onUpdateValue)\n                call(_onUpdateValue, value);\n            nTriggerFormChange();\n            nTriggerFormInput();\n            uncontrolledValueRef.value = value;\n        }\n        function handleInputUpdateValue(value) {\n            doUpdateValue(value, 'input');\n            void nextTick(handleComplete);\n        }\n        function handleComplete(pushStack = true) {\n            const { value } = mergedValueRef;\n            // no value & only hue changes will complete with no value\n            if (value) {\n                const { nTriggerFormChange, nTriggerFormInput } = formItem;\n                const { onComplete } = props;\n                if (onComplete) {\n                    ;\n                    onComplete(value);\n                }\n                const { value: undoStack } = undoStackRef;\n                const { value: valueIndex } = valueIndexRef;\n                if (pushStack) {\n                    undoStack.splice(valueIndex + 1, undoStack.length, value);\n                    valueIndexRef.value = valueIndex + 1;\n                }\n                nTriggerFormChange();\n                nTriggerFormInput();\n            }\n        }\n        function undo() {\n            const { value: valueIndex } = valueIndexRef;\n            if (valueIndex - 1 < 0)\n                return;\n            doUpdateValue(undoStackRef.value[valueIndex - 1], 'input');\n            handleComplete(false);\n            valueIndexRef.value = valueIndex - 1;\n        }\n        function redo() {\n            const { value: valueIndex } = valueIndexRef;\n            if (valueIndex < 0 || valueIndex + 1 >= undoStackRef.value.length)\n                return;\n            doUpdateValue(undoStackRef.value[valueIndex + 1], 'input');\n            handleComplete(false);\n            valueIndexRef.value = valueIndex + 1;\n        }\n        function handleClear() {\n            doUpdateValue(null, 'input');\n            doUpdateShow(false);\n        }\n        function handleConfirm() {\n            const { value } = mergedValueRef;\n            const { onConfirm } = props;\n            if (onConfirm) {\n                ;\n                onConfirm(value);\n            }\n            doUpdateShow(false);\n        }\n        const undoableRef = computed(() => valueIndexRef.value >= 1);\n        const redoableRef = computed(() => {\n            const { value: undoStack } = undoStackRef;\n            return undoStack.length > 1 && valueIndexRef.value < undoStack.length - 1;\n        });\n        watch(mergedShowRef, (value) => {\n            if (!value) {\n                undoStackRef.value = [mergedValueRef.value];\n                valueIndexRef.value = 0;\n            }\n        });\n        watchEffect(() => {\n            if (upcomingValue && upcomingValue === mergedValueRef.value) {\n                // let it works in uncontrolled mode\n            }\n            else {\n                const { value } = hsvaRef;\n                if (value) {\n                    displayedHueRef.value = value[0];\n                    displayedAlphaRef.value = value[3];\n                    displayedSvRef.value = [value[1], value[2]];\n                }\n            }\n            upcomingValue = null;\n        });\n        const cssVarsRef = computed(() => {\n            const { value: mergedSize } = mergedSizeRef;\n            const { common: { cubicBezierEaseInOut }, self: { textColor, color, panelFontSize, boxShadow, border, borderRadius, dividerColor, [createKey('height', mergedSize)]: height, [createKey('fontSize', mergedSize)]: fontSize } } = themeRef.value;\n            return {\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-text-color': textColor,\n                '--n-color': color,\n                '--n-panel-font-size': panelFontSize,\n                '--n-font-size': fontSize,\n                '--n-box-shadow': boxShadow,\n                '--n-border': border,\n                '--n-border-radius': borderRadius,\n                '--n-height': height,\n                '--n-divider-color': dividerColor\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('color-picker', computed(() => {\n                return mergedSizeRef.value[0];\n            }), cssVarsRef, props)\n            : undefined;\n        function renderPanel() {\n            var _a;\n            const { value: rgba } = rgbaRef;\n            const { value: displayedHue } = displayedHueRef;\n            const { internalActions, modes, actions } = props;\n            const { value: mergedTheme } = themeRef;\n            const { value: mergedClsPrefix } = mergedClsPrefixRef;\n            return (h(\"div\", { class: [\n                    `${mergedClsPrefix}-color-picker-panel`,\n                    themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass.value\n                ], onDragstart: (e) => {\n                    e.preventDefault();\n                }, style: inlineThemeDisabled\n                    ? undefined\n                    : cssVarsRef.value },\n                h(\"div\", { class: `${mergedClsPrefix}-color-picker-control` },\n                    h(Pallete, { clsPrefix: mergedClsPrefix, rgba: rgba, displayedHue: displayedHue, displayedSv: displayedSvRef.value, onUpdateSV: handleUpdateSv, onComplete: handleComplete }),\n                    h(\"div\", { class: `${mergedClsPrefix}-color-picker-preview` },\n                        h(\"div\", { class: `${mergedClsPrefix}-color-picker-preview__sliders` },\n                            h(HueSlider, { clsPrefix: mergedClsPrefix, hue: displayedHue, onUpdateHue: handleUpdateHue, onComplete: handleComplete }),\n                            props.showAlpha ? (h(AlphaSlider, { clsPrefix: mergedClsPrefix, rgba: rgba, alpha: displayedAlphaRef.value, onUpdateAlpha: handleUpdateAlpha, onComplete: handleComplete })) : null),\n                        props.showPreview ? (h(ColorPreview, { clsPrefix: mergedClsPrefix, mode: displayedModeRef.value, color: rgbaRef.value && toHexString(rgbaRef.value), onUpdateColor: (color) => { doUpdateValue(color, 'input'); } })) : null),\n                    h(ColorInput, { clsPrefix: mergedClsPrefix, showAlpha: props.showAlpha, mode: displayedModeRef.value, modes: modes, onUpdateMode: handleUpdateDisplayedMode, value: mergedValueRef.value, valueArr: mergedValueArrRef.value, onUpdateValue: handleInputUpdateValue }),\n                    ((_a = props.swatches) === null || _a === void 0 ? void 0 : _a.length) && (h(ColorPickerSwatches, { clsPrefix: mergedClsPrefix, mode: displayedModeRef.value, swatches: props.swatches, onUpdateColor: (color) => { doUpdateValue(color, 'input'); } }))),\n                (actions === null || actions === void 0 ? void 0 : actions.length) ? (h(\"div\", { class: `${mergedClsPrefix}-color-picker-action` },\n                    actions.includes('confirm') && (h(NButton, { size: \"small\", onClick: handleConfirm, theme: mergedTheme.peers.Button, themeOverrides: mergedTheme.peerOverrides.Button }, { default: () => localeRef.value.confirm })),\n                    actions.includes('clear') && (h(NButton, { size: \"small\", onClick: handleClear, disabled: !mergedValueRef.value, theme: mergedTheme.peers.Button, themeOverrides: mergedTheme.peerOverrides.Button }, { default: () => localeRef.value.clear })))) : null,\n                slots.action ? (h(\"div\", { class: `${mergedClsPrefix}-color-picker-action` }, { default: slots.action })) : internalActions ? (h(\"div\", { class: `${mergedClsPrefix}-color-picker-action` },\n                    internalActions.includes('undo') && (h(NButton, { size: \"small\", onClick: undo, disabled: !undoableRef.value, theme: mergedTheme.peers.Button, themeOverrides: mergedTheme.peerOverrides.Button }, { default: () => localeRef.value.undo })),\n                    internalActions.includes('redo') && (h(NButton, { size: \"small\", onClick: redo, disabled: !redoableRef.value, theme: mergedTheme.peers.Button, themeOverrides: mergedTheme.peerOverrides.Button }, { default: () => localeRef.value.redo })))) : null));\n        }\n        return {\n            mergedClsPrefix: mergedClsPrefixRef,\n            namespace: namespaceRef,\n            selfRef,\n            hsla: hslaRef,\n            rgba: rgbaRef,\n            mergedShow: mergedShowRef,\n            mergedDisabled: mergedDisabledRef,\n            isMounted: useIsMounted(),\n            adjustedTo: useAdjustedTo(props),\n            mergedValue: mergedValueRef,\n            handleTriggerClick() {\n                doUpdateShow(true);\n            },\n            handleClickOutside(e) {\n                var _a;\n                if ((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(getPreciseEventTarget(e))) {\n                    return;\n                }\n                doUpdateShow(false);\n            },\n            renderPanel,\n            cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n            themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n            onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n        };\n    },\n    render() {\n        const { $slots, mergedClsPrefix, onRender } = this;\n        onRender === null || onRender === void 0 ? void 0 : onRender();\n        return (h(\"div\", { class: [this.themeClass, `${mergedClsPrefix}-color-picker`], ref: \"selfRef\", style: this.cssVars },\n            h(VBinder, null, {\n                default: () => [\n                    h(VTarget, null, {\n                        default: () => (h(ColorPickerTrigger, { clsPrefix: mergedClsPrefix, value: this.mergedValue, hsla: this.hsla, disabled: this.mergedDisabled, onClick: this.handleTriggerClick }, {\n                            label: $slots.label\n                        }))\n                    }),\n                    h(VFollower, { placement: this.placement, show: this.mergedShow, containerClass: this.namespace, teleportDisabled: this.adjustedTo === useAdjustedTo.tdkey, to: this.adjustedTo }, {\n                        default: () => (h(Transition, { name: \"fade-in-scale-up-transition\", appear: this.isMounted }, {\n                            default: () => this.mergedShow\n                                ? withDirectives(this.renderPanel(), [\n                                    [\n                                        clickoutside,\n                                        this.handleClickOutside,\n                                        undefined,\n                                        { capture: true }\n                                    ]\n                                ])\n                                : null\n                        }))\n                    })\n                ]\n            })));\n    }\n});\n","import { cB, c } from '../../../_utils/cssr';\nimport { fadeInScaleUpTransition } from '../../../_styles/transitions/fade-in-scale-up.cssr';\n// --n-menu-box-shadow\nexport default c([cB('select', `\n z-index: auto;\n outline: none;\n width: 100%;\n position: relative;\n `), cB('select-menu', `\n margin: 4px 0;\n box-shadow: var(--n-menu-box-shadow);\n `, [fadeInScaleUpTransition({\n  originalTransition: 'background-color .3s var(--n-bezier), box-shadow .3s var(--n-bezier)'\n})])]);","import { h, ref, computed, toRef, defineComponent, watch, Transition, withDirectives, vShow, watchEffect } from 'vue';\nimport { getPreciseEventTarget, happensIn } from 'seemly';\nimport { createTreeMate } from 'treemate';\nimport { VBinder, VFollower, VTarget } from 'vueuc';\nimport { useIsMounted, useMergedState, useCompitable } from 'vooks';\nimport { clickoutside } from 'vdirs';\nimport { useTheme, useConfig, useLocale, useFormItem, useThemeClass } from '../../_mixins';\nimport { call, markEventEffectPerformed, useAdjustedTo, warnOnce } from '../../_utils';\nimport { NInternalSelectMenu, NInternalSelection } from '../../_internal';\nimport { selectLight } from '../styles';\nimport { createValOptMap, filterOptions, createTmOptions, patternMatched } from './utils';\nimport style from './styles/index.cssr';\nexport const selectProps = Object.assign(Object.assign({}, useTheme.props), { to: useAdjustedTo.propTo, bordered: {\n        type: Boolean,\n        default: undefined\n    }, clearable: Boolean, clearFilterAfterSelect: {\n        type: Boolean,\n        default: true\n    }, options: {\n        type: Array,\n        default: () => []\n    }, defaultValue: {\n        type: [String, Number, Array],\n        default: null\n    }, keyboard: {\n        type: Boolean,\n        default: true\n    }, value: [String, Number, Array], placeholder: String, menuProps: Object, multiple: Boolean, size: String, filterable: Boolean, disabled: {\n        type: Boolean,\n        default: undefined\n    }, remote: Boolean, loading: Boolean, filter: Function, placement: {\n        type: String,\n        default: 'bottom-start'\n    }, widthMode: {\n        type: String,\n        default: 'trigger'\n    }, tag: Boolean, onCreate: Function, fallbackOption: {\n        type: [Function, Boolean],\n        default: undefined\n    }, show: {\n        type: Boolean,\n        default: undefined\n    }, showArrow: {\n        type: Boolean,\n        default: true\n    }, maxTagCount: [Number, String], consistentMenuWidth: {\n        type: Boolean,\n        default: true\n    }, virtualScroll: {\n        type: Boolean,\n        default: true\n    }, labelField: {\n        type: String,\n        default: 'label'\n    }, valueField: {\n        type: String,\n        default: 'value'\n    }, childrenField: {\n        type: String,\n        default: 'children'\n    }, renderLabel: Function, renderOption: Function, renderTag: Function, 'onUpdate:value': [Function, Array], inputProps: Object, nodeProps: Function, ignoreComposition: { type: Boolean, default: true }, showOnFocus: Boolean, \n    // for jsx\n    onUpdateValue: [Function, Array], onBlur: [Function, Array], onClear: [Function, Array], onFocus: [Function, Array], onScroll: [Function, Array], onSearch: [Function, Array], onUpdateShow: [Function, Array], 'onUpdate:show': [Function, Array], displayDirective: {\n        type: String,\n        default: 'show'\n    }, resetMenuOnOptionsChange: {\n        type: Boolean,\n        default: true\n    }, status: String, showCheckmark: {\n        type: Boolean,\n        default: true\n    }, \n    /** deprecated */\n    onChange: [Function, Array], items: Array });\nexport default defineComponent({\n    name: 'Select',\n    props: selectProps,\n    setup(props) {\n        if (process.env.NODE_ENV !== 'production') {\n            watchEffect(() => {\n                if (props.items !== undefined) {\n                    warnOnce('select', '`items` is deprecated, please use `options` instead.');\n                }\n                if (props.onChange !== undefined) {\n                    warnOnce('select', '`on-change` is deprecated, please use `on-update:value` instead.');\n                }\n            });\n        }\n        const { mergedClsPrefixRef, mergedBorderedRef, namespaceRef, inlineThemeDisabled } = useConfig(props);\n        const themeRef = useTheme('Select', '-select', style, selectLight, props, mergedClsPrefixRef);\n        const uncontrolledValueRef = ref(props.defaultValue);\n        const controlledValueRef = toRef(props, 'value');\n        const mergedValueRef = useMergedState(controlledValueRef, uncontrolledValueRef);\n        const focusedRef = ref(false);\n        const patternRef = ref('');\n        const treeMateRef = computed(() => {\n            const { valueField, childrenField } = props;\n            const options = createTmOptions(valueField, childrenField);\n            return createTreeMate(filteredOptionsRef.value, options);\n        });\n        const valOptMapRef = computed(() => createValOptMap(localOptionsRef.value, props.valueField, props.childrenField));\n        const uncontrolledShowRef = ref(false);\n        const mergedShowRef = useMergedState(toRef(props, 'show'), uncontrolledShowRef);\n        const triggerRef = ref(null);\n        const followerRef = ref(null);\n        const menuRef = ref(null);\n        const { localeRef } = useLocale('Select');\n        const localizedPlaceholderRef = computed(() => {\n            var _a;\n            return (_a = props.placeholder) !== null && _a !== void 0 ? _a : localeRef.value.placeholder;\n        });\n        const compitableOptionsRef = useCompitable(props, ['items', 'options']);\n        const emptyArray = [];\n        const createdOptionsRef = ref([]);\n        const beingCreatedOptionsRef = ref([]);\n        const memoValOptMapRef = ref(new Map());\n        const wrappedFallbackOptionRef = computed(() => {\n            const { fallbackOption } = props;\n            if (fallbackOption === undefined) {\n                const { labelField, valueField } = props;\n                return (value) => ({\n                    [labelField]: String(value),\n                    [valueField]: value\n                });\n            }\n            if (fallbackOption === false)\n                return false;\n            return (value) => {\n                return Object.assign(fallbackOption(value), {\n                    value\n                });\n            };\n        });\n        const localOptionsRef = computed(() => {\n            return beingCreatedOptionsRef.value.concat(createdOptionsRef.value).concat(compitableOptionsRef.value);\n        });\n        const resolvedFilterRef = computed(() => {\n            const { filter } = props;\n            if (filter)\n                return filter;\n            const { labelField, valueField } = props;\n            return (pattern, option) => {\n                if (!option)\n                    return false;\n                const label = option[labelField];\n                if (typeof label === 'string') {\n                    return patternMatched(pattern, label);\n                }\n                const value = option[valueField];\n                if (typeof value === 'string') {\n                    return patternMatched(pattern, value);\n                }\n                if (typeof value === 'number') {\n                    return patternMatched(pattern, String(value));\n                }\n                return false;\n            };\n        });\n        const filteredOptionsRef = computed(() => {\n            if (props.remote) {\n                return compitableOptionsRef.value;\n            }\n            else {\n                const { value: localOptions } = localOptionsRef;\n                const { value: pattern } = patternRef;\n                if (!pattern.length || !props.filterable) {\n                    return localOptions;\n                }\n                else {\n                    return filterOptions(localOptions, resolvedFilterRef.value, pattern, props.childrenField);\n                }\n            }\n        });\n        function getMergedOptions(values) {\n            const remote = props.remote;\n            const { value: memoValOptMap } = memoValOptMapRef;\n            const { value: valOptMap } = valOptMapRef;\n            const { value: wrappedFallbackOption } = wrappedFallbackOptionRef;\n            const options = [];\n            values.forEach((value) => {\n                if (valOptMap.has(value)) {\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    options.push(valOptMap.get(value));\n                }\n                else if (remote && memoValOptMap.has(value)) {\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    options.push(memoValOptMap.get(value));\n                }\n                else if (wrappedFallbackOption) {\n                    const option = wrappedFallbackOption(value);\n                    if (option) {\n                        options.push(option);\n                    }\n                }\n            });\n            return options;\n        }\n        const selectedOptionsRef = computed(() => {\n            if (props.multiple) {\n                const { value: values } = mergedValueRef;\n                if (!Array.isArray(values))\n                    return [];\n                return getMergedOptions(values);\n            }\n            return null;\n        });\n        const selectedOptionRef = computed(() => {\n            const { value: mergedValue } = mergedValueRef;\n            if (!props.multiple && !Array.isArray(mergedValue)) {\n                if (mergedValue === null)\n                    return null;\n                return getMergedOptions([mergedValue])[0] || null;\n            }\n            return null;\n        });\n        const formItem = useFormItem(props);\n        const { mergedSizeRef, mergedDisabledRef, mergedStatusRef } = formItem;\n        function doUpdateValue(value, option) {\n            const { onChange, 'onUpdate:value': _onUpdateValue, onUpdateValue } = props;\n            const { nTriggerFormChange, nTriggerFormInput } = formItem;\n            if (onChange)\n                call(onChange, value, option);\n            if (onUpdateValue)\n                call(onUpdateValue, value, option);\n            if (_onUpdateValue) {\n                call(_onUpdateValue, value, option);\n            }\n            uncontrolledValueRef.value = value;\n            nTriggerFormChange();\n            nTriggerFormInput();\n        }\n        function doBlur(e) {\n            const { onBlur } = props;\n            const { nTriggerFormBlur } = formItem;\n            if (onBlur)\n                call(onBlur, e);\n            nTriggerFormBlur();\n        }\n        function doClear() {\n            const { onClear } = props;\n            if (onClear)\n                call(onClear);\n        }\n        function doFocus(e) {\n            const { onFocus, showOnFocus } = props;\n            const { nTriggerFormFocus } = formItem;\n            if (onFocus)\n                call(onFocus, e);\n            nTriggerFormFocus();\n            if (showOnFocus) {\n                openMenu();\n            }\n        }\n        function doSearch(value) {\n            const { onSearch } = props;\n            if (onSearch)\n                call(onSearch, value);\n        }\n        function doScroll(e) {\n            const { onScroll } = props;\n            if (onScroll)\n                call(onScroll, e);\n        }\n        // remote related methods\n        function updateMemorizedOptions() {\n            var _a;\n            const { remote, multiple } = props;\n            if (remote) {\n                const { value: memoValOptMap } = memoValOptMapRef;\n                if (multiple) {\n                    const { valueField } = props;\n                    (_a = selectedOptionsRef.value) === null || _a === void 0 ? void 0 : _a.forEach((option) => {\n                        memoValOptMap.set(option[valueField], option);\n                    });\n                }\n                else {\n                    const option = selectedOptionRef.value;\n                    if (option) {\n                        memoValOptMap.set(option[props.valueField], option);\n                    }\n                }\n            }\n        }\n        // menu related methods\n        function doUpdateShow(value) {\n            const { onUpdateShow, 'onUpdate:show': _onUpdateShow } = props;\n            if (onUpdateShow)\n                call(onUpdateShow, value);\n            if (_onUpdateShow)\n                call(_onUpdateShow, value);\n            uncontrolledShowRef.value = value;\n        }\n        function openMenu() {\n            if (!mergedDisabledRef.value) {\n                doUpdateShow(true);\n                uncontrolledShowRef.value = true;\n                if (props.filterable) {\n                    focusSelectionInput();\n                }\n            }\n        }\n        function closeMenu() {\n            doUpdateShow(false);\n        }\n        function handleMenuAfterLeave() {\n            patternRef.value = '';\n            beingCreatedOptionsRef.value = emptyArray;\n        }\n        const activeWithoutMenuOpenRef = ref(false);\n        function onTriggerInputFocus() {\n            if (props.filterable) {\n                activeWithoutMenuOpenRef.value = true;\n            }\n        }\n        function onTriggerInputBlur() {\n            if (props.filterable) {\n                activeWithoutMenuOpenRef.value = false;\n                if (!mergedShowRef.value) {\n                    handleMenuAfterLeave();\n                }\n            }\n        }\n        function handleTriggerClick() {\n            if (mergedDisabledRef.value)\n                return;\n            if (!mergedShowRef.value) {\n                openMenu();\n            }\n            else {\n                if (!props.filterable) {\n                    // already focused, don't need to return focus\n                    closeMenu();\n                }\n                else {\n                    focusSelectionInput();\n                }\n            }\n        }\n        function handleTriggerBlur(e) {\n            var _a, _b;\n            if ((_b = (_a = menuRef.value) === null || _a === void 0 ? void 0 : _a.selfRef) === null || _b === void 0 ? void 0 : _b.contains(e.relatedTarget)) {\n                return;\n            }\n            focusedRef.value = false;\n            doBlur(e);\n            // outside select, don't need to return focus\n            closeMenu();\n        }\n        function handleTriggerFocus(e) {\n            doFocus(e);\n            focusedRef.value = true;\n        }\n        function handleMenuFocus(e) {\n            focusedRef.value = true;\n        }\n        function handleMenuBlur(e) {\n            var _a;\n            if ((_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.$el.contains(e.relatedTarget))\n                return;\n            focusedRef.value = false;\n            doBlur(e);\n            // outside select, don't need to return focus\n            closeMenu();\n        }\n        function handleMenuTabOut() {\n            var _a;\n            (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n            closeMenu();\n        }\n        function handleMenuClickOutside(e) {\n            var _a;\n            if (mergedShowRef.value) {\n                if (!((_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.$el.contains(getPreciseEventTarget(e)))) {\n                    // outside select, don't need to return focus\n                    closeMenu();\n                }\n            }\n        }\n        function createClearedMultipleSelectValue(value) {\n            if (!Array.isArray(value))\n                return [];\n            if (wrappedFallbackOptionRef.value) {\n                // if option has a fallback, I can't help user to clear some unknown value\n                return Array.from(value);\n            }\n            else {\n                // if there's no option fallback, unappeared options are treated as invalid\n                const { remote } = props;\n                const { value: valOptMap } = valOptMapRef;\n                if (remote) {\n                    const { value: memoValOptMap } = memoValOptMapRef;\n                    return value.filter((v) => valOptMap.has(v) || memoValOptMap.has(v));\n                }\n                else {\n                    return value.filter((v) => valOptMap.has(v));\n                }\n            }\n        }\n        function handleToggleByTmNode(tmNode) {\n            handleToggleByOption(tmNode.rawNode);\n        }\n        function handleToggleByOption(option) {\n            if (mergedDisabledRef.value)\n                return;\n            const { tag, remote, clearFilterAfterSelect, valueField } = props;\n            if (tag && !remote) {\n                const { value: beingCreatedOptions } = beingCreatedOptionsRef;\n                const beingCreatedOption = beingCreatedOptions[0] || null;\n                if (beingCreatedOption) {\n                    const createdOptions = createdOptionsRef.value;\n                    if (!createdOptions.length) {\n                        createdOptionsRef.value = [beingCreatedOption];\n                    }\n                    else {\n                        createdOptions.push(beingCreatedOption);\n                    }\n                    beingCreatedOptionsRef.value = emptyArray;\n                }\n            }\n            if (remote) {\n                memoValOptMapRef.value.set(option[valueField], option);\n            }\n            if (props.multiple) {\n                const changedValue = createClearedMultipleSelectValue(mergedValueRef.value);\n                const index = changedValue.findIndex((value) => value === option[valueField]);\n                if (~index) {\n                    changedValue.splice(index, 1);\n                    if (tag && !remote) {\n                        const createdOptionIndex = getCreatedOptionIndex(option[valueField]);\n                        if (~createdOptionIndex) {\n                            createdOptionsRef.value.splice(createdOptionIndex, 1);\n                            if (clearFilterAfterSelect)\n                                patternRef.value = '';\n                        }\n                    }\n                }\n                else {\n                    changedValue.push(option[valueField]);\n                    if (clearFilterAfterSelect)\n                        patternRef.value = '';\n                }\n                doUpdateValue(changedValue, getMergedOptions(changedValue));\n            }\n            else {\n                if (tag && !remote) {\n                    const createdOptionIndex = getCreatedOptionIndex(option[valueField]);\n                    if (~createdOptionIndex) {\n                        createdOptionsRef.value = [\n                            createdOptionsRef.value[createdOptionIndex]\n                        ];\n                    }\n                    else {\n                        createdOptionsRef.value = emptyArray;\n                    }\n                }\n                focusSelection();\n                closeMenu();\n                doUpdateValue(option[valueField], option);\n            }\n        }\n        function getCreatedOptionIndex(optionValue) {\n            const createdOptions = createdOptionsRef.value;\n            return createdOptions.findIndex((createdOption) => createdOption[props.valueField] === optionValue);\n        }\n        function handlePatternInput(e) {\n            if (!mergedShowRef.value) {\n                openMenu();\n            }\n            const { value } = e.target;\n            patternRef.value = value;\n            const { tag, remote } = props;\n            doSearch(value);\n            if (tag && !remote) {\n                if (!value) {\n                    beingCreatedOptionsRef.value = emptyArray;\n                    return;\n                }\n                const { onCreate } = props;\n                const optionBeingCreated = onCreate\n                    ? onCreate(value)\n                    : { [props.labelField]: value, [props.valueField]: value };\n                const { valueField } = props;\n                if (compitableOptionsRef.value.some((option) => option[valueField] === optionBeingCreated[valueField]) ||\n                    createdOptionsRef.value.some((option) => option[valueField] === optionBeingCreated[valueField])) {\n                    beingCreatedOptionsRef.value = emptyArray;\n                }\n                else {\n                    beingCreatedOptionsRef.value = [optionBeingCreated];\n                }\n            }\n        }\n        function handleClear(e) {\n            e.stopPropagation();\n            const { multiple } = props;\n            if (!multiple && props.filterable) {\n                closeMenu();\n            }\n            doClear();\n            if (multiple) {\n                doUpdateValue([], []);\n            }\n            else {\n                doUpdateValue(null, null);\n            }\n        }\n        function handleMenuMousedown(e) {\n            if (!happensIn(e, 'action') && !happensIn(e, 'empty'))\n                e.preventDefault();\n        }\n        // scroll events on menu\n        function handleMenuScroll(e) {\n            doScroll(e);\n        }\n        // keyboard events\n        // also for menu keydown\n        function handleKeydown(e) {\n            var _a, _b, _c, _d, _e;\n            if (!props.keyboard) {\n                e.preventDefault();\n                return;\n            }\n            switch (e.key) {\n                case ' ':\n                    if (props.filterable)\n                        break;\n                    else {\n                        e.preventDefault();\n                    }\n                // eslint-disable-next-line no-fallthrough\n                case 'Enter':\n                    if (!((_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.isComposing)) {\n                        if (mergedShowRef.value) {\n                            const pendingTmNode = (_b = menuRef.value) === null || _b === void 0 ? void 0 : _b.getPendingTmNode();\n                            if (pendingTmNode) {\n                                handleToggleByTmNode(pendingTmNode);\n                            }\n                            else if (!props.filterable) {\n                                closeMenu();\n                                focusSelection();\n                            }\n                        }\n                        else {\n                            openMenu();\n                            if (props.tag && activeWithoutMenuOpenRef.value) {\n                                const beingCreatedOption = beingCreatedOptionsRef.value[0];\n                                if (beingCreatedOption) {\n                                    const optionValue = beingCreatedOption[props.valueField];\n                                    const { value: mergedValue } = mergedValueRef;\n                                    if (props.multiple) {\n                                        if (Array.isArray(mergedValue) &&\n                                            mergedValue.some((value) => value === optionValue)) {\n                                            // do nothing\n                                        }\n                                        else {\n                                            handleToggleByOption(beingCreatedOption);\n                                        }\n                                    }\n                                    else {\n                                        handleToggleByOption(beingCreatedOption);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    e.preventDefault();\n                    break;\n                case 'ArrowUp':\n                    e.preventDefault();\n                    if (props.loading)\n                        return;\n                    if (mergedShowRef.value) {\n                        (_c = menuRef.value) === null || _c === void 0 ? void 0 : _c.prev();\n                    }\n                    break;\n                case 'ArrowDown':\n                    e.preventDefault();\n                    if (props.loading)\n                        return;\n                    if (mergedShowRef.value) {\n                        (_d = menuRef.value) === null || _d === void 0 ? void 0 : _d.next();\n                    }\n                    else {\n                        openMenu();\n                    }\n                    break;\n                case 'Escape':\n                    if (mergedShowRef.value) {\n                        markEventEffectPerformed(e);\n                        closeMenu();\n                    }\n                    (_e = triggerRef.value) === null || _e === void 0 ? void 0 : _e.focus();\n                    break;\n            }\n        }\n        function focusSelection() {\n            var _a;\n            (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n        }\n        function focusSelectionInput() {\n            var _a;\n            (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focusInput();\n        }\n        function handleTriggerOrMenuResize() {\n            var _a;\n            if (!mergedShowRef.value)\n                return;\n            (_a = followerRef.value) === null || _a === void 0 ? void 0 : _a.syncPosition();\n        }\n        updateMemorizedOptions();\n        watch(toRef(props, 'options'), updateMemorizedOptions);\n        const exposedMethods = {\n            focus: () => {\n                var _a;\n                (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n            },\n            blur: () => {\n                var _a;\n                (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.blur();\n            }\n        };\n        const cssVarsRef = computed(() => {\n            const { self: { menuBoxShadow } } = themeRef.value;\n            return {\n                '--n-menu-box-shadow': menuBoxShadow\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('select', undefined, cssVarsRef, props)\n            : undefined;\n        return Object.assign(Object.assign({}, exposedMethods), { mergedStatus: mergedStatusRef, mergedClsPrefix: mergedClsPrefixRef, mergedBordered: mergedBorderedRef, namespace: namespaceRef, treeMate: treeMateRef, isMounted: useIsMounted(), triggerRef,\n            menuRef, pattern: patternRef, uncontrolledShow: uncontrolledShowRef, mergedShow: mergedShowRef, adjustedTo: useAdjustedTo(props), uncontrolledValue: uncontrolledValueRef, mergedValue: mergedValueRef, followerRef, localizedPlaceholder: localizedPlaceholderRef, selectedOption: selectedOptionRef, selectedOptions: selectedOptionsRef, mergedSize: mergedSizeRef, mergedDisabled: mergedDisabledRef, focused: focusedRef, activeWithoutMenuOpen: activeWithoutMenuOpenRef, inlineThemeDisabled,\n            onTriggerInputFocus,\n            onTriggerInputBlur,\n            handleTriggerOrMenuResize,\n            handleMenuFocus,\n            handleMenuBlur,\n            handleMenuTabOut,\n            handleTriggerClick, handleToggle: handleToggleByTmNode, handleDeleteOption: handleToggleByOption, handlePatternInput,\n            handleClear,\n            handleTriggerBlur,\n            handleTriggerFocus,\n            handleKeydown,\n            handleMenuAfterLeave,\n            handleMenuClickOutside,\n            handleMenuScroll, handleMenuKeydown: handleKeydown, handleMenuMousedown, mergedTheme: themeRef, cssVars: inlineThemeDisabled ? undefined : cssVarsRef, themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass, onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender });\n    },\n    render() {\n        return (h(\"div\", { class: `${this.mergedClsPrefix}-select` },\n            h(VBinder, null, {\n                default: () => [\n                    h(VTarget, null, {\n                        default: () => (h(NInternalSelection, { ref: \"triggerRef\", inlineThemeDisabled: this.inlineThemeDisabled, status: this.mergedStatus, inputProps: this.inputProps, clsPrefix: this.mergedClsPrefix, showArrow: this.showArrow, maxTagCount: this.maxTagCount, bordered: this.mergedBordered, active: this.activeWithoutMenuOpen || this.mergedShow, pattern: this.pattern, placeholder: this.localizedPlaceholder, selectedOption: this.selectedOption, selectedOptions: this.selectedOptions, multiple: this.multiple, renderTag: this.renderTag, renderLabel: this.renderLabel, filterable: this.filterable, clearable: this.clearable, disabled: this.mergedDisabled, size: this.mergedSize, theme: this.mergedTheme.peers.InternalSelection, labelField: this.labelField, valueField: this.valueField, themeOverrides: this.mergedTheme.peerOverrides.InternalSelection, loading: this.loading, focused: this.focused, onClick: this.handleTriggerClick, onDeleteOption: this.handleDeleteOption, onPatternInput: this.handlePatternInput, onClear: this.handleClear, onBlur: this.handleTriggerBlur, onFocus: this.handleTriggerFocus, onKeydown: this.handleKeydown, onPatternBlur: this.onTriggerInputBlur, onPatternFocus: this.onTriggerInputFocus, onResize: this.handleTriggerOrMenuResize, ignoreComposition: this.ignoreComposition }, {\n                            arrow: () => { var _a, _b; return [(_b = (_a = this.$slots).arrow) === null || _b === void 0 ? void 0 : _b.call(_a)]; }\n                        }))\n                    }),\n                    h(VFollower, { ref: \"followerRef\", show: this.mergedShow, to: this.adjustedTo, teleportDisabled: this.adjustedTo === useAdjustedTo.tdkey, containerClass: this.namespace, width: this.consistentMenuWidth ? 'target' : undefined, minWidth: \"target\", placement: this.placement }, {\n                        default: () => (h(Transition, { name: \"fade-in-scale-up-transition\", appear: this.isMounted, onAfterLeave: this.handleMenuAfterLeave }, {\n                            default: () => {\n                                var _a, _b, _c;\n                                if (!(this.mergedShow ||\n                                    this.displayDirective === 'show')) {\n                                    return null;\n                                }\n                                (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n                                return withDirectives(h(NInternalSelectMenu, Object.assign({}, this.menuProps, { ref: \"menuRef\", onResize: this.handleTriggerOrMenuResize, inlineThemeDisabled: this.inlineThemeDisabled, virtualScroll: this.consistentMenuWidth && this.virtualScroll, class: [\n                                        `${this.mergedClsPrefix}-select-menu`,\n                                        this.themeClass,\n                                        (_b = this.menuProps) === null || _b === void 0 ? void 0 : _b.class\n                                    ], clsPrefix: this.mergedClsPrefix, focusable: true, labelField: this.labelField, valueField: this.valueField, autoPending: true, nodeProps: this.nodeProps, theme: this.mergedTheme.peers.InternalSelectMenu, themeOverrides: this.mergedTheme.peerOverrides\n                                        .InternalSelectMenu, treeMate: this.treeMate, multiple: this.multiple, size: \"medium\", renderOption: this.renderOption, renderLabel: this.renderLabel, value: this.mergedValue, style: [(_c = this.menuProps) === null || _c === void 0 ? void 0 : _c.style, this.cssVars], onToggle: this.handleToggle, onScroll: this.handleMenuScroll, onFocus: this.handleMenuFocus, onBlur: this.handleMenuBlur, onKeydown: this.handleMenuKeydown, onTabOut: this.handleMenuTabOut, onMousedown: this.handleMenuMousedown, show: this.mergedShow, showCheckmark: this.showCheckmark, resetMenuOnOptionsChange: this.resetMenuOnOptionsChange }), {\n                                    empty: () => { var _a, _b; return [(_b = (_a = this.$slots).empty) === null || _b === void 0 ? void 0 : _b.call(_a)]; },\n                                    action: () => { var _a, _b; return [(_b = (_a = this.$slots).action) === null || _b === void 0 ? void 0 : _b.call(_a)]; }\n                                }), this.displayDirective === 'show'\n                                    ? [\n                                        [vShow, this.mergedShow],\n                                        [\n                                            clickoutside,\n                                            this.handleMenuClickOutside,\n                                            undefined,\n                                            { capture: true }\n                                        ]\n                                    ]\n                                    : [\n                                        [\n                                            clickoutside,\n                                            this.handleMenuClickOutside,\n                                            undefined,\n                                            { capture: true }\n                                        ]\n                                    ]);\n                            }\n                        }))\n                    })\n                ]\n            })));\n    }\n});\n","import { changeColor } from 'seemly';\nimport commonVariables from './_common';\nimport { commonLight } from '../../_styles/common';\nconst self = (vars) => {\n    const { borderColor, primaryColor, baseColor, textColorDisabled, inputColorDisabled, textColor2, opacityDisabled, borderRadius, fontSizeSmall, fontSizeMedium, fontSizeLarge, heightSmall, heightMedium, heightLarge, lineHeight } = vars;\n    return Object.assign(Object.assign({}, commonVariables), { labelLineHeight: lineHeight, buttonHeightSmall: heightSmall, buttonHeightMedium: heightMedium, buttonHeightLarge: heightLarge, fontSizeSmall,\n        fontSizeMedium,\n        fontSizeLarge, boxShadow: `inset 0 0 0 1px ${borderColor}`, boxShadowActive: `inset 0 0 0 1px ${primaryColor}`, boxShadowFocus: `inset 0 0 0 1px ${primaryColor}, 0 0 0 2px ${changeColor(primaryColor, { alpha: 0.2 })}`, boxShadowHover: `inset 0 0 0 1px ${primaryColor}`, boxShadowDisabled: `inset 0 0 0 1px ${borderColor}`, color: baseColor, colorDisabled: inputColorDisabled, colorActive: '#0000', textColor: textColor2, textColorDisabled, dotColorActive: primaryColor, dotColorDisabled: borderColor, buttonBorderColor: borderColor, buttonBorderColorActive: primaryColor, buttonBorderColorHover: borderColor, buttonColor: baseColor, buttonColorActive: baseColor, buttonTextColor: textColor2, buttonTextColorActive: primaryColor, buttonTextColorHover: primaryColor, opacityDisabled, buttonBoxShadowFocus: `inset 0 0 0 1px ${primaryColor}, 0 0 0 2px ${changeColor(primaryColor, { alpha: 0.3 })}`, buttonBoxShadowHover: 'inset 0 0 0 1px #0000', buttonBoxShadow: 'inset 0 0 0 1px #0000', buttonBorderRadius: borderRadius });\n};\nconst radioLight = {\n    name: 'Radio',\n    common: commonLight,\n    self\n};\nexport default radioLight;\n","import { inject, ref, toRef, watchEffect } from 'vue';\nimport { useMemo, useMergedState } from 'vooks';\nimport { useConfig, useFormItem } from '../../_mixins';\nimport { call, createInjectionKey, warnOnce } from '../../_utils';\nexport const radioProps = {\n    name: String,\n    value: {\n        type: [String, Number, Boolean],\n        default: 'on'\n    },\n    checked: {\n        type: Boolean,\n        default: undefined\n    },\n    defaultChecked: Boolean,\n    disabled: {\n        type: Boolean,\n        default: undefined\n    },\n    label: String,\n    size: String,\n    onUpdateChecked: [Function, Array],\n    'onUpdate:checked': [Function, Array],\n    // deprecated\n    checkedValue: {\n        type: Boolean,\n        default: undefined\n    }\n};\nexport const radioGroupInjectionKey = createInjectionKey('n-radio-group');\nfunction setup(props) {\n    if (process.env.NODE_ENV !== 'production') {\n        watchEffect(() => {\n            if (props.checkedValue !== undefined) {\n                warnOnce('radio', '`checked-value` is deprecated, please use `checked` instead.');\n            }\n        });\n    }\n    const formItem = useFormItem(props, {\n        mergedSize(NFormItem) {\n            const { size } = props;\n            if (size !== undefined)\n                return size;\n            if (NRadioGroup) {\n                const { mergedSizeRef: { value: mergedSize } } = NRadioGroup;\n                if (mergedSize !== undefined) {\n                    return mergedSize;\n                }\n            }\n            if (NFormItem) {\n                return NFormItem.mergedSize.value;\n            }\n            return 'medium';\n        },\n        mergedDisabled(NFormItem) {\n            if (props.disabled)\n                return true;\n            if (NRadioGroup === null || NRadioGroup === void 0 ? void 0 : NRadioGroup.disabledRef.value)\n                return true;\n            if (NFormItem === null || NFormItem === void 0 ? void 0 : NFormItem.disabled.value)\n                return true;\n            return false;\n        }\n    });\n    const { mergedSizeRef, mergedDisabledRef } = formItem;\n    const inputRef = ref(null);\n    const labelRef = ref(null);\n    const NRadioGroup = inject(radioGroupInjectionKey, null);\n    const uncontrolledCheckedRef = ref(props.defaultChecked);\n    const controlledCheckedRef = toRef(props, 'checked');\n    const mergedCheckedRef = useMergedState(controlledCheckedRef, uncontrolledCheckedRef);\n    const renderSafeCheckedRef = useMemo(() => {\n        if (NRadioGroup)\n            return NRadioGroup.valueRef.value === props.value;\n        return mergedCheckedRef.value;\n    });\n    const mergedNameRef = useMemo(() => {\n        const { name } = props;\n        if (name !== undefined)\n            return name;\n        if (NRadioGroup)\n            return NRadioGroup.nameRef.value;\n    });\n    const focusRef = ref(false);\n    function doUpdateChecked() {\n        if (NRadioGroup) {\n            const { doUpdateValue } = NRadioGroup;\n            const { value } = props;\n            call(doUpdateValue, value);\n        }\n        else {\n            const { onUpdateChecked, 'onUpdate:checked': _onUpdateChecked } = props;\n            const { nTriggerFormInput, nTriggerFormChange } = formItem;\n            if (onUpdateChecked)\n                call(onUpdateChecked, true);\n            if (_onUpdateChecked)\n                call(_onUpdateChecked, true);\n            nTriggerFormInput();\n            nTriggerFormChange();\n            uncontrolledCheckedRef.value = true;\n        }\n    }\n    function toggle() {\n        if (mergedDisabledRef.value)\n            return;\n        if (!renderSafeCheckedRef.value) {\n            doUpdateChecked();\n        }\n    }\n    function handleRadioInputChange() {\n        toggle();\n    }\n    function handleRadioInputBlur() {\n        focusRef.value = false;\n    }\n    function handleRadioInputFocus() {\n        focusRef.value = true;\n    }\n    return {\n        mergedClsPrefix: NRadioGroup\n            ? NRadioGroup.mergedClsPrefixRef\n            : useConfig(props).mergedClsPrefixRef,\n        inputRef,\n        labelRef,\n        mergedName: mergedNameRef,\n        mergedDisabled: mergedDisabledRef,\n        uncontrolledChecked: uncontrolledCheckedRef,\n        renderSafeChecked: renderSafeCheckedRef,\n        focus: focusRef,\n        mergedSize: mergedSizeRef,\n        handleRadioInputChange,\n        handleRadioInputBlur,\n        handleRadioInputFocus\n    };\n}\nexport { setup };\n","import { cB, cE, cM, c, cNotM } from '../../../_utils/cssr';\n// vars:\n// --n-bezier\n// --n-button-border-color\n// --n-button-border-color-active\n// --n-height\n// --n-opacity-disabled\n// --n-font-size\nexport default cB('radio-group', `\n display: inline-block;\n font-size: var(--n-font-size);\n`, [cE('splitor', `\n display: inline-block;\n vertical-align: bottom;\n width: 1px;\n transition:\n background-color .3s var(--n-bezier),\n opacity .3s var(--n-bezier);\n background: var(--n-button-border-color);\n `, [cM('checked', {\n  backgroundColor: 'var(--n-button-border-color-active)'\n}), cM('disabled', {\n  opacity: 'var(--n-opacity-disabled)'\n})]), cM('button-group', `\n white-space: nowrap;\n height: var(--n-height);\n line-height: var(--n-height);\n `, [cB('radio-button', {\n  height: 'var(--n-height)',\n  lineHeight: 'var(--n-height)'\n}), cE('splitor', {\n  height: 'var(--n-height)'\n})]), cB('radio-button', `\n vertical-align: bottom;\n outline: none;\n position: relative;\n user-select: none;\n -webkit-user-select: none;\n display: inline-block;\n box-sizing: border-box;\n padding-left: 14px;\n padding-right: 14px;\n white-space: nowrap;\n transition:\n background-color .3s var(--n-bezier),\n opacity .3s var(--n-bezier),\n border-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n color: var(--n-button-text-color);\n border-top: 1px solid var(--n-button-border-color);\n border-bottom: 1px solid var(--n-button-border-color);\n `, [cB('radio-input', `\n pointer-events: none;\n position: absolute;\n border: 0;\n border-radius: inherit;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n opacity: 0;\n z-index: 1;\n `), cE('state-border', `\n z-index: 1;\n pointer-events: none;\n position: absolute;\n box-shadow: var(--n-button-box-shadow);\n transition: box-shadow .3s var(--n-bezier);\n left: -1px;\n bottom: -1px;\n right: -1px;\n top: -1px;\n `), c('&:first-child', `\n border-top-left-radius: var(--n-button-border-radius);\n border-bottom-left-radius: var(--n-button-border-radius);\n border-left: 1px solid var(--n-button-border-color);\n `, [cE('state-border', `\n border-top-left-radius: var(--n-button-border-radius);\n border-bottom-left-radius: var(--n-button-border-radius);\n `)]), c('&:last-child', `\n border-top-right-radius: var(--n-button-border-radius);\n border-bottom-right-radius: var(--n-button-border-radius);\n border-right: 1px solid var(--n-button-border-color);\n `, [cE('state-border', `\n border-top-right-radius: var(--n-button-border-radius);\n border-bottom-right-radius: var(--n-button-border-radius);\n `)]), cNotM('disabled', `\n cursor: pointer;\n `, [c('&:hover', [cE('state-border', `\n transition: box-shadow .3s var(--n-bezier);\n box-shadow: var(--n-button-box-shadow-hover);\n `), cNotM('checked', {\n  color: 'var(--n-button-text-color-hover)'\n})]), cM('focus', [c('&:not(:active)', [cE('state-border', {\n  boxShadow: 'var(--n-button-box-shadow-focus)'\n})])])]), cM('checked', `\n background: var(--n-button-color-active);\n color: var(--n-button-text-color-active);\n border-color: var(--n-button-border-color-active);\n `), cM('disabled', `\n cursor: not-allowed;\n opacity: var(--n-opacity-disabled);\n `)])]);","import { h, defineComponent, computed, provide, ref, toRef } from 'vue';\nimport { useMergedState } from 'vooks';\nimport { useTheme, useFormItem, useConfig, useThemeClass } from '../../_mixins';\nimport { getSlot, warn, createKey, call, flatten } from '../../_utils';\nimport { radioLight } from '../styles';\nimport { radioGroupInjectionKey } from './use-radio';\nimport style from './styles/radio-group.cssr';\nimport { useRtl } from '../../_mixins/use-rtl';\nfunction mapSlot(defaultSlot, value, clsPrefix) {\n    var _a;\n    const children = [];\n    let isButtonGroup = false;\n    for (let i = 0; i < defaultSlot.length; ++i) {\n        const wrappedInstance = defaultSlot[i];\n        const name = (_a = wrappedInstance.type) === null || _a === void 0 ? void 0 : _a.name;\n        if (name === 'RadioButton') {\n            isButtonGroup = true;\n        }\n        if (process.env.NODE_ENV !== 'production' && isButtonGroup && name !== 'RadioButton') {\n            warn('radio-group', '`n-radio-group` in button mode only takes `n-radio-button` as children.');\n            continue;\n        }\n        const instanceProps = wrappedInstance.props;\n        if (name !== 'RadioButton') {\n            children.push(wrappedInstance);\n            continue;\n        }\n        if (i === 0) {\n            children.push(wrappedInstance);\n        }\n        else {\n            const lastInstanceProps = children[children.length - 1]\n                .props;\n            const lastInstanceChecked = value === lastInstanceProps.value;\n            const lastInstanceDisabled = lastInstanceProps.disabled;\n            const currentInstanceChecked = value === instanceProps.value;\n            const currentInstanceDisabled = instanceProps.disabled;\n            /**\n             * Priority of button splitor:\n             * !disabled  checked >\n             *  disabled  checked >\n             * !disabled !checked >\n             *  disabled !checked\n             */\n            const lastInstancePriority = (lastInstanceChecked ? 2 : 0) + (!lastInstanceDisabled ? 1 : 0);\n            const currentInstancePriority = (currentInstanceChecked ? 2 : 0) + (!currentInstanceDisabled ? 1 : 0);\n            const lastInstanceClass = {\n                [`${clsPrefix}-radio-group__splitor--disabled`]: lastInstanceDisabled,\n                [`${clsPrefix}-radio-group__splitor--checked`]: lastInstanceChecked\n            };\n            const currentInstanceClass = {\n                [`${clsPrefix}-radio-group__splitor--disabled`]: currentInstanceDisabled,\n                [`${clsPrefix}-radio-group__splitor--checked`]: currentInstanceChecked\n            };\n            const splitorClass = lastInstancePriority < currentInstancePriority\n                ? currentInstanceClass\n                : lastInstanceClass;\n            children.push(h(\"div\", { class: [`${clsPrefix}-radio-group__splitor`, splitorClass] }), wrappedInstance);\n        }\n    }\n    return {\n        children,\n        isButtonGroup\n    };\n}\nexport const radioGroupProps = Object.assign(Object.assign({}, useTheme.props), { name: String, value: [String, Number, Boolean], defaultValue: {\n        type: [String, Number, Boolean],\n        default: null\n    }, size: String, disabled: {\n        type: Boolean,\n        default: undefined\n    }, 'onUpdate:value': [Function, Array], onUpdateValue: [Function, Array] });\nexport default defineComponent({\n    name: 'RadioGroup',\n    props: radioGroupProps,\n    setup(props) {\n        const selfElRef = ref(null);\n        const { mergedSizeRef, mergedDisabledRef, nTriggerFormChange, nTriggerFormInput, nTriggerFormBlur, nTriggerFormFocus } = useFormItem(props);\n        const { mergedClsPrefixRef, inlineThemeDisabled, mergedRtlRef } = useConfig(props);\n        const themeRef = useTheme('Radio', '-radio-group', style, radioLight, props, mergedClsPrefixRef);\n        const uncontrolledValueRef = ref(props.defaultValue);\n        const controlledValueRef = toRef(props, 'value');\n        const mergedValueRef = useMergedState(controlledValueRef, uncontrolledValueRef);\n        function doUpdateValue(value) {\n            const { onUpdateValue, 'onUpdate:value': _onUpdateValue } = props;\n            if (onUpdateValue) {\n                call(onUpdateValue, value);\n            }\n            if (_onUpdateValue) {\n                call(_onUpdateValue, value);\n            }\n            uncontrolledValueRef.value = value;\n            nTriggerFormChange();\n            nTriggerFormInput();\n        }\n        function handleFocusin(e) {\n            const { value: selfEl } = selfElRef;\n            if (!selfEl)\n                return;\n            if (selfEl.contains(e.relatedTarget))\n                return;\n            nTriggerFormFocus();\n        }\n        function handleFocusout(e) {\n            const { value: selfEl } = selfElRef;\n            if (!selfEl)\n                return;\n            if (selfEl.contains(e.relatedTarget))\n                return;\n            nTriggerFormBlur();\n        }\n        provide(radioGroupInjectionKey, {\n            mergedClsPrefixRef,\n            nameRef: toRef(props, 'name'),\n            valueRef: mergedValueRef,\n            disabledRef: mergedDisabledRef,\n            mergedSizeRef,\n            doUpdateValue\n        });\n        const rtlEnabledRef = useRtl('Radio', mergedRtlRef, mergedClsPrefixRef);\n        const cssVarsRef = computed(() => {\n            const { value: size } = mergedSizeRef;\n            const { common: { cubicBezierEaseInOut }, self: { buttonBorderColor, buttonBorderColorActive, buttonBorderRadius, buttonBoxShadow, buttonBoxShadowFocus, buttonBoxShadowHover, buttonColorActive, buttonTextColor, buttonTextColorActive, buttonTextColorHover, opacityDisabled, [createKey('buttonHeight', size)]: height, [createKey('fontSize', size)]: fontSize } } = themeRef.value;\n            return {\n                '--n-font-size': fontSize,\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-button-border-color': buttonBorderColor,\n                '--n-button-border-color-active': buttonBorderColorActive,\n                '--n-button-border-radius': buttonBorderRadius,\n                '--n-button-box-shadow': buttonBoxShadow,\n                '--n-button-box-shadow-focus': buttonBoxShadowFocus,\n                '--n-button-box-shadow-hover': buttonBoxShadowHover,\n                '--n-button-color-active': buttonColorActive,\n                '--n-button-text-color': buttonTextColor,\n                '--n-button-text-color-hover': buttonTextColorHover,\n                '--n-button-text-color-active': buttonTextColorActive,\n                '--n-height': height,\n                '--n-opacity-disabled': opacityDisabled\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('radio-group', computed(() => mergedSizeRef.value[0]), cssVarsRef, props)\n            : undefined;\n        return {\n            selfElRef,\n            rtlEnabled: rtlEnabledRef,\n            mergedClsPrefix: mergedClsPrefixRef,\n            mergedValue: mergedValueRef,\n            handleFocusout,\n            handleFocusin,\n            cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n            themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n            onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n        };\n    },\n    render() {\n        var _a;\n        const { mergedValue, mergedClsPrefix, handleFocusin, handleFocusout } = this;\n        const { children, isButtonGroup } = mapSlot(flatten(getSlot(this)), mergedValue, mergedClsPrefix);\n        (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n        return (h(\"div\", { onFocusin: handleFocusin, onFocusout: handleFocusout, ref: \"selfElRef\", class: [\n                `${mergedClsPrefix}-radio-group`,\n                this.rtlEnabled && `${mergedClsPrefix}-radio-group--rtl`,\n                this.themeClass,\n                isButtonGroup && `${mergedClsPrefix}-radio-group--button-group`\n            ], style: this.cssVars }, children));\n    }\n});\n"],"names":["hsl2hsv","h","s","l","v","Math","min","hsv2hsl","m","hsv2rgb","f","n","k","max","rgb2hsv","r","g","b","c","rgb2hsl","abs","hsl2rgb","a","getTitleAttribute","value","String","mergeEventHandlers","handlers","filteredHandlers","filter","handler","length","e","forEach","eventSet","WeakSet","eventEffectNotPerformed","event","has","lowBit","FinweckTree","constructor","this","ft","Array","i","add","get","sum","Error","ret","getBound","threshold","floor","sumM","maybeTouch","wheelScale","ensureWheelScale","window","devicePixelRatio","styles","maxHeight","height","overflow","minWidth","scrollbarWidth","width","display","VVirtualList","defineComponent","name","inheritAttrs","props","showScrollbar","type","Boolean","default","items","itemSize","Number","required","itemResizable","itemsStyle","Object","visibleItemsTag","visibleItemsProps","ignoreItemResize","onScroll","Function","onWheel","onResize","defaultScrollKey","defaultScrollIndex","keyField","paddingTop","paddingBottom","setup","ssrAdapter","useSsrAdapter","mount","id","head","anchorMetaName","cssrAnchorMetaName","ssr","onMounted","scrollTo","index","key","isDeactivated","activateStateInitialized","onActivated","top","scrollTopRef","left","scrollLeft","onDeactivated","keyIndexMapRef","computed","map","Map","item","set","listElRef","ref","listHeightRef","keyToHeightOffset","finweckTreeRef","heightOffset","finweckTreeUpdateTrigger","startIndexRef","useMemo","depx","viewportItemsRef","listHeight","startIndex","endIndex","ceil","viewportItems","push","options","y","scrollToPosition","position","behavior","debounce","scrollToIndex","toIndex","MAX_SAFE_INTEGER","anchorIndex","anchorTimerId","targetTop","clearTimeout","setTimeout","scrollTop","offsetHeight","mayUseWheel","matchMedia","matches","wheelCatched","syncViewport","listEl","isHideByVShow","el","cursor","style","parentElement","listStyle","keyToIndex","pxfy","boxSizing","minHeight","visibleItemsStyle","transform","itemsElRef","handleListResize","entry","target","contentRect","handleListScroll","_a","call","handleListWheel","deltaX","deltaY","scrollHeight","preventDefault","beforeNextFrameOnce","handleItemResize","_b","_c","previousHeight","borderBoxSize","blockSize","delete","delta","previousHeightSum","scrollBy","render","VResizeObserver","mergeProps","$attrs","class","assign","itemVNode","$slots","empty","hiddenAttr","VOverflow","getCounter","getTail","updateCounter","onUpdateOverflow","slots","selfRef","counterRef","deriveCounter","self","counter","hasAttribute","removeAttribute","children","containerWidth","offsetWidth","childWidths","tail","childWidthSum","len","child","setAttribute","childWidth","j","restCount","textContent","counterWidth","maxWidth","sync","nextTick","renderSlot","useOnResize","elRef","resizeObserverManager","registerHandler","onBeforeUnmount","unregisterHandler","FinishedIcon","xmlns","viewBox","fill","d","EmptyIcon","FocusDetector","onFocus","onBlur","tabindex","style$6","cB","cE","NEmpty","useTheme","description","showDescription","showIcon","size","renderIcon","mergedClsPrefixRef","inlineThemeDisabled","useConfig","themeRef","emptyLight","localeRef","useLocale","NConfigProvider","inject","configProviderInjectionKey","mergedDescriptionRef","mergedComponentPropsRef","Empty","mergedRenderIconRef","cssVarsRef","common","cubicBezierEaseInOut","createKey","iconSize","fontSize","textColor","iconColor","extraTextColor","themeClassHandle","useThemeClass","hash","mergedClsPrefix","mergedRenderIcon","localizedDescription","cssVars","themeClass","onRender","icon","NBaseIcon","clsPrefix","extra","NSelectOption","tmNode","valueRef","pendingTmNodeRef","multipleRef","valueSetRef","renderLabelRef","renderOptionRef","labelFieldRef","valueFieldRef","showCheckmarkRef","nodePropsRef","handleOptionClick","handleOptionMouseEnter","internalSelectionMenuInjectionKey","isPendingRef","pendingTmNode","multiple","isGrouped","parent","rawNode","showCheckmark","nodeProps","isPending","isSelected","optionValue","valueSet","labelField","renderLabel","renderOption","handleMouseMove","disabled","handleMouseEnter","handleClick","checkmark","show","Transition","CheckmarkIcon","renderCheckMark","attrs","node","onClick","onMouseenter","onMousemove","option","selected","NSelectGroupHeader","style$5","cM","cNotM","fadeInScaleUpTransition","enterScale","NInternalSelectMenu","scrollable","treeMate","autoPending","virtualScroll","valueField","loading","focusable","onMousedown","onKeyup","onKeydown","onTabOut","onMouseleave","resetMenuOnOptionsChange","onToggle","internalSelectMenuLight","toRef","virtualListRef","scrollbarRef","flattenedNodesRef","getFlattenedNodes","fIndexGetterRef","createIndexGetter","pendingNodeRef","clearPendingNodeIfInvalid","pendingNode","getNode","initPendingNodeWatchStopHandle","watch","defaultPendingNode","getFirstAvailableNode","setPendingTmNode","scrollToPendingNode","immediate","itemSizeRef","paddingRef","getPadding","isArray","Set","emptyRef","tmNodes","doScroll","fIndex","elSize","provide","doToggle","internalSelectionMenuBodyInjectionKey","borderRadius","color","groupHeaderTextColor","actionDividerColor","optionTextColorPressed","optionTextColor","optionTextColorDisabled","optionTextColorActive","optionOpacityDisabled","optionCheckColor","actionTextColor","optionColorPending","optionColorActive","loadingColor","loadingSize","optionColorActivePending","optionHeight","optionPadding","exposedProps","next","getNext","loop","prev","getPrev","getPendingTmNode","mergedTheme","padding","flattenedNodes","virtualListContainer","virtualListContent","handleFocusin","contains","handleFocusout","relatedTarget","handleKeyUp","happensIn","handleKeyDown","handleMouseDown","handleVirtualListResize","handleVirtualListScroll","onFocusin","onFocusout","NInternalLoading","strokeWidth","resolveSlot","theme","peers","themeOverrides","peerOverrides","NScrollbar","Scrollbar","container","content","VirtualList","bottom","isGroup","ignored","resolveWrappedSlot","action","NFocusDetector","style$4","status","NInternalSelection","bordered","active","pattern","placeholder","selectedOption","selectedOptions","filterable","clearable","autofocus","showArrow","inputProps","focused","renderTag","onDeleteOption","maxTagCount","onClear","onPatternInput","onPatternFocus","onPatternBlur","ignoreComposition","patternInputMirrorRef","patternInputRef","multipleElRef","singleElRef","patternInputWrapperRef","counterWrapperRef","overflowRef","inputTagElRef","showTagsPopoverRef","patternInputFocusedRef","hoverRef","internalSelectionLight","mergedClearableRef","filterablePlaceholderRef","handleClose","labelRef","selectedRef","syncMirrorWidth","patternInputMirrorEl","patternInputEl","doPatternInput","handleDeleteOption","doDeleteOption","inputTagEl","isComposingRef","cachedInputEvent","enterTimerId","clearEnterTimer","watchEffect","patternInputWrapperEl","tabIndex","placeholderColor","paddingSingle","paddingMultiple","caretColor","colorDisabled","textColorDisabled","placeholderColorDisabled","colorActive","boxShadowFocus","boxShadowActive","boxShadowHover","border","borderFocus","borderHover","borderActive","arrowColor","arrowColorDisabled","colorActiveWarning","boxShadowFocusWarning","boxShadowActiveWarning","boxShadowHoverWarning","borderWarning","borderFocusWarning","borderHoverWarning","borderActiveWarning","colorActiveError","boxShadowFocusError","boxShadowActiveError","boxShadowHoverError","borderError","borderFocusError","borderHoverError","borderActiveError","clearColor","clearColorHover","clearColorPressed","clearSize","arrowSize","mergedClearable","patternInputFocused","filterablePlaceholder","label","showTagsPanel","isComposing","doFocus","handleClear","doClear","handleMouseLeave","handlePatternKeyDown","handlePatternInputInput","inputText","handlePatternInputBlur","handlePatternInputFocus","handleMouseEnterCounter","handleMouseLeaveCounter","doBlur","handleCompositionEnd","handleCompositionStart","onPopoverUpdateShow","focus","focusInput","blur","multipleEl","singleEl","blurInput","count","setTextContent","maxTagCountResponsive","maxTagCountNumeric","useMaxTagCount","suffix","Wrapper","Suffix","showClear","arrow","body","createTag","NTag","closable","onClose","internalCloseIsButtonTag","internalCloseFocusable","createOriginalTagNodes","slice","input","onInput","onCompositionstart","onCompositionend","renderCounter","rest","tags","concat","renderPopover","popoverProps","trigger","overlap","placement","onUpdateShow","Popover","popoverTrigger","Fragment","NPopover","hasInput","showPlaceholder","showSelectedLabel","readonly","title","getIsGroup","getIgnored","patternMatched","toString","toLowerCase","indexOf","trim","err","style$3","NInputGroup","useStyle","getModeFromValue","test","includes","convert","rgb","hex","toHexaString","rgba","hsl","toHslaString","hsv","toHsvaString","toRgbaString","hsla","hsva","convertColor","mode","originalMode","HANDLE_SIZE","RADIUS","HueSlider","hue","onUpdateHue","onComplete","railRef","railEl","getBoundingClientRect","newHue","clientX","round","handleMouseUp","off","document","on","boxShadow","backgroundImage","right","backgroundColor","AlphaSlider","alpha","onUpdateAlpha","newAlpha","railBackgroundImage","Pallete","displayedHue","displayedSv","onUpdateSV","palleteRef","palleteEl","newV","clientY","newS","normalizedNewS","normalizedNewV","handleColor","colorPickerInjectionKey","createInjectionKey","inputThemeOverrides","paddingSmall","ColorInputUnit","showAlpha","onUpdateValue","inputValueRef","getInputString","inputValue","handleInputChange","unit","valid","trimmedValue","normalizeHexaUnit","parseInt","normalizeHueUnit","normalizeSlvUnit","normalizeAlphaUnit","normalizeRgbUnit","handleInputUpdateValue","NInput","Input","builtinThemeOverrides","onChange","ColorInput","modes","valueArr","onUpdateMode","handleUnitUpdateValue","toHexString","nextValueArr","from","toHsvString","toRgbString","toHslString","toUpperCase","hexValue","unitValue","split","ColorPickerTrigger","colorPickerSlots","normalizeColor","ColorPickerSwatches","swatches","onUpdateColor","normalizeOutput","parsed","modeProp","swatchColorMode","ctx","createElement","getContext","fillStyle","getHexFromName","warn","handleSwatchSelect","parsedSwatchesRef","legalValue","handleSwatchKeyDown","swatch","background","ColorPreview","validator","handleChange","stopPropagation","style$2","NColorPicker","defaultShow","defaultValue","to","useAdjustedTo","propTo","showPreview","actions","internalActions","onConfirm","upcomingValue","formItem","useFormItem","mergedSizeRef","mergedDisabledRef","namespaceRef","colorPickerLight","uncontrolledShowRef","mergedShowRef","useMergedState","doUpdateShow","_onUpdateShow","uncontrolledValueRef","deriveDefaultValue","mergedValueRef","undoStackRef","valueIndexRef","valueModeRef","displayedModeRef","handleUpdateDisplayedMode","displayedMode","currentModeIndex","findIndex","_h","hsvaRef","mergedValue","rgbaRef","hslaRef","mergedValueArrRef","displayedHueRef","displayedAlphaRef","displayedSvRef","handleUpdateSv","hsvaArr","doUpdateValue","handleUpdateHue","handleUpdateAlpha","updateSource","nTriggerFormChange","nTriggerFormInput","_onUpdateValue","handleComplete","pushStack","undoStack","valueIndex","splice","undo","redo","handleConfirm","undoableRef","redoableRef","mergedSize","panelFontSize","dividerColor","namespace","mergedShow","mergedDisabled","isMounted","useIsMounted","adjustedTo","handleTriggerClick","handleClickOutside","getPreciseEventTarget","renderPanel","onDragstart","NButton","Button","confirm","clear","VBinder","VTarget","VFollower","containerClass","teleportDisabled","tdkey","appear","withDirectives","clickoutside","capture","style$1","originalTransition","NSelect","clearFilterAfterSelect","keyboard","menuProps","remote","widthMode","tag","onCreate","fallbackOption","consistentMenuWidth","childrenField","showOnFocus","onSearch","displayDirective","warnOnce","mergedBorderedRef","selectLight","controlledValueRef","focusedRef","patternRef","treeMateRef","getKey","getChildren","createTmOptions","createTreeMate","filteredOptionsRef","valOptMapRef","valOptMap","selectGroupOption","createValOptMap","localOptionsRef","triggerRef","followerRef","menuRef","localizedPlaceholderRef","compitableOptionsRef","useCompitable","emptyArray","createdOptionsRef","beingCreatedOptionsRef","memoValOptMapRef","wrappedFallbackOptionRef","resolvedFilterRef","localOptions","originalOpts","traverse","filteredOptions","filterOptions","getMergedOptions","values","memoValOptMap","wrappedFallbackOption","selectedOptionsRef","selectedOptionRef","mergedStatusRef","nTriggerFormBlur","updateMemorizedOptions","openMenu","closeMenu","handleMenuAfterLeave","activeWithoutMenuOpenRef","handleToggleByTmNode","handleToggleByOption","beingCreatedOptions","beingCreatedOption","createdOptions","changedValue","createClearedMultipleSelectValue","createdOptionIndex","getCreatedOptionIndex","createdOption","handleKeydown","_d","_e","some","focusSelection","focusSelectionInput","exposedMethods","menuBoxShadow","mergedStatus","mergedBordered","uncontrolledShow","uncontrolledValue","localizedPlaceholder","activeWithoutMenuOpen","onTriggerInputFocus","onTriggerInputBlur","handleTriggerOrMenuResize","syncPosition","handleMenuFocus","handleMenuBlur","$el","handleMenuTabOut","handleToggle","handlePatternInput","doSearch","optionBeingCreated","handleTriggerBlur","handleTriggerFocus","nTriggerFormFocus","handleMenuClickOutside","handleMenuScroll","handleMenuKeydown","handleMenuMousedown","InternalSelection","onAfterLeave","InternalSelectMenu","vShow","radioLight$1","commonLight","vars","borderColor","primaryColor","baseColor","inputColorDisabled","textColor2","opacityDisabled","fontSizeSmall","fontSizeMedium","fontSizeLarge","heightSmall","heightMedium","heightLarge","lineHeight","commonVariables","labelLineHeight","buttonHeightSmall","buttonHeightMedium","buttonHeightLarge","changeColor","boxShadowDisabled","dotColorActive","dotColorDisabled","buttonBorderColor","buttonBorderColorActive","buttonBorderColorHover","buttonColor","buttonColorActive","buttonTextColor","buttonTextColorActive","buttonTextColorHover","buttonBoxShadowFocus","buttonBoxShadowHover","buttonBoxShadow","buttonBorderRadius","radioProps","checked","defaultChecked","onUpdateChecked","checkedValue","radioGroupInjectionKey","NFormItem","NRadioGroup","disabledRef","inputRef","uncontrolledCheckedRef","controlledCheckedRef","mergedCheckedRef","renderSafeCheckedRef","mergedNameRef","nameRef","focusRef","toggle","_onUpdateChecked","mergedName","uncontrolledChecked","renderSafeChecked","handleRadioInputChange","handleRadioInputBlur","handleRadioInputFocus","opacity","selfElRef","mergedRtlRef","radioLight","rtlEnabledRef","useRtl","rtlEnabled","selfEl","isButtonGroup","defaultSlot","wrappedInstance","instanceProps","lastInstanceProps","lastInstanceChecked","lastInstanceDisabled","currentInstanceChecked","currentInstanceDisabled","splitorClass","mapSlot","flatten","getSlot"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40]}