{"version":3,"file":"index-e03cb72e.js","sources":["../../../src/store/editor/index.ts"],"sourcesContent":["import { Primitive } from '@/primitives/primitive'\n\nexport const useEditorStore = defineStore('editor', () => {\n  const primitives = ref<Primitive[]>([])\n  const curPrimitive = ref<Primitive | null>(null)\n  const isClickPrimitive = ref<boolean>(false)\n\n  /**\n   * 添加primitive到画布编辑器\n   * @param val Primitive\n   */\n  const addPrimitive = (val: Primitive) => {\n    primitives.value.push(val)\n  }\n\n  /**\n   * 设置当前选中的primitive\n   * @param val Primitive\n   */\n  const setCurPrimitive = (val: Primitive | null) => {\n    curPrimitive.value = val\n  }\n\n  /**\n   * 删除当前选中的primitive\n   */\n  const deleteCurPrimitive = () => {\n    const index = curPrimitiveIndex.value\n\n    if (index > -1) primitives.value.splice(index, 1)\n    curPrimitive.value = null\n  }\n\n  /**\n   * 设置当前是否点击primitive的状态\n   * @param status Boolean\n   */\n  const setClickPrimitiveStatus = (status: boolean) => {\n    isClickPrimitive.value = status\n  }\n\n  /**\n   * 当前选中primitive在数组中的下标\n   */\n  const curPrimitiveIndex = computed(() =>\n    primitives.value.findIndex(({ id }) => id === curPrimitive.value?.id)\n  )\n\n  /**\n   * 移动当前选中Primitive位置\n   * @param toIndex Number\n   */\n  const moveCurPrimitiveByIndex = (toIndex: number) => {\n    const indexToMove = curPrimitiveIndex.value\n    const [valueToMove] = primitives.value.splice(indexToMove, 1)\n    primitives.value.splice(indexToMove + toIndex, 0, valueToMove)\n  }\n\n  return {\n    primitives,\n    curPrimitive,\n    isClickPrimitive,\n    addPrimitive,\n    deleteCurPrimitive,\n    setCurPrimitive,\n    setClickPrimitiveStatus,\n    moveCurPrimitiveByIndex\n  }\n})\n"],"names":["useEditorStore","defineStore","primitives","ref","curPrimitive","isClickPrimitive","curPrimitiveIndex","computed","value","findIndex","id","_a","addPrimitive","val","push","deleteCurPrimitive","index","splice","setCurPrimitive","setClickPrimitiveStatus","status","moveCurPrimitiveByIndex","toIndex","indexToMove","valueToMove"],"mappings":"uDAEO,MAAAA,EAAAC,EAAA,UAAA,KACL,MAAAC,EAAAC,EAAA,IACAC,EAAAD,EAAA,MACAE,EAAAF,GAAA,GAuCAG,EAAAC,GAA0B,IAAAL,EAAAM,MAAAC,WAAA,EAAAC,eAAA,OAAAA,KAAA,OAAAC,EAAAP,EAAAI,YAAA,EAAAG,EAAAD,GAAA,MAc1B,MAAA,CAAOR,aACLE,eACAC,mBACAO,aAlDFC,IACEX,EAAAM,MAAAM,KAAAD,EAAA,EAkDAE,mBApCF,KACE,MAAAC,EAAAV,EAAAE,MAEAQ,GAAA,GAAgBd,EAAAM,MAAAS,OAAAD,EAAA,GAChBZ,EAAAI,MAAA,IAAA,EAiCAU,gBA5CFL,IACET,EAAAI,MAAAK,CAAA,EA4CAM,wBA3BFC,IACEf,EAAAG,MAAAY,CAAA,EA2BAC,wBAbFC,IACE,MAAAC,EAAAjB,EAAAE,OACAgB,GAAAtB,EAAAM,MAAAS,OAAAM,EAAA,GACArB,EAAAM,MAAAS,OAAAM,EAAAD,EAAA,EAAAE,EAAA,EAWA"}